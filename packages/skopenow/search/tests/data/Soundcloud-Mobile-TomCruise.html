
<!DOCTYPE html><html lang="en"><head> <script>(function(){var e=window.location;/^m\..+\.com$/.test(e.host)&&!/iphone|ipod|android|mobile/i.test(navigator.userAgent)&&e.replace(e.href.replace(/m\./,""))})()</script> <meta charset="utf-8"> <link rel="dns-prefetch" href="//api-mobi.soundcloud.com"> <link rel="dns-prefetch" href="//api-mobileweb.soundcloud.com"> <link rel="dns-prefetch" href="//sb.scorecardresearch.com"> <link rel="dns-prefetch" href="//eventlogger.soundcloud.com"> <link rel="dns-prefetch" href="//api.soundcloud.com"> <link rel="dns-prefetch" href="//i1.sndcdn.com"> <link rel="dns-prefetch" href="//i2.sndcdn.com"> <link rel="dns-prefetch" href="//i3.sndcdn.com"> <link rel="dns-prefetch" href="//i4.sndcdn.com"> <link rel="dns-prefetch" href="//w1.sndcdn.com"> <link rel="dns-prefetch" href="//wis.sndcdn.com"> <script> var __sc_dpi; (function(){ var dpr = window.devicePixelRatio; __sc_dpi = dpr >= 2 ? 'hdpi' : dpr > 1 ? 'mdpi' : 'ldpi'; }());</script><script> (function(){ var el; el = document.createElement('style'); el.innerHTML = '.errorVisual{background:url(https://m.soundcloud.com/assets/images/ldpi/errors/500-a53573d7.png) 0 0 no-repeat;background-size:448px 80px}.errorVisual.error__404{background-image:url(https://m.soundcloud.com/assets/images/ldpi/errors/404-a53573d7.png);background-size:420px 120px}'.replace(/\/ldpi\//g, '/' + __sc_dpi + '/');document.querySelector('head').appendChild(el); }());</script><script> (function(){ var el = document.createElement('style'); el.innerHTML = '.sc-ir{border:0;font:0/0 a;text-shadow:none;color:transparent;background-color:transparent}.sc-hidden{display:none!important;visibility:hidden}.sc-visuallyhidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.sc-visuallyhidden.sc-focusable:active,.sc-visuallyhidden.sc-focusable:focus{clip:auto;height:auto;margin:0;overflow:visible;position:static;width:auto}.sc-invisible{visibility:hidden}.sc-media,.sc-media-content,.sc-media-body{overflow:hidden}.sc-media-image,.sc-media-left{float:left;margin-right:10px}.sc-media-extra,.sc-media-right{float:right;margin-left:10px}.sc-media-image img,.sc-media-extra img,.sc-media-object,.sc-media-image .sc-artwork,.sc-media-extra .sc-artwork{display:block}.sc-text{color:#333}.sc-text-light{color:#999}.sc-text-verylight{color:#ccc}.sc-text-link{color:#38d}.sc-text-orange{color:#f50}.sc-border-dark{border:1px solid #e5e5e5}.sc-border-dark-top{border-top:1px solid #e5e5e5}.sc-border-dark-right{border-right:1px solid #e5e5e5}.sc-border-dark-bottom{border-bottom:1px solid #e5e5e5}.sc-border-dark-left{border-left:1px solid #e5e5e5}.sc-border-light{border:1px solid #f2f2f2}.sc-border-light-top{border-top:1px solid #f2f2f2}.sc-border-light-right{border-right:1px solid #f2f2f2}.sc-border-light-bottom{border-bottom:1px solid #f2f2f2}.sc-border-light-left{border-left:1px solid #f2f2f2}.sc-border-orange{border:1px solid #f50}.sc-border-orange-top{border-top:1px solid #f50}.sc-border-orange-right{border-right:1px solid #f50}.sc-border-orange-bottom{border-bottom:1px solid #f50}.sc-border-orange-left{border-left:1px solid #f50}.sc-truncate{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;word-break:normal}.sc-selection-text{-webkit-user-select:text;-khtml-user-select:text;-moz-user-select:text;-o-user-select:text;user-select:text;cursor:auto}.sc-selection-disabled{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none;cursor:default;outline:0}.sc-snippet-badge{text-transform:uppercase;font-family:"Interstate","Lucida Grande","Lucida Sans Unicode","Lucida Sans",Garuda,Verdana,Tahoma,sans-serif;font-weight:100;font-size:14px;border:1px solid;padding:0 .5em;display:inline;color:#000}.sc-snippet-badge-small{font-size:10px}.sc-snippet-badge-medium{font-size:12px;padding-bottom:1px}.sc-snippet-badge-light{color:#fff}.sc-snippet-badge-grey{color:#666;border-color:#ccc}*,:before,:after{-webkit-tap-highlight-color:rgba(0,0,0,0);margin:0;padding:0;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas{display:inline-block}html{font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;height:100%}body{height:100%}a{text-decoration:none}ul,li{list-style:none}img{border:0}svg:not(:root){overflow:hidden}button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}button,input{line-height:normal}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}input[type="checkbox"],input[type="radio"]{padding:0}input[type="search"]{-webkit-appearance:none}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}h1,h2,h3,h4,h5,h6{font-weight:400}.g-moving-element{will-change:transform;transform:translateZ(0)}.g-box-full{display:block;width:100%;height:100%;position:relative}.g-z-index-hidden{z-index:-1}.g-z-index-banner{z-index:1}.g-z-index-upsell{z-index:2}.g-z-index-header{z-index:3}.g-z-index-overlay{z-index:4}.g-z-index-app-loading{z-index:5!important}.g-image-fill{height:0;padding-bottom:100%}.g-background-cover{background-size:cover;background-position:50% 50%;background-repeat:none;height:100%;width:100%}.g-icon:before{float:left;content:\'\';background-repeat:no-repeat;background-position:0 0;margin-top:2px;margin-right:4px}.g-transition-fade{-webkit-transition:opacity .25s;transition:opacity .25s}.g-transition-fade-out{opacity:0}.g-transition-fade-in{opacity:1}.g-transition-translate{-webkit-transition:-webkit-transform .25s cubic-bezier(.645,.045,.355,1),opacity .25s cubic-bezier(.645,.045,.355,1);transition:transform .25s cubic-bezier(.645,.045,.355,1),opacity .25s cubic-bezier(.645,.045,.355,1)}.g-transition-slide-top-in{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}.g-transition-slide-top-out{-webkit-transform:translateY(-100%);transform:translateY(-100%);opacity:0}.g-font-10{font-size:10px;line-height:12px}.g-font-12{font-size:12px;line-height:15px}.g-font-14{font-size:14px;line-height:16px}.g-font-16{font-size:16px;line-height:19px}.g-font-20{font-size:20px;line-height:22px}.g-type-shrinkwrap-inline{display:inline;background:rgba(0,0,0,.8);color:#fff;padding:1px 0;box-shadow:-6px 0 0 rgba(0,0,0,.8),6px 0 0 rgba(0,0,0,.8);-webkit-font-smoothing:antialiased}.g-type-bucket-title{padding:0 10px;line-height:55px;border-bottom:1px solid #f2f2f2;background:#fff}.g-button{display:inline-block;position:relative;height:26px;margin:0;padding:2px 10px;border:1px solid rgb(225,225,225);border-radius:3px;background-color:#fcfcfc;cursor:pointer;overflow:hidden;color:#333;font-size:14px;line-height:20px;white-space:nowrap;text-align:center;vertical-align:baseline;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.g-button-nostyle,.g-button-nostyle:hover,.g-button-nostyle:focus,.g-button-nostyle:active{border:0;background:none;text-shadow:none;-webkit-box-shadow:none;box-shadow:none;-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.g-button-large{font-size:16px;line-height:18px;padding:10px 15px;height:40px}.g-button-cta,.g-button-cta:active,.g-button-cta:hover,.g-button-cta:focus,.g-button-cta:visited{background-color:#f50;border-color:#f50;color:#fff}.errorPage{background:#efefef;height:100%}.errorPage__inner{height:100%;position:relative;text-align:center;overflow:hidden}.errorVisual{position:absolute;left:50%;top:96px;width:448px;height:80px;margin-left:-86px}.errorVisual.error__404{top:56px;width:420px;height:120px;margin-left:-60px}.errorMessage{padding-top:228px}.errorTitle{padding:0 10px;color:#666}.errorText{margin-top:18px;color:#666}.g-touch-padding{position:relative}.g-touch-padding:before{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;content:\'\';position:absolute;left:0;top:0;padding:12px;margin:-12px 0 0 -12px;width:100%;height:100%}.g-native-scroll{width:100%;height:100%;position:fixed;overflow:scroll;-webkit-overflow-scrolling:touch}.g-list-wrapper{border-top:1px solid #ccc;border-bottom:1px solid #ccc}.g-list .g-list-item{border-top:1px solid #f2f2f2}.g-list .g-list-item:first-child{border-top:0}.g-list-vertical .g-list-item{float:left;margin:0 0 0 10px;border-top:0}.g-badge{position:relative}.g-badge-link{display:block;overflow:hidden;padding:15px 10px}.promoted>.g-badge-link{height:111px}.g-badge-stats{overflow:hidden}.g-badge-link{background:#fff}.g-badge-link:active{background:#f2f2f2}.g-badge-info{min-height:60px}.g-badge-username{color:#999;font-weight:400;padding:0 65px 4px 0}.g-badge-title{padding:0 0 10px;color:#333}.g-badge-title-disabled{color:#ccc}.g-badge-playing-indicator{color:#f50;font-size:12px}.g-badge-geoblocked-indicator,.g-badge-reposted-indicator{color:#999;font-size:12px}.g-badge-playing-indicator:before{width:12px;height:10px;background-image:url(https://m.soundcloud.com/assets/images/ldpi/badge/nowplaying-abecd0c3.png);background-size:100% auto}.g-badge-reposted-indicator:before{margin-top:4px;width:16px;height:8px;background-image:url(https://m.soundcloud.com/assets/images/ldpi/badge/reposted-a4945913.png);background-size:100% auto}.g-badge-geoblocked-indicator:before{width:10px;height:10px;background-image:url(https://m.soundcloud.com/assets/images/ldpi/badge/geoblocked-39ac6994.png);background-repeat:no-repeat;background-size:10px 10px}.g-badge-snippet{position:absolute;top:12px;right:10px}.g-badge-timecode{position:absolute;top:17px;right:10px;color:#999;font-size:12px}.g-badge-vertical.g-badge-link{margin:0;padding:15px 0;height:auto}.g-badge-vertical .g-badge-info{margin-top:12px}.g-play-indicator{background:#f50;height:3px;position:absolute;top:0;left:0;width:100%;-webkit-transition:-webkit-transform .1s linear;transition:transform .1s linear}.g-header-artwork-info{position:absolute;z-index:1;bottom:12px;left:18px;max-width:95%;margin-right:18px}.g-header-artwork-info-content{margin:0 0 4px}.g-header-artwork-image{position:relative}.g-header-artwork-controls{position:absolute;top:50%;left:0;right:0;height:80px;margin-top:-40px}.g-header-artwork-title{font-size:18px;line-height:24px}.g-header-artwork-title a{color:#fff}.g-header-artwork-text{color:#999;font-size:14px;line-height:19px}.g-play-button{position:absolute;pointer-events:auto;border:1px solid #fff;border-radius:40px;background:rgba(0,0,0,.25) url(https://m.soundcloud.com/assets/images/ldpi/player/play_pause_button-e03e9a61.png) 2px -80px no-repeat;background-size:80px 160px;width:80px;height:80px;left:50%;margin-left:-40px;-webkit-transition:background-color .1s ease-out,opacity 2s cubic-bezier(1,.01,.81,1);transition:background-color .1s ease-out,opacity 2s cubic-bezier(1,.01,.81,1)}.g-play-button:active{background-color:rgba(0,0,0,.5)}'.replace(/\/ldpi\//g, '/' + __sc_dpi + '/');document.querySelector('head').appendChild(el); }());</script></head><body><title>SoundCloud - Listen to music</title>  <link rel="canonical" href="https://soundcloud.com/"> <meta content="record, sounds, share, sound, audio, tracks, music, soundcloud" name="keywords"> <meta content="Explore the largest community of artists, bands, podcasters and creators of music &amp; audio" name="description"> <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1, user-scalable=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> <!--[if IE]> <meta content="true" name="MSSmartTagsPreventParsing"> <meta content="false" http-equiv="imagetoolbar"> <![endif]--> <meta content="19507961798" property="fb:app_id"> <meta content="SoundCloud" property="og:site_name"> <meta name="sc-loader" id="__sc-loader" content="https://m.soundcloud.com/assets/images/ldpi/loader-81295ad2.gif"> <link rel="shortcut icon" href="https://m.soundcloud.com/assets/images/sc-icons/favicon-9c79c761.ico"> <link rel="icon" href="https://m.soundcloud.com/assets/images/sc-icons/favicon_16-9c79c761.png"> <link rel="icon" sizes="32x32" href="https://m.soundcloud.com/assets/images/sc-icons/favicon_32-9c79c761.png"> <link rel="icon" sizes="64x64" href="https://m.soundcloud.com/assets/images/sc-icons/favicon_64-9c79c761.png"> <link rel="apple-touch-icon" sizes="57x57" href="https://m.soundcloud.com/assets/images/sc-icons/iphone_ios6-9c79c761.png"> <link rel="apple-touch-icon" sizes="114x114" href="https://m.soundcloud.com/assets/images/sc-icons/iphone_ios6@2x-9c79c761.png"> <link rel="apple-touch-icon" sizes="60x60" href="https://m.soundcloud.com/assets/images/sc-icons/iphone-9c79c761.png"> <link rel="apple-touch-icon" sizes="120x120" href="https://m.soundcloud.com/assets/images/sc-icons/iphone@2x-9c79c761.png"> <meta name="application-name" content="SoundCloud"> <meta name="msapplication-tooltip" content="Launch SoundCloud"> <!-- TODO <meta name="msapplication-TileImage" content="/assets/images/sc-icons/win8.png"> --> <meta name="msapplication-TileColor" content="#ff6600"> <meta name="msapplication-starturl" content="https://soundcloud.com"> <meta name="msapplication-tap-highlight" content="no"> <div id="app"> <!-- PLACEHOLDER The placeholder enhances the perceived loading time, it also permits people who are using an outdated browser or who don't have JS enabled to see at least the header and not a total blank page. Once the JS application is started this and everything else in #app gets overwritten --> <style>body{background:#f2f2f2}.header{height:44px;box-shadow:0 0 2px 0 rgba(0,0,0,.5);background:#fff}.header__logo{background:url(https://m.soundcloud.com/assets/images/hdpi/logo-881c7ae2.png) 0 50% no-repeat;background-size:128px 16px;width:128px;height:44px;margin:0 auto;display:block}#header__loading{position:absolute;top:14px;right:19px;margin-left:-6px;width:16px;height:16px;background:0 0 no-repeat;background-size:16px 16px}</style> <header id="header" class="header g-z-index-header"> <div class="header__content"> <span class="header__logo"></span> <div id="header__loading" class="sc-hidden"></div> </div> </header> <script>setTimeout(function(){var e=document.getElementById("header__loading");e&&(e.style.backgroundImage=document.getElementById("__sc-loader").content,e.className="")},5e3)</script> <noscript> <style> .errorVisual.error__javascript { top: 112px; width: 428px; height: 64px; margin-left: -70px; background: url(/assets/images/ldpi/errors/javascript.png) 0 0 no-repeat; background-size: 428px 64px; } @media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 1.5dppx), (min-resolution: 144dpi) { .errorVisual { background-image: url(/assets/images/mdpi/errors/javascript.png); } } @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 2dppx), (min-resolution: 192dpi) { .errorVisual { background-image: url(/assets/images/hdpi/errors/javascript.png); } } </style> <div class="errorPage__inner"> <div class="errorVisual error__javascript"></div> <div class="errorMessage"> <h1 class="errorTitle g-font-20">JavaScript is disabled</h1> <p class="errorText g-font-14">To continue, go to Settings and turn it on</p> </div> </div> </noscript> <noscript><footer>
  <div>
    <a href="/terms-of-use" title="Terms of use">"Legal"</a>&nbsp;-
    <a href="/pages/privacy" title="Privacy policy">"Privacy"</a>&nbsp;-
    <a href="/pages/cookies" title="Cookies policy">"Cookies"</a>&nbsp;-
    <a href="/imprint" title="Company information">"Imprint"</a>&nbsp;-
    <a href="/people/directory" title="People Directory">"Directory"</a>
  </div>
</footer>
</noscript> <div id="error__timeout" class="errorPage__inner sc-hidden"> <div class="errorVisual"></div> <div class="errorMessage"> <h1 class="errorTitle g-font-20">Something doesnâ€™t sound right.</h1> <p class="errorText g-font-14">Refresh the page to try again.</p> </div> </div> <script>function displayError(){var e=document.getElementById("error__timeout"),t=document.getElementById("header__loading");e&&t&&(e.className="errorPage__inner",t.className="sc-hidden")}setTimeout(displayError,15e3),window.onerror=displayError</script> </div> <script>var requirejs,require,define;(function(e){function c(e,t){return f.call(e,t)}function h(e,t){var n,r,i,s,o,a,f,l,c,h,p=t&&t.split("/"),d=u.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(l=0;l<e.length;l+=1){h=e[l];if(h===".")e.splice(l,1),l-=1;else if(h===".."){if(l===1&&(e[2]===".."||e[0]===".."))break;l>0&&(e.splice(l-1,2),l-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(l=n.length;l>0;l-=1){r=n.slice(0,l).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=l;break}}}if(s)break;!a&&v&&v[r]&&(a=v[r],f=l)}!s&&a&&(s=a,o=f),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function p(t,r){return function(){return n.apply(e,l.call(arguments,0).concat([t,r]))}}function d(e){return function(t){return h(t,e)}}function v(e){return function(t){s[e]=t}}function m(n){if(c(o,n)){var r=o[n];delete o[n],a[n]=!0,t.apply(e,r)}if(!c(s,n)&&!c(a,n))throw new Error("No "+n);return s[n]}function g(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function y(e){return function(){return u&&u.config&&u.config[e]||{}}}var t,n,r,i,s={},o={},u={},a={},f=Object.prototype.hasOwnProperty,l=[].slice;r=function(e,t){var n,r=g(e),i=r[0];return e=r[1],i&&(i=h(i,t),n=m(i)),i?n&&n.normalize?e=n.normalize(e,d(t)):e=h(e,t):(e=h(e,t),r=g(e),i=r[0],e=r[1],i&&(n=m(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},i={require:function(e){return p(e)},exports:function(e){var t=s[e];return typeof t!="undefined"?t:s[e]={}},module:function(e){return{id:e,uri:"",exports:s[e],config:y(e)}}},t=function(t,n,u,f){var l,h,d,g,y,b=[],w;f=f||t;if(typeof u=="function"){n=!n.length&&u.length?["require","exports","module"]:n;for(y=0;y<n.length;y+=1){g=r(n[y],f),h=g.f;if(h==="require")b[y]=i.require(t);else if(h==="exports")b[y]=i.exports(t),w=!0;else if(h==="module")l=b[y]=i.module(t);else if(c(s,h)||c(o,h)||c(a,h))b[y]=m(h);else{if(!g.p)throw new Error(t+" missing "+h);g.p.load(g.n,p(f,!0),v(h),{}),b[y]=s[h]}}d=u.apply(s[t],b);if(t)if(l&&l.exports!==e&&l.exports!==s[t])s[t]=l.exports;else if(d!==e||!w)s[t]=d}else t&&(s[t]=u)},requirejs=require=n=function(s,o,a,f,l){return typeof s=="string"?i[s]?i[s](o):m(r(s,o).f):(s.splice||(u=s,o.splice?(s=o,o=a,a=null):s=e),o=o||function(){},typeof a=="function"&&(a=f,f=l),t(e,s,o,a),n)},n.config=function(e){return u=e,u.deps&&n(u.deps,u.callback),n},define=function(e,t,n){t.splice||(n=t,t=[]),!c(s,e)&&!c(o,e)&&(o[e]=[e,t,n])},define.amd={jQuery:!0}})(),define.unordered=!0,Function.prototype.bind||(Function.prototype.bind=function(e){var t=Array.prototype.slice,n=t.call(arguments,1),r=this,i=function(){},s=function(){if(i.prototype&&this instanceof i){var s=r.apply(new i,n.concat(t.call(arguments)));return Object(s)===s?s:r}return r.apply(e,n.concat(t.call(arguments)))};return i.prototype=r.prototype,s.prototype=new i,s}),function(){var e=!1;this.Class=function(){},Class.extend=function(t){function u(){if(!e&&this.initialize)return this.initialize.apply(this,arguments)}var n,r,i,s;e=!0;var o=new this;e=!1,Object.prototype.toString.call(t)!=="[object Array]"?s=[t]:s=t;for(r=0,i=s.length;r<i;++r){t=s[r];for(n in t)o[n]=t[n]}return u.prototype=o,u.prototype.constructor=u,u.extend=arguments.callee,u}}(),
define("application",["require","exports","module","$","underscore","api-wrapper","views/app","lib/backbone","config","lib/error-reporting","lib/connect","lib/helpers/client-environment-helper","lib/event-bus","lib/deferred-loader","lib/persistent-store","lib/play-manager","lib/pointer-events","collections/related-sounds","router","shared/config/route-builders","shared/config/routes","lib/tracking/tracking-core","lib/url","models/user","lib/console-box"],function(e,t,n){function C(){E.destroy()}function k(){var e,t,n=S.getQueryParams(window.location.search)["rollouts.internal_qa"]==="true";e=new y,e.setRoutes(w,b),t=new o({el:"#app"}),E.initialize(),a.set("internal_qa",n).set("router",e).set("me",L()).set("appView",t.render()),u.history.start({pushState:!0})}function L(){var e=new x;return e.on("change",function(){T.set("me",i.extend({lastFetchTime:e.lastFetchTime},e.attributes))}),e}function A(e){if(!l.isLoggedIn())return h.once("connect:login",A),r.Deferred().reject();var t=a.get("me"),n=T.get("me"),i=arguments[1],s;return t.baseUrl="me",e===undefined&&(e=2),i||(i=r.Deferred().done(function(){x.instances.add(t),h.trigger("connect:hasUserData")})),n?(s=n.lastFetchTime||Date.now(),delete n.lastFetchTime,t.lastFetchTime=s,t.set(n),i.resolve()):t.fetch().done(i.resolve).fail(function(t){t.status===401?(l.logout(),i.reject(t)):e?A(e-1,i):i.reject(t)}),i}function O(){var e=document.createElement("iframe");e.className="sc-visuallyhidden",e.src="/"+c.dpi+".html",document.body.appendChild(e)}var r=e("$"),i=e("underscore"),s=e("api-wrapper"),o=e("views/app"),u=e("lib/backbone"),a=e("config"),f=e("lib/error-reporting"),l=e("lib/connect"),c=e("lib/helpers/client-environment-helper").device,h=e("lib/event-bus"),p=e("lib/deferred-loader"),d=e("lib/persistent-store"),v=e("lib/play-manager"),m=e("lib/pointer-events"),g=e("collections/related-sounds"),y=e("router"),b=e("shared/config/route-builders"),w=e("shared/config/routes"),E=e("lib/tracking/tracking-core"),S=e("lib/url"),x=e("models/user"),T=new d("auth"),N=n.exports={start:function(t,n){a.set("app_version",t),f.initialize(),m.init(),O(),v.setFallbackSource(g,function(e){return y.getRoute("listen",e)}),s.init(),n&&p.setPackageMap(n),A().always(k),r(window).on("unload",C)}};window.debugMessage=function(){}}),
define("$",["require","exports","module","underscore","vendor/underscore.deferred/underscore.deferred","domify","lib/dollar/dollar-ajax","lib/dollar/dollar-attrs","lib/dollar/dollar-events","lib/dollar/dollar-manipulation","lib/dollar/dollar-matches","lib/dollar/dollar-traversal"],function(e,t,n){var r=e("underscore"),i=e("vendor/underscore.deferred/underscore.deferred"),s=e("domify"),o=e("lib/dollar/dollar-ajax"),u=e("lib/dollar/dollar-attrs"),a=e("lib/dollar/dollar-events"),f=e("lib/dollar/dollar-manipulation"),l=e("lib/dollar/dollar-matches"),c=e("lib/dollar/dollar-traversal"),h=n.exports=function p(e,t){if(this instanceof h){var n;return t=t||document,e instanceof p||e instanceof Array?n=e:e instanceof HTMLElement||e===window||e===document?n=[e]:e instanceof HTMLCollection||e instanceof NodeList?n=r.toArray(e):typeof e=="string"&&e.charAt(0)==="<"?n=r.toArray([s(e)[0]]):typeof e=="string"?n=r.toArray(t.querySelectorAll(e)):n=[],[].forEach.call(n,function(e,t){this[t]=e},this),this.length=n.length,this.splice=Array.prototype.splice,this}return new h(e,t)};h.prototype.each=function(e,t){for(var n=0;n<this.length;n++)e.call(t||this[n],this[n],n);return this},r.extend(h.prototype,u,a.prototypeMethods,f,c),h.Event=a.Event,h.matches=l,h.noop=function(){},h.ajax=o,["get","post","getJSON"].forEach(function(e){h[e]=o[e]}),h.getScripts=window.__sc_getScripts,delete window.__sc_getScripts,h.Deferred=i.Deferred,h.when=i.when,h.Callbacks=i.Callbacks}),
define("underscore",["require","exports","module","vendor/underscore"],function(e,t,n){var r=e("vendor/underscore");r.mixin({proxy:function(e,t){Array.prototype.slice.call(arguments,2).forEach(function(n){if(typeof e[n]!="function")throw new Error("Proxy source has no method named "+n);t[n]=e[n].bind(e)})},constant:function(e){return function(){return e}},deepExtend:function(e){var t=Array.prototype.slice;return r.each(t.call(arguments,1),function(t){if(!t)return;for(var n in t)r.isArray(e[n])&&r.isArray(t[n])?e[n]=r.union(e[n],t[n]):r.isObject(e[n])&&r.isObject(t[n])?e[n]=r.deepExtend({},e[n],t[n]):e[n]=t[n]}),e}}),n.exports=r}),
define("api-wrapper",["require","exports","module","$","underscore","config","lib/url"],function(e,t,n){function c(e){var t=e.url,n=h(t),r=p(t);return!n&&!r?e:(n&&(t=s.get("api_host")+t.replace(a,"")),e.crossDomain=!0,e.url=o.modify(t,{scheme:"https",query:{client_id:s.get("client_id"),format:"json",app_version:s.get("app_version")}}),e)}function h(e){return!u.test(e)||e.indexOf(s.get("api_host"))===0}function p(e){var t=new RegExp([s.get("bff_api_host"),s.get("api_web_host")].join("|"));return t.test(e)}var r=e("$"),i=e("underscore"),s=e("config"),o=e("lib/url"),u=/^https?/,a=/^https?:\/\/.+?\//,f={likes:"favorites",groups:"groups",people:"users",sound:"track",sounds:"tracks"},l=n.exports={init:i.once(function(){var e=r.ajax;r.ajax=function(t){return e(c(t))}}),toAPIResource:function(e){return f[e]||e}}}),
define("views/app",["require","exports","module","$","underscore","lib/helpers/client-environment-helper","config","lib/event-bus","lib/layouts/fullheight","lib/views/loading","lib/play-manager","lib/support","lib/view","lib/helpers/viewport-helper","views/app.css","views/app.tmpl"],function(e,t,n){function y(e){if(e.defaultPrevented||e.target.target)return;e.originalEvent.preventDefault(),o.get("router").navigate(e.currentTarget.getAttribute("href"),!0)}function b(e){var t=this.getElement("loading");this.$el.toggleClass("show-throbber",e),e?(this._loadingView=new l({size:"fullscreen"}),this.addSubview(this._loadingView,"loading"),t.addClass("g-z-index-app-loading"),t[0].appendChild(this._loadingView.render().el)):this.addDeferred(i.delay(function(){this._loadingView._dispose(),this.removeSubview(this._loadingView),t.removeClass("g-z-index-app-loading")}.bind(this),m))}function w(){this.toggleState("show-throbber",!0)}function E(e){this.toggleState("show-throbber",!1),x.call(this,e),T.call(this,e)}function S(e){e.fatal&&o.get("router").apply("error",{resource_id:e.id}),this.toggleState("show-throbber",!1),window.console.error(e.get("message")||e.get("title"))}function x(e){var t=e&&e.layout instanceof f,n={iPhone4Safari:!c.iOS7&&u.iPhone4&&s.safari,iPhone5Safari:!c.iOS7&&u.iPhone5&&s.safari};t?i.each(n,function(e,n){e&&this.$el.addClass(n,t)},this):i.each(n,function(e,t){this.$el.removeClass(t)},this),v.hideAddressBar(e)}function T(e){this.toggleState("display-mini-player",e.layoutName!=="listen"&&h.hasCurrentSound())}function N(e){this.toggleState("hide-upsell",e)}var r=e("$"),i=e("underscore"),s=e("lib/helpers/client-environment-helper").browser,o=e("config"),u=e("lib/helpers/client-environment-helper").device,a=e("lib/event-bus"),f=e("lib/layouts/fullheight"),l=e("lib/views/loading"),c=e("lib/helpers/client-environment-helper").os,h=e("lib/play-manager"),p=e("lib/support"),d=e("lib/view"),v=e("lib/helpers/viewport-helper"),m=500,g=n.exports=d.extend({css:e("views/app.css"),className:"app",template:e("views/app.tmpl"),states:{"display-mini-player":"app__displayMiniPlayer","hide-upsell":"app__hideUpsell","show-throbber":b},element2selector:{loading:".app__loading",content:"#content"},setup:function(){r(document).delegate('a[href^="/"]',"click",y),v.hideAddressBar(),a.on("layout:changing",w,this).on("layout:change",E,this).on("upsell:hide upsell:slide",N,this).on("exception",S,this)},renderDecorate:function(){p.nativeScroll&&(this.nativeScrollEl=this.$("#content"),v.enableNativeScroll(this.nativeScrollEl))}})}),
define("lib/backbone",["require","exports","module","backbone","$","underscore","lib/mixin"],function(e,t,n){var r=e("backbone"),i=e("$"),s=e("underscore"),o=r.Collection,u=e("lib/mixin"),a=r.Model,f=o.prototype,l=a.prototype,c=r.History.prototype;n.exports=r,r.$=i,c.loadUrl=function(){var e=/\/*(?:[#?].*)?$/;return function(t){return t=this.fragment=this.getFragment(t).replace(e,""),s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})}}(),function(){function e(e,t){return function(){delete e._requests[t]}}function t(t){return function(o){var u;o=o?s.clone(o):{},o=s.extend({_url:o.url||s.result(this,"url"),jqAjax:!1,saveRequest:!1,onlyIfNeverFetched:!1},o),this instanceof r.Collection&&!this.lastFetchTime&&!o.hasOwnProperty("reset")?(o.reset=!0,o.add=!0):this.lastFetchTime&&!o.hasOwnProperty("remove")&&(o.remove=!1),this._requests||(this._requests={}),u=this._requests[o._url];if(!u){if(o.onlyIfNeverFetched&&this.lastFetchTime)return i.Deferred().resolve({next_href:this.next_href});u=this._requests[o._url]=o.jqAjax?i.ajax(o):t.call(this,o),u[o.saveRequest?"fail":"always"](e(this,o._url))}else o.success&&u.done(o.success.bind(o,this)),o.error&&u.fail(o.error);return u}}l.fetch=t(l.fetch),f.fetch=t(f.fetch)}(),r.Model.extend=r.Collection.extend=r.View.extend=function(e){return function(){var t=s.toArray(arguments),n=0,r,i;return r=t.filter(function(e,t){if(e instanceof u)return n=t+1,!0}),i=e.apply(this,t.slice(n)),r.forEach(function(e){e.applyTo(i.prototype)}),i}}(r.View.extend)}),
define("config",["require","exports","module","lib/mixins/observing","underscore","lib/store","lib/url"],function(e,t,n){var r=e("lib/mixins/observing"),i=e("underscore"),s=e("lib/store"),o=e("lib/url"),u=n.exports=new s;r.applyTo(u);var a={client_id:"ygy2GkGPGW6Tn8m22Bz1SDplrFKBlwP0",v2_host:"https://soundcloud.com"};i.each(i.defaults(a,{app_version:null,app_root:o.parse("https://m.soundcloud.com").directory||"/",api_host:"https://api.soundcloud.com/",bff_api_host:"https://api-mobileweb.soundcloud.com/",api_web_host:"https://api-mobi.soundcloud.com/",appView:null,client_application_id:65097,eventgateway_tracking_url:"https://l9bjkkhaycw6f8f4.soundcloud.com",airbrake_project_key:"31c8ab0643cee32c9585b286e90e9d23",airbrake_project_id:"148573",airbrake_rollout:.01,me:null,restoreToSound:null,playHistoryLength:50,promotedContentServer:"https://promoted.soundcloud.com",promotedContentAccessToken:"mobileweb",oauth_token:null,router:null,availablePlayManagerSource:null,wisHost:"https://wis.sndcdn.com",internal_qa:!1}),function(e,t){u.set(t,e,{silent:!0})}),u.finalize()}),
define("lib/error-reporting",["require","exports","module","vendor/airbrake-js/airbrake-js","config"],function(e,t,n){function f(){return Math.random()<i.get("airbrake_rollout")}function c(e){return e.errors.some(function(e){return e.backtrace.some(function(e){return s.test(e.file)})})}function h(){if(a)return;if(f())try{u=new r({projectId:i.get("airbrake_project_id"),projectKey:i.get("airbrake_project_key")}),u.addFilter(function(e){try{return c(e)?e:null}catch(t){return e}}),u.addFilter(function(e){var t=e.context;return t.version=i.get("app_version"),t.user=t.user||{},t.user.id=String(i.get("me").id||"anonymous"),e}),o.forEach(function(e){u.notify(e)})}catch(e){"error"in window.console&&window.console.error("Could not initialize airbrake",e)}a=!0,o=[]}var r=e("vendor/airbrake-js/airbrake-js"),i=e("config"),s=/\/\/(m\.soundcloud\.dev|m\.soundcloud\.com)/,o=[],u=null,a=!1,l=n.exports={initialize:h,notify:function(e){u?u.notify(e):a||o.push(e)}}}),
define("lib/connect",["require","exports","module","$","underscore","lib/backbone","config","lib/event-bus","lib/url","lib/persistent-store"],function(e,t,n){function b(e,t,n){var r=window.screenX+(window.outerWidth-t)/2,i=window.screenY+(window.outerHeight-n)/2;return window.open(e,"connectWithSoundCloud",["location=1","width="+t,"height="+n,"top="+i,"left="+r,"toolbar=no","scrollbars=yes"].join(","))}var r=e("$"),i=e("underscore"),s=e("lib/backbone"),o=e("config"),u=e("lib/event-bus"),a=e("lib/url"),f=e("lib/persistent-store"),l=150,c=o.get("app_root")+"callback.html",h="oauth_token",p="non-expiring",d=new f("anonymous-user"),v=new f("auth"),m,g;v.on(h,function(e){y.setAuthToken(e.current)});var y=n.exports=i.extend({},s.Events,{setAuthToken:function(e){v.set(h,e)},getAuthToken:function(){return v.get(h)},isLoggedIn:function(){return!!this.getAuthToken()},login:function(){var e;return g?m&&!m.closed&&m.focus&&m.focus():(g=r.Deferred().fail(function(){g=null}),this.isLoggedIn()?g.resolve():(e=a.stringify({host:o.get("api_host").replace("api.",""),path:["connect"],query:{client_id:o.get("client_id"),response_type:"token",scope:p,display:"next",redirect_uri:location.protocol+"//"+location.host+c}}),m=b(e,450,500),function t(){(!m||m.closed)&&!y.isLoggedIn()?g.reject():m.closed?u.once("connect:hasUserData",g.resolve).trigger("connect:login","login"):setTimeout(t,l)}())),g},logout:function(){v.reset(),u.trigger("connect:logout","logout")},currentUserId:function(){return o.get("me").id},getUserIdentifier:function(){var e;return y.isLoggedIn()?e=y.currentUserId():(e=d.get("id"),e||(e=Math.floor(Math.random()*1e3),d.set("id",e))),e}})}),
define("lib/helpers/client-environment-helper",["require","exports","module"],function(e,t,n){function f(){var e;return r.iOS&&(e=o.match(/\d+_\d+(_\d+)? like mac os x/),e=e&&parseFloat(e[0].replace("_",".").substr(0,3))),e||-1}var r={},i={},s={},o=navigator.userAgent.toLowerCase(),u=window.devicePixelRatio,a;a=function(e){return e.test(o)},i.ie10=a(/iemobile\/10\.0/),r.devicePixelRatio=u,r.dpi=u>=2||i.ie10?"hdpi":u>1?"mdpi":"ldpi",r.iOS=a(/iphone|ipod/),r.android=a(/android/),r.blackberry=a(/bb10/),r.iPhone4=r.iOS&&screen.availWidth===320&&screen.availHeight===460,r.iPhone5=r.iOS&&r.highDPI&&screen.availWidth===320&&screen.availHeight===548,r.playstation=a(/playstation/),r.amazon=!r.playstation&&a(/silk|kindle|amazon/),r.firefoxOS=!r.android&&window.navigator.mozApps,r.hasNativeApp=r.iOS||r.android||r.blackberry||r.amazon,r.brand=r.iOS?"iOS":r.amazon?"amazon":r.firefoxOS?"firefoxOS":r.android?"android":r.blackberry?"blackberry":"",i.backingStoreRatio=function(){var e=document.createElement("canvas"),t=e.getContext&&e.getContext("2d");if(t)return t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1}(),i.chrome=a(/chrome|crios\//),i.safari=!i.chrome&&a(/Version\/.+ Mobile\/.+ Safari\//i),i.firefox=a(/mobile.* firefox/),s.iOS7=r.iOS&&a(/os 7_(.*) like mac os x/),s.iOSVersion=f(),t.device=r,t.browser=i,t.os=s}),
define("lib/event-bus",["require","exports","module","underscore","lib/backbone","config","lib/persistent-store"],function(e,t,n){var r=e("underscore"),i=e("lib/backbone"),s=e("config"),o=e("lib/persistent-store"),u=new o("broadcast"),a=s.get("app_id"),f,l,c;u.on("broadcast",function(e){var t=e.current;t&&t.appId!==a&&c.call(h,t)});var h=n.exports=r.extend({},i.Events,{broadcast:function(e,t){var n,r;return typeof e=="string"?(n=[].slice.call(arguments,1),t=e,e={}):n=[].slice.call(arguments,2),r=l(t,n),u.set("broadcast",r),e.excludeThis||c.call(this,r),this}});l=function(e,t){return{type:e,timestamp:Date.now(),appId:a,args:t}},c=function(e){this.trigger.apply(this,["broadcast:"+e.type].concat(e.args||[]))}}),
define("lib/deferred-loader",["require","exports","module","underscore","$"],function(e,t,n){var r=e("underscore"),i=e("$"),s={},o=n.exports={setPackageMap:function(e){e._prefix&&r.each(e,function(t,n){n.charAt(0)!=="_"&&(e[n]=e._prefix+t)}),this.packageMap=e},loadLayout:function(t){var n=this.packageMap,r=n&&n[t],u,a=s[t],f,l;return a?a:r?(u=i.Deferred(),f=function(){u.resolve(e(t))},l=document.createElement("script"),l.src=r,l.onerror=u.reject,l.addEventListener&&l.addEventListener("load",f,!1),document.getElementsByTagName("head")[0].appendChild(l),a=s[t]=u.promise(),a):o.load(t)},load:function(t){var n=i.Deferred();return r.isArray(t)||(t=[t]),e(t,n.resolve),n},get:function(t){return e(t)}}}),
define("lib/persistent-store",["require","exports","module","lib/store","lib/mixins/persistent","lib/mixins/observing"],function(e,t,n){var r=e("lib/store"),i=e("lib/mixins/persistent"),s=e("lib/mixins/observing"),o=n.exports=r.extend();i.applyTo(o.prototype),s.applyTo(o.prototype)}),
define("lib/play-manager",["require","exports","module","underscore","lib/backbone","lib/collection","config","lib/futures"],function(e,t,n){function c(e,t){if(!e||e!==this.getCurrentSound())return;t.seek!=null&&e.seek(t.seek),e.play(t),e.playlist&&e===this.source&&(x.call(this,e.playlist,t&&t.restoreUrl),N.call(this,0))}function h(){var e=o.get("router").getLayoutInfo();return{args:e.args,layoutName:e.layoutName,url:window.location.href.replace(/^https?:\/\/[^\/]+\//,"")}}function p(){var e=this.source;e&&(this.sourceIsCollection=e instanceof s,this.sourceIsCollection&&(this.listenTo(e,"add",d).listenTo(e,"remove",v).listenTo(e,"reset",m),e.isPopulated()||e.fetch()),e.hold())}function d(e,t){var n=t.indexOf(e);n<=this.sourceCursor&&N.call(this,this.sourceCursor+1)}function v(e,t,n){this.sourceCursor&&n.index<=this.sourceCursor&&N.call(this,this.sourceCursor-1)}function m(){N.call(this,-1)}function g(e){e.sound.release()}function y(e){e.sound.hold()}function b(e,t){t[e]("finish",w,this)}function w(e){var t=e.sound;this.playNext({userInitiated:!1}),t.playlist&&t===t.playlist.getLastSound()&&t.playlist.rewind(0)}function E(){if(this.FallbackSource){var e=this.getCurrentSound(),t;if(e&&e.isPublic()){t=new this.FallbackSource(null,{resource_id:e.id,resource_type:e.resource_type});if(this.source!==t)return x.call(this,t,this.fallbackRestoreFn(e)),!0;t.release()}}return x.call(this,null),!1}function S(e,t){return t instanceof s?e>-1?(t.audibleAt||t.at).call(t,e):undefined:e===0?t:undefined}function x(e,t,n){var r=this.source;if(r!==e){if(e&&!e.isAudioSource&&!1)throw new Error("The source of play manager needs to implement `AudioSource` interface.");return this.source=e,this.restoreUrl=t,p.call(this),N.call(this,-1),r&&(this.stopListening(r),r.release()),(!n||!n.silent)&&this.trigger("change:source",this.source),!0}return!1}function T(e,t,n){var r=e||u.defer(),i=t==null?f:t,s,o;if(r.state()!=="pending")return;this._fetchDeferred&&this._fetchDeferred!==r&&this._fetchDeferred.reject(),this._fetchDeferred||(this._fetchDeferred=r,r.always(function(){this._fetchDeferred=null}.bind(this)));if(this.historyCursor<this.history.length-1)r.resolve(this.history[this.historyCursor+1].sound,{historyCursor:this.historyCursor+1});else if(this.source&&this.sourceIsCollection){o=-1;while(!s&&this.sourceCursor+ ++o<this.source.length)s=this.sourceCursor+o>-1&&S(this.sourceCursor+o,this.source),s=s&&(o===0?s.getNextSound():s.getFirstSound());s?r.resolve(s,{sourceCursor:this.sourceCursor+o,initialFallback:!!n}):!this.source.isFullyPopulated()&&i?this.source.fetch({add:!0,remove:!1}).fail(r.reject).done(T.bind(this,r,i-1)):E.call(this)?T.call(this,r,i,!0):r.resolve(undefined)}else this.source?(s=this.sourceCursor===-1?this.source.getFirstSound():this.source.getNextSound(),s?r.resolve(s,{sourceCursor:0}):(E.call(this),T.call(this,r,i,!0))):r.reject();return r}function N(e){typeof e=="number"?this.sourceCursor=e:this.sourceIsCollection?this.sourceCursor=this.indexOfSoundInSource(e,this.source):this.sourceCursor=0}function C(e,t){var n=this.getCurrentSound(),r=this.historyCursor,i;if(r===e)return;n&&b.call(this,"off",n),this.historyCursor=e,i=this.getCurrentSound(),i&&b.call(this,"on",i),(!t||!t.silent)&&this.trigger("change:currentSound",{isGoingForward:e>r,prev:n,current:i})}function k(e,t,n){var r=n.getSounds(),i=r.indexOf(e),s=r.indexOf(t),o=i<s,u=o?0:s+1,a=i+1;o&&this.clearHistory(),r.slice(u,a).forEach(function(e){this.addToHistory(e,n)},this)}function L(e,t,n,i){if(t instanceof L)return t;this.sound=e,this.layoutInfo=r.clone(n),this.sourceInfo=t&&t.getSourceInfo(),this.restoreUrl=i}var r=e("underscore"),i=e("lib/backbone"),s=e("lib/collection"),o=e("config"),u=e("lib/futures"),a=3,f=3,l=n.exports=r.extend({},i.Events,{history:[],historyCursor:-1,source:null,sourceCursor:-1,initialSourcePriority:-Infinity,layoutInfo:{},restoreUrl:null,FallbackSource:null,_fetchDeferred:null,_sessionPlays:0,setInitialSource:function(e,t,n){t=t||0,this.sourceCursor===-1&&t>this.initialSourcePriority&&(this.initialSourcePriority=t,this.saveLayout(),x.call(this,e,n))},unsetInitialSource:function(e){this.sourceCursor===-1&&this.source===e&&(x.call(this,null),this.initialSourcePriority=-Infinity)},indexOfSoundInSource:function(e,t){var n=-1;return t instanceof s?(t.any(function(r,i){var s=S(i,t);if(s&&s.getSoundIndex(e)>-1)return n=i,!0}),n):t.getSoundIndex(e)},hasPrevSound:function(){return this.historyCursor>0},hasNextSound:function(){var e=this.source,t=this.getCurrentSound();return!!(this.historyCursor<this.history.length-1||e&&this.sourceIsCollection&&(!e.isFullyPopulated()||e.length&&this.sourceCursor<e.length-1)||e&&!this.sourceIsCollection&&(this.sourceCursor<0?e.getFirstSound():e.getNextSound())||t&&t.isPublic()&&this.FallbackSource)},hasCurrentSound:function(){return!!this.getCurrentSound()||!!this.hasNextSound()},getCurrentSound:function(){var e=this.history[this.historyCursor];return e&&e.sound},getPrevSound:function(){return this.getSoundFromHistory(this.historyCursor-1)},getSoundFromHistory:function(e){var t=this.history[e];return t&&t.sound},addToHistory:function(e,t,n){var r,i=e!==this.getCurrentSound(),s,u,a;r=this.historyCursor+(i?1:0),s=o.get("playHistoryLength"),a=new L(e,t,this.layoutInfo,this.restoreUrl),this.history.splice(r).forEach(g),this.history.push(a),y(a),u=Math.max(0,this.history.length-s),u&&(this.history.splice(0,u).forEach(g),this.historyCursor-=u),C.call(this,this.history.length-1,n)},backfillHistoryFromPlaylist:function(e,t){var n=t.getSoundIndex(e),r=t.soundsCollection,i,s,o;if(n>0)for(s=0,o=n;s<=o;s++)i=r.at(s),i&&this.addToHistory(i,t,{silent:!0});N.call(this,l.history.length-1)},reset:function(){var e=this.getCurrentSound();e&&e.pause(),this.clearHistory(),this._sessionPlays=0,this.layoutInfo={},this._fetchDeferred&&this._fetchDeferred.reject(),x.call(this,null),this.FallbackSource=this.fallbackRestoreFn=this.restoreUrl=null,this.initialSourcePriority=-Infinity},clearHistory:function(){this.history.forEach(function(e){e.sound.release()}),C.call(this,-1),this.history=[]},play:function(e,t){t=t||{};var n=t.keepSource&&this.source||t.source||e.playlist||e,r=e.getCurrentSound(),i=this.getCurrentSound(),s=i!==r,o;o=x.call(this,n,t.restoreUrl,{silent:!0}),N.call(this,r),s&&this.pauseCurrent(t),(o||s)&&k.call(this,r,i,n),o&&this.trigger("change:source",n),this.playCurrent(t)},playSource:function(e,t){t=t||{},x.call(this,e,t.restoreUrl)?this.playNext(t):this._fetchDeferred||this.playCurrent(t)},toggle:function(e,t){e.isPlaying()?this.pause(e,t):this.play(e,t)},pause:function(e,t){e.pause(t)},playCurrent:function(e){var t=this.getCurrentSound();t?(e=e||{},c.call(this,t,e)):(l.saveLayout(),l.playNext(e))},pauseCurrent:function(e){var t=this.getCurrentSound();t&&t.pause(e)},toggleCurrent:function(e){var t=this.getCurrentSound();t?t.toggle(e):this.playCurrent(e)},playNext:function(e){return e=r.extend({seek:0},e),this.pauseCurrent(),T.call(this).then(function(t,n){var r;if(t){n.historyCursor!=null?C.call(this,n.historyCursor):(n.sourceCursor!=null&&(N.call(this,n.sourceCursor),r=this.source,this.sourceIsCollection&&n.sourceCursor>=this.source.length-a&&!this.source.isFullyPopulated()&&this.source.fetch({add:!0,remove:!1})),this.addToHistory(t,r));if(t.isBlocked()&&!e.userInitiated)return l.playNext(e);this.playCurrent(e),n.initialFallback&&this.trigger("fallback")}}.bind(this))},playPrev:function(e){e=r.extend({seek:0},e),this.getPrevSound()&&(this.pauseCurrent(),C.call(this,this.historyCursor-1),this.playCurrent(e))},fetchNextSound:T,setFallbackSource:function(e,t){this.FallbackSource=e,this.fallbackRestoreFn=t},restoreState:function(){var e=this.getCurrentRestoreUrl(),t=this.getCurrentSound(),n,r=o.get("router");e?(n=t.playlist||t,r.navigate(e,{trigger:!0}),o.set("restoreToSound",n.resource_type+n.resource_id)):t&&r.navigateToRoute("listen",[t],{trigger:!0})},getCurrentRestoreUrl:function(){var e=this.history[this.historyCursor];return e&&e.restoreUrl||""},getCurrentMetadata:function(){return this.history[this.historyCursor]},saveLayout:function(){this.layoutInfo=h()}})}),
define("lib/pointer-events",["require","exports","module","underscore","lib/support"],function(e,t,n){function s(){if(i.pointerEvents)return;o("mouseup MSPointerUp touchend",u("pointerup")),o("mousedown MSPointerDown touchstart",u("pointerdown")),o("mousemove MSPointerMove touchmove",u("pointermove")),o("mouseout MSPointerLeave touchleave",u("pointerleave"))}function o(e,t){e.split(" ").forEach(function(e){document.body.addEventListener(e,t)})}function u(e){return function(t){a(t,e)}}function a(e,t){var n,r;n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!0,!0,{}),n.maskedEvent=e,r=f(e),n.x=r.x,n.y=r.y,e.target.dispatchEvent(n)}function f(e){var t=e.type,n,r;return t.indexOf("touch")===0?(n=e.changedTouches[0].pageX,r=e.changedTouches[0].pageY):t.indexOf("mouse")===0?(n=e.clientX+window.pageXOffset,r=e.clientY+window.pageYOffset):(n=e.x,r=e.y),{x:n,y:r}}var r=e("underscore"),i=e("lib/support");n.exports={init:r.once(s)}}),
define("collections/related-sounds",["require","exports","module","lib/mixins/audio-source","lib/collection","models/sound"],function(e,t,n){function a(){return Math.floor(Math.random()*1e8)}var r=e("lib/mixins/audio-source"),i=e("lib/collection"),s=e("models/sound"),o=null,u=n.exports=i.extend(r,{model:s,defaults:{resource_id:null,resource_type:"sound"},getSourceInfo:function(){return{type:"recommender",version:this.audioSourceVersion,resourceId:this.options.resource_id,resourceType:this.options.resource_type}},getSounds:function(){return this.models},parse:function(e){return this.audioSourceVersion=e.variant||"no_version",i.prototype.parse.apply(this,arguments)},baseUrl:function(){o||(o=a());var e={user_id:null,anon_user_id:o};return this.getEndpointUrl("relatedTracks",{id:this.options.resource_id},e)}},{hashFn:function(e,t){return t.resource_id}})}),
define("router",["require","exports","module","$","underscore","lib/backbone","config","lib/event-bus","lib/deferred-loader","lib/tracking/tracking-core","lib/url"],function(e,t,n){function v(e,t){var n,r;this.currentLayout&&e!==this.currentLayout&&this.currentLayout.dispose(),this.currentLayout=e,n=this._currentLayoutInfo=e.getChangeEventData(t),p.resolve(),r=o.get("appView").$("#content")[0],e.render(),r.firstElementChild!==e.el&&(r.innerHTML="",r.appendChild(e.el)),f.pageview(n.layoutName),u.trigger("layout:change",n)}var r=e("$"),i=e("underscore"),s=e("lib/backbone"),o=e("config"),u=e("lib/event-bus"),a=e("lib/deferred-loader"),f=e("lib/tracking/tracking-core"),l=e("lib/url"),c,h,p=r.Deferred();f.deferRequests(p);var d=n.exports=s.Router.extend({currentLayout:null,_currentLayoutInfo:null,setRoutes:function(e,t){c=e,h=t,e.forEach(function(e){this.route(e.route,e.name,e.handler)}.bind(this))},navigateToRoute:function(e,t,n){var r=[e],i;t&&t.length&&(r=r.concat(t)),i=d.getRoute.apply(d,r),this.navigate(i,n)},navigate:function(e,t){t&&t.hard?window.location.href=e:s.Router.prototype.navigate.call(this,e,t)},getQueryParams:function(e){return l.getQueryParams(e)},getQueryString:function(e){return l.getQueryString(e)},apply:function(e,t){u.trigger("layout:changing");var n="layouts/"+e,r;r=function(){delete this.setupDeferred}.bind(this),this.setupDeferred&&this.setupDeferred.fail(),this.setupDeferred=a.loadLayout(n).fail(r).done(function(n){var i=this.currentLayout instanceof n?this.currentLayout:new n;i.setArgs(t),this.setupDeferred=i.setup(t).done(v.bind(this,i,e,t)).always(r)}.bind(this))},getLayoutInfo:function(){return this._currentLayoutInfo},getRouteInfo:function(e){return i.find(c,function(t){return t.name===e})},goToSoundPage:function(e){e&&this.navigate(d.getRoute("listen",e),{trigger:!0})},unauthenticated:function(){var e=l.parse(window.location.href).relative;this.navigateToRoute("signin",e,{replace:!0,trigger:!0})}},{getRoute:function(e){var t,n;t=i.find(c,function(t){return t.name===e});if(!!t&&!!(n=h[e]))return n.apply(this,[].slice.call(arguments,1))}})}),
define("shared/config/route-builders",["require","exports","module","underscore","shared/lib/url"],function(e,t,n){function o(e){return r.isFunction(e.toJSON)?e.toJSON():e}function u(e){return e.replace(/^https?:.+?\w\//,"/")}function a(e){return e==="sets"||e==="sounds"||e==="tracks"}var r=e("underscore"),i=e("shared/lib/url"),s=n.exports={listen:function(e){e=o(e.track||e);var t={},n=e._playlist;return e.user&&e.user.permalink&&e.permalink?t.path="/"+e.user.permalink+"/"+e.permalink+(e.secret_token?"/"+e.secret_token:""):e.permalink_url&&(t.path=u(e.permalink_url)),t.path&&n&&n.permalink_url&&(t.query={"in":u(n.permalink_url).substr(1)}),i.stringify(t)},playlist:function(e){return e=o(e),e.user?"/"+e.user.permalink+"/sets/"+e.permalink+(e.secret_token?"/"+e.secret_token:""):u(e.permalink_url)},user:function(e,t){return t=a(t)?"posts":t,e=o(e),"/"+e.permalink+(t?"/"+t:"")},root:function(){return"/"},search:function(e,t){return"/"+i.stringify({path:["search",e],query:{q:t}})},mobile:function(e){return"/mobile"+(e?"/"+e:"")},emailUnsubscribedPage:function(){return"/pages/unsubscribed"},peopleDirectory:function(e){return"/people/directory"+(e?"/"+e:"")},pages:function(e){return"/"+e},pagesPages:function(e){return"/pages/"+e},pagesWithVersions:function(e){return"/pages/"+e},pressPages:function(e){return"/pages/"+e},consumerPremium:function(){return"/go"},notImplemented:function(e){return"/"+e},signin:function(e){return"/"+i.stringify({path:["signin"],query:{redirect_url:e}})}}}),
define("shared/config/routes",["require","exports","module"],function(e,t,n){function o(e){return r||(r={alphanum:"[a-zA-Z0-9_-]+",user:"[a-zA-Z0-9_-]{1,255}",sound:"[a-zA-Z0-9_-]{1,255}",playlist:"[a-zA-Z0-9_-]{1,255}",id:"[0-9]+",secretToken:"s-[a-zA-Z0-9]{5}",group:"[a-zA-Z0-9_-]{1,255}",exploreCategory:"[^/]+",tag:".+",conversationId:"[0-9]+:(?:[0-9]+|system)",code:"\\w+",planName:"pro(?:-unlimited)?",metric:"\\w+",date:"[^/]+"},i=new RegExp(":("+Object.keys(r).join("|")+")","g")),i.lastIndex=0,new RegExp("^"+e.replace(i,u)+"(?:\\?([\\s\\S]*))?"+"$")}function u(e,t){return"("+r[t]+")"}function a(e){return e.forEach(function(e){var t=e.redirect;typeof e.route=="string"&&(e.route=o(e.route)),t&&(e.handler=function(){var e=typeof t=="string"?t:t.apply(this,arguments);return this.navigate(l(e,this.getQueryString()),{replace:!0,trigger:!0})}),e.requiresLogin&&(e.handler=f(e.handler))}),e}function f(e){return function(){return this.isLoggedIn()?e.apply(this,arguments):this.unauthenticated()}}function l(e,t){return t?e.indexOf("?")>-1?e+"&"+t:e+t:e}var r,i,s=n.exports=a([{name:"404",route:/(.*)/,handler:function(e){var t=e.replace(/[,.)]+$/,"");return e!==t?this.navigate("/"+t,{trigger:!0,replace:!0}):this.apply("error",{type:"404"})}},{name:"listen",route:":user/:sound(?:/:secretToken)?",handler:function(e,t,n,r,i){return this.apply("listen",{userPermalink:e,soundPermalink:t,secretToken:n,forUser:r,commentId:parseInt(i,10)||undefined})}},{name:"playlist",route:":user/sets/:playlist(?:/:secretToken)?",handler:function(e,t,n,r){return this.apply("playlist",{userPermalink:e,playlistPermalink:t,secretToken:n,forUser:r})}},{name:"user",route:":user(?:/(likes|followers|following|comments|sets|albums|groups|info|tracks))?",handler:function(e){return this.apply("user-profile",{userPermalink:e})}},{name:"root",route:"",handler:function(){return this.apply("home")}},{name:"passwordResetSuccess",route:"signin/reset/success",handler:function(){return this.apply("password-reset-success")}},{name:"signin",route:"signin",handler:function(){var e=this.getQueryParams().redirect_url||this.getQueryParams().return_to;return e?this.isLoggedIn()?this.navigate(e):this.navigate("https://cnnct.soundcloud.com/connect?redirect_uri=https://m.soundcloud.com/signin/redirect&response_type=code&scope=fast-connect&state="+encodeURIComponent(e)+"&client_id=ygy2GkGPGW6Tn8m22Bz1SDplrFKBlwP0",{hard:!0}):this.navigate("/")}},{name:"signinRedirect",route:"signin/redirect",handler:function(){var e=this.getQueryParams().state,t=/^\/[a-zA-Z0-9_\/-]+(?:\?.*)?$/.test(e);return t?this.navigate("https://soundcloud.com"+encodeURI(e),{hard:!0}):this.navigate("/")}},{name:"activate",route:"activate(?:/(:alphanum))?",handler:function(e){return this.apply("activate",{code:e})}},{name:"peopleDirectory",route:"people/directory(?:/(:alphanum))?",handler:function(e){return e=e||"A",this.apply("people-directory",{subpage:e})}},{name:"search",route:"search(?:/(sounds|tracks|sets|playlists|people|groups))?",handler:function(e){return this.getQueryParams().q?(e=e==="sets"?"playlists":e==="sounds"?"tracks":e,this.apply("search",{category:e})):this.apply("mobile-apps",{page:"search"})}},{name:"searchDeprecated",route:"(tracks|people|groups)/search",redirect:function(e){return e==="tracks"&&(e="sounds"),"/search/"+e}},{name:"mobile",route:"mobile",handler:function(){return this.apply("mobile-apps")}},{name:"messages",route:"messages(?:/:conversationId)?",handler:function(){return this.apply("messages")}},{name:"emailUnsubscribedPage",route:/^pages\/unsubscribed$/,handler:function(){return this.apply("unsubscribed")}},{name:"streamDeprecated",route:"dashboard(?:/.*)?",redirect:"/"},{name:"youUnused",route:"you(?:/.*)?",redirect:"/"},{name:"clickFunnel",route:"(stream|explore|discover)",handler:function(e){return this.apply("mobile-apps",{page:e})}},{name:"notImplemented",route:"(upload|people|you|you/tracks|you/premier|you/premier/faqs|charts|charts/top|charts/new)",handler:function(e){return this.apply("not-implemented",{page:e})}},{name:"premium",route:"pro",handler:function(){return this.apply("premium")}},{name:"premiumDeprecated",route:"premium",redirect:function(){return"/pro"}},{name:"consumerPremium",route:"((?:go|soundcloudgo)(?:/:alphanum)*)",handler:function(e){return this.apply("consumer-premium",{pageName:e})}},{name:"pages",route:"(terms-of-use(?:-pro)?|go-terms-of-use|community-guidelines|imprint|law-enforcement-guidelines)",handler:function(e){return this.apply("static-page",{pageName:e})}},{name:"pagesPages",route:"pages/(copyright(?:/report)?|contact|competition|dmca_policy|model-withdrawal-form)/?",handler:function(e){return this.apply("static-page",{pageName:"pages/"+e})}},{name:"pagesHelpCommunity",route:"(pages/help-community/(?:cookies-policy|guidelines|privacy-policy|terms-of-use))",handler:function(e){return this.apply("static-page",{pageName:e})}},{name:"pagesWithVersions",route:"((?:terms-of-use(?:-pro)?|(:?pages/(?:privacy|cookies)))(?:/[0-9]{2}-[0-9]{4})?)/?",handler:function(e){return this.apply("static-page",{pageName:e})}},{name:"pressPages",route:"press($|/.*)",handler:function(){return this.navigate("http://press.soundcloud.com/",{hard:!0})}},{name:"xbox",route:"xbox-app",handler:function(){return this.navigate("https://checkout.soundcloud.com/xbox-app")}}])}),
define("lib/tracking/tracking-core",["require","exports","module","$","underscore","lib/tracking/comscore","config","lib/tracking/helpers/core","vendor/event-gateway/event-gateway","lib/lingua","lib/tracking/types/actions","lib/support","lib/tracking/types/impressions","lib/tracking/types/pageviews"],function(e,t,n){function m(e){var t=u.getContext(e),n=u.getIdentifier(e),r=u.getUserId();a.click(r,t,n,e)}function g(e){var t=u.getUserId(),n=u.getContext(e),r={locale:f.getLocale()};a.pageview(t,n,[],r)}function y(e){var t=u.getImpressionEvent(e),n=u.getLevel(),r=u.getUserId();S(r,n,t)}function b(e){var t=u.getLevel(),n=u.getUserId();a.appLoad(n,{latency:e,level:t})}function w(){var e=o.get.bind(o);a.initialize({id:e("client_application_id"),trackingUrl:e("eventgateway_tracking_url"),appVersion:o.get("app_version").replace(/!$/,""),batchTimeout:c.sendBeacon?5e3:1e3,eventVersions:{audio:"1.22.1"}})}function E(e,t){return e[i.indexOf(e,t)]}function S(e,t,n){n=x(n);var r={ad_urn:n.ad_urn,campaign:n.context.campaign,context:n.context.scope.join(":"),external_media:n.external_media,impression_name:n.impression_name,impression_object:n.impression_object,level:t,monetization_type:n.monetization_type,monetized_object:n.monetized_object,page_name:n.page_name,page_urn:n.page_urn,promoted_by:n.promoted_by,urn:n.urn,user:T(e)};a.logEvent("impression","0.0.0",i.extend(r,n.params))}function x(e){return e=typeof e=="object"?e:{},e.context=e.context||{},e.context.scope=e.context.scope||[],e}function T(e){return e?"soundcloud:users:"+e:a.getAnonymousId()}function N(){var e=o.get("router").getLayoutInfo(),t=e.layout,n=t.getPageUrn(),r=u.getAudioContext();return i.extend({page_name:r},n?{page_urn:n}:{})}var r=e("$"),i=e("underscore"),s=e("lib/tracking/comscore"),o=e("config"),u=e("lib/tracking/helpers/core"),a=e("vendor/event-gateway/event-gateway"),f=e("lib/lingua"),l=e("lib/tracking/types/actions"),c=e("lib/support"),h=e("lib/tracking/types/impressions"),p=e("lib/tracking/types/pageviews"),d=r.Deferred().resolve(),v=n.exports={initialize:function(){w(),s.init()},destroy:function(){s.destroy(),a.flush(!0)},action:function(e,t,n){var r=l[e],s=r&&r.identifiers,o;o=E(s,t),o&&this.whenRequestAllowed().done(function(){m(i.defaults({identifier:t},n))})},audio:function(e,t){var n=!!t.playbackOptions.userInitiated,r=t.playlist,i=t.getSourceInfo().type;this.whenRequestAllowed().done(function(){a.audio({page_name:u.getAudioContext(),page_urn:t.getUrn(),in_playlist:r?r.getUrn():null,playlist_position:r?r.getSoundIndex(t):null,source:i,id:t.id,trackOwnerId:t.getUserId(),track_length:Math.round(e.duration),reposted_by:t.get("reposted_by"),action:e.type,playheadPosition:Math.round(e.position),trigger:n?"manual":"auto",policy:t.get("policy"),monetization_model:t.get("monetization_model")})})},trackClickV1:function(e){this.whenRequestAllowed().done(function(){a.logEvent("click","1.16.0",i.extend(N(),e))})},trackImpressionV1:function(e){this.whenRequestAllowed().done(function(){var t=i.extend(N(),e);a.impression(null,t)})},saveAudioContext:function(){u.saveAudioContext()},pageview:function(e){var t;t=i.clone(i.find(p,function(t,n){var r=n.split(" ");return i.contains(r,e)})||p.default),typeof t.chapter=="function"&&(t.chapter=t.chapter()),this.whenRequestAllowed().done(function(){g(t)})},impression:function(e,t){i.contains(h,e)&&this.whenRequestAllowed().done(function(){y({identifier:e,contextData:t})})},appLoad:function(e){b(e)},whenRequestAllowed:function(){return d},deferRequests:function(e){d=d.then(function(){return e})}}}),
define("lib/url",["require","exports","module","underscore","lib/backbone","lib/support"],function(e,t,n){var r=e("underscore"),i=e("lib/backbone"),s=e("lib/support"),o=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,u=["---","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],a,f=n.exports={parse:function(e,t){var n=o.exec(e),r,i,s={};t||(t=u);for(r=1;r<u.length;++r){i=u[r];if(t.indexOf(i)!==-1)if(n[r]||i==="query")switch(i){case"port":s[i]=parseInt(n[r],10);break;case"path":s[i]=n[r].split("/").map(decodeURIComponent).join("/");break;case"query":s[i]=f.parseQueryString(n[r]);break;default:s[i]=n[r]}}return s},joinPath:function(e){return e.filter(Boolean).join("/")},parseQueryString:function(e){var t={};return e&&e.replace(/([^?=&]+)(?:=([^&]*))?/g,function(e,n,r){n=decodeURIComponent(n),r=decodeURIComponent(r||"");switch(typeof t[n]){case"object":t[n].push(r);break;case"undefined":t[n]=r;break;default:t[n]=[t[n],r]}}),t},getQueryParams:function(){var e,t;return function(n){var r=n||(s.pushState?window.location.search:window.location.hash.replace(/^[^?]*/,""));return r!==e&&(e=r,t=f.parseQueryString(r)),t}}(),stringify:function(e,t){var n=[],i,s;return t&&(s=f.parse(t),e.query&&s.query&&(r.extend(s.query,e.query),delete e.query),e=r.extend({},s,e)),e.scheme&&n.push(e.scheme+"://"),e.user&&(n.push(e.user),e.password&&n.push(":"+e.password),n.push("@")),e.host&&n.push(e.host),e.port&&n.push(":"+e.port),e.path&&(typeof e.path=="string"?n.push(e.path.split("/").join("/")):n.push(f.joinPath(e.path))),i=a(e.query),i&&n.push("?"+i),e.fragment&&n.push("#"+e.fragment),n.join("")},modify:function(e,t){var n=f.parse(e);return r.isFunction(t)?n=t.call(null,n):typeof t=="object"&&(t.query&&(r.extend(n.query,t.query),delete t.query),r.extend(n,t)),f.stringify(n)},getQueryParam:function(e){return f.parseQueryString(window.location.search)[e]},getQueryString:function(e){return e?e.replace(/^[^?#]*(\?[^#]*)?(?:#.*)?$/,"$1"):s.pushState?window.location.search:window.location.hash.replace(/^[^?]*/,"")},currentPath:function(){return i.history?"/"+i.history.getFragment(null,null,!0):""}};a=function(e){var t,n,r,i,s,o=[];if(e)for(t in e)if(e.hasOwnProperty(t)){i=e[t];if(i!==null&&i!==s)if(typeof i=="object"){r=i.length;for(n=0;n<r;++n)o.push(encodeURIComponent(t)+"="+encodeURIComponent(i[n]).replace(/%2F/g,"/"))}else o.push(encodeURIComponent(t)+"="+encodeURIComponent(i).replace(/%2F/g,"/"))}return o.join("&")}}),
define("models/user",["require","exports","module","lib/model","lib/mixins/urn"],function(e,t,n){var r=e("lib/model"),i=e("lib/mixins/urn"),s=n.exports=r.extend(i,{resource_type:"user",urnPrefix:"soundcloud:users",baseUrl:function(){return this.getEndpointUrl("user",{urn:this.getUrn()})}},{resolve:function(e){return r._resolve(this,e,function(t){return t.get("permalink")===e})}})}),
define("lib/console-box",["require","exports","module","css","lib/console-box.css"],function(e,t,n){function u(t){var n;i||(r.insert(e("lib/console-box.css")),i=document.createElement("div"),i.className="consoleBox",i.addEventListener("click",f),document.body.appendChild(i)),s!==t?(s=t,o=0,n=a(t),i.insertBefore(n,i.firstChild)):i.firstChild.innerText=t+" ("+ ++o+")"}function a(e){var t=document.createElement("p");return t.className="consoleBox__message",t.innerText=e,t}function f(){if(i)while(i.firstChild)i.removeChild(i.firstChild)}var r=e("css"),i,s,o;n.exports={log:u}}),
define("vendor/underscore.deferred/underscore.deferred",["require","exports","module"],function(e,t,n){(function(e){function y(e){var t=g[e]={};return l(e.split(/\s+/),function(e){t[e]=!0}),t}var t={},r=Array.prototype,i=Object.prototype,s=i.hasOwnProperty,o=i.toString,u=r.forEach,a=r.indexOf,f=r.slice,l=function(e,n,r){var i,o,a;if(!e)return;if(u&&e.forEach===u)e.forEach(n,r);else if(e.length===+e.length){for(o=0,a=e.length;o<a;o++)if(o in e&&n.call(r,e[o],o,e)===t)return}else for(i in e)if(s.call(e,i)&&n.call(r,e[i],i,e)===t)return},c=function(e){return!!(e&&e.constructor&&e.call&&e.apply)},h=function(e){return l(f.call(arguments,1),function(t){var n;for(n in t)t[n]!==void 0&&(e[n]=t[n])}),e},p=function(e,t,n){var r;if(t){if(a)return a.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},d={};l("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){d["[object "+e+"]"]=e.toLowerCase()});var v=function(e){return e==null?String(e):d[o.call(e)]||"object"},m={},g={};m.Callbacks=function(e){e=typeof e=="string"?g[e]||y(e):h({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(l){t=e.memory&&l,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(l[0],l[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:c.disable())},c={add:function(){if(u){var n=u.length;(function o(t){l(t,function(t){var n=v(t);n==="function"?(!e.unique||!c.has(t))&&u.push(t):t&&t.length&&n!=="string"&&o(t)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&l(arguments,function(e){var t;while((t=p(e,u,t))>-1)u.splice(t,1),r&&(t<=s&&s--,t<=o&&o--)}),this},has:function(e){return p(e,u)>-1},empty:function(){return u=[],this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||c.disable(),this},locked:function(){return!a},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],u&&(!n||a)&&(r?a.push(t):f(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},m.Deferred=function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred(function(n){l(t,function(t,r){var s=t[0],o=e[r];i[t[1]](c(o)?function(){var e;try{e=o.apply(this,arguments)}catch(t){n.reject(t);return}e&&c(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s!=="notify"?"resolveWith":s+"With"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?h(e,r):r}},i={};return r.pipe=r.then,l(t,function(e,s){var o=e[2],u=e[3];r[e[1]]=o.add,u&&o.add(function(){n=u},t[s^1][2].disable,t[2][2].lock),i[e[0]]=o.fire,i[e[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},m.when=function(e){var t=0,n=v(e)==="array"&&arguments.length===1?e:f.call(arguments),r=n.length,i=r!==1||e&&c(e.promise)?r:0,s=i===1?e:m.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?f.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,l;if(r>1){u=new Array(r),a=new Array(r),l=new Array(r);for(;t<r;t++)n[t]&&c(n[t].promise)?n[t].promise().done(o(t,l,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(l,n),s.promise()},typeof n!="undefined"&&n.exports?n.exports=m:typeof e._!="undefined"?e._.mixin(m):e._=m})(this)}),
define("domify",["require","exports","module"],function(e,t,n){function i(e){if("string"!=typeof e)throw new TypeError("String expected");var t=/<([\w:]+)/.exec(e);if(!t)throw new Error("No elements were generated.");var n=t[1];if(n=="body"){var i=document.createElement("html");return i.innerHTML=e,[i.removeChild(i.lastChild)]}var o=r[n]||r._default,u=o[0],a=o[1],f=o[2],i=document.createElement("div");i.innerHTML=a+e+f;while(u--)i=i.lastChild;return s(i.children)}function s(e){var t=[];while(e.length)t.push(e[0].parentNode.removeChild(e[0]));return t}n.exports=i;var r={option:[1,'<select multiple="multiple">',"</select>"],optgroup:[1,'<select multiple="multiple">',"</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tbody:[1,"<table>","</table>"],tfoot:[1,"<table>","</table>"],colgroup:[1,"<table>","</table>"],caption:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]}}),
define("lib/dollar/dollar-ajax",["require","exports","module","underscore","ajax","vendor/underscore.deferred/underscore.deferred"],function(e,t,n){var r=e("underscore"),i=e("ajax"),s=e("vendor/underscore.deferred/underscore.deferred"),o=n.exports=function(e){var t=s.Deferred();return e.success&&t.done(e.success),e.error&&t.fail(e.error),e=r.extend({},e,{success:function(e,n,r){t.resolve.call(r,e,n,r)},error:function(e,n,r){t.reject.call(e,r,e.status,e)}}),i(e),t};["get","post","getJSON"].forEach(function(e){o[e]=function(t,n,r,i){var s;return typeof n=="function"&&(i=i||r,r=n,n=null),s=o({type:e==="post"?"POST":"GET",url:t,data:n,dataType:e==="getJSON"?"json":i}),typeof r=="function"&&s.done(r),s}})}),
define("lib/dollar/dollar-attrs",["require","exports","module","underscore","classes"],function(e,t,n){var r=e("underscore"),i=e("classes"),s=n.exports={attr:function(e,t){var n;return this.each(function(){typeof e=="object"?r.each(e,function(e,t){this.setAttribute(t,e)}.bind(this)):t?this.setAttribute(e,t):n=this.getAttribute(e)}),n||this},classList:function(){var e;return this.each(function(){e=(new i(this)).array()}),e},hasClass:function(e){return[].every.call(this,function(t){return(new i(t)).has(e)})},scrollTop:function(e){e&&!1&&window.console.warn("$.scrollTop is just a getter.");var t=this[0];return t===document&&(t=document.body),t?t.scrollTop:0},offset:function(e){e&&!1&&window.console.warn("$.scrollTop is just a getter.");var t=this[0];if(!t)return null;if(document.contains(t)){var n=t.getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}}return{top:0,left:0}}};["add","remove"].forEach(function(e){s[e+"Class"]=function(t){return this.each(function(){return(new i(this))[e](t)})}}),s.toggleClass=function(e,t){var n="toggle";return arguments.length>1&&(n=t?"add":"remove"),this.each(function(){return(new i(this))[n](e)})}}),
define("lib/dollar/dollar-events",["require","exports","module","underscore","vendor/zepto-events"],function(e,t,n){var r=e("underscore"),i=e("vendor/zepto-events");t.Event=i.Event,t.prototypeMethods={bind:function(e,t){return this.each(function(){i.add(this,e,t)})},unbind:function(e,t){return this.each(function(){i.remove(this,e,t)})},one:function(e,t){return this.each(function(n){i.add(this,e,t,null,function(e,t){return function(){var r=e.apply(n,arguments);return i.remove(n,t,e),r}})})},delegate:function(e,t,n){var s=this.constructor;return this.each(function(o){i.add(o,t,n,e,function(t){return function(n){var u,a=s(n.target).closest(e,o)[0];if(a)return u=r.extend(i.createProxy(n),{currentTarget:a,liveFired:o}),t.apply(a,[u].concat([].slice.call(arguments,1)))}})})},undelegate:function(e,t,n){return this.each(function(){i.remove(this,t,n,e)})},on:function(e,t,n){return!t||typeof t=="function"?this.bind(e,t||n):this.delegate(t,e,n)},off:function(e,t,n){return!t||typeof t=="function"?this.unbind(e,t||n):this.undelegate(t,e,n)},trigger:function(e,t){var n=this.constructor;if(typeof e=="string"||typeof e=="object")e=n.Event(e);return e.data=t,this.each(function(){"dispatchEvent"in this&&this.dispatchEvent(e)})}}}),
define("lib/dollar/dollar-manipulation",["require","exports","module"],function(e,t,n){function r(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}n.exports={remove:r,detach:r,prepend:function(e){var t=this[0];t&&$(e).each(function(){t.insertBefore(this,t.firstChild)})},insertAfter:function(e){var t=this[0];return t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},append:function(e){var t=this[0];t&&$(e).each(function(){t.appendChild(this)})},html:function(e){return this.each(function(){e!=null?this.innerHTML=e:e=this.innerHTML}),e}}}),
define("lib/dollar/dollar-matches",["require","exports","module"],function(e,t,n){n.exports=function(e,t){var n;if(!e||e.nodeType!==1)return!1;n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.msMatchesSelector||e.matchesSelector;if(n)return n.call(e,t)}}),
define("lib/dollar/dollar-traversal",["require","exports","module","underscore","lib/dollar/dollar-matches"],function(e,t,n){function o(e){return e!=null&&e.nodeType===e.DOCUMENT_NODE}var r=e("underscore"),i=e("lib/dollar/dollar-matches"),s=n.exports={find:function(e){var t;return this.each(function(n){t=new this.constructor(e,n)},this),t},last:function(){var e=this.constructor;return e(this[this.length-1])},closest:function(e,t){var n=this[0],r=!1,s=this.constructor;typeof e=="object"&&(r=s(e));while(n&&!(r?[].indexOf.call(r,n)>=0:i(n,e)))n=n!==t&&!o(n)&&n.parentNode;return s(n)},parent:function(){var e=this[0];return e?$(e.parentNode):[]},children:function(e){var t=[];return this.each(function(n){var i=n.children;if(!i.length)return;e?(new this.constructor(e,n)).each(function(e){e.parentNode===n&&t.push(e)}):t.push(r.toArray(i))},this),new this.constructor(r.flatten(t))},index:function(){var e=-1,t=this[0],n;if(t&&t.parentNode){n=t.previousElementSibling,e=0;while(n)n=n.previousElementSibling,e++}return e}}}),
define("vendor/underscore",["require","exports","module"],function(e,t,n){(function(){function x(e){function t(t,n,r,i,s,o){for(;s>=0&&s<o;s+=e){var u=i?i[s]:s;r=n(r,t[u],u,t)}return r}return function(n,r,i,s){r=g(r,s,4);var o=!S(n)&&m.keys(n),u=(o||n).length,a=e>0?0:u-1;return arguments.length<3&&(i=n[o?o[a]:a],a+=e),t(n,r,i,o,a,u)}}function C(e){return function(t,n,r){n=y(n,r);var i=t!=null&&t.length,s=e>0?0:i-1;for(;s>=0&&s<i;s+=e)if(n(t[s],s,t))return s;return-1}}function O(e,t){var n=A.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||s,o="constructor";m.has(e,o)&&!m.contains(t,o)&&t.push(o);while(n--)o=A[n],o in e&&e[o]!==i[o]&&!m.contains(t,o)&&t.push(o)}var e=this,r=e._,i=Array.prototype,s=Object.prototype,o=Function.prototype,u=i.push,a=i.slice,f=s.toString,l=s.hasOwnProperty,c=Array.isArray,h=Object.keys,p=o.bind,d=Object.create,v=function(){},m=function(e){if(e instanceof m)return e;if(!(this instanceof m))return new m(e);this._wrapped=e};typeof t!="undefined"?(typeof n!="undefined"&&n.exports&&(t=n.exports=m),t._=m):e._=m,m.VERSION="1.8.2";var g=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,s){return e.call(t,n,r,i,s)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return e==null?m.identity:m.isFunction(e)?g(e,t,n):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=function(e,t){return y(e,t,Infinity)};var b=function(e,t){return function(n){var r=arguments.length;if(r<2||n==null)return n;for(var i=1;i<r;i++){var s=arguments[i],o=e(s),u=o.length;for(var a=0;a<u;a++){var f=o[a];if(!t||n[f]===void 0)n[f]=s[f]}}return n}},w=function(e){if(!m.isObject(e))return{};if(d)return d(e);v.prototype=e;var t=new v;return v.prototype=null,t},E=Math.pow(2,53)-1,S=function(e){var t=e!=null&&e.length;return typeof t=="number"&&t>=0&&t<=E};m.each=m.forEach=function(e,t,n){t=g(t,n);var r,i;if(S(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var s=m.keys(e);for(r=0,i=s.length;r<i;r++)t(e[s[r]],s[r],e)}return e},m.map=m.collect=function(e,t,n){t=y(t,n);var r=!S(e)&&m.keys(e),i=(r||e).length,s=Array(i);for(var o=0;o<i;o++){var u=r?r[o]:o;s[o]=t(e[u],u,e)}return s},m.reduce=m.foldl=m.inject=x(1),m.reduceRight=m.foldr=x(-1),m.find=m.detect=function(e,t,n){var r;S(e)?r=m.findIndex(e,t,n):r=m.findKey(e,t,n);if(r!==void 0&&r!==-1)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=y(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},m.reject=function(e,t,n){return m.filter(e,m.negate(y(t)),n)},m.every=m.all=function(e,t,n){t=y(t,n);var r=!S(e)&&m.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(!t(e[o],o,e))return!1}return!0},m.some=m.any=function(e,t,n){t=y(t,n);var r=!S(e)&&m.keys(e),i=(r||e).length;for(var s=0;s<i;s++){var o=r?r[s]:s;if(t(e[o],o,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){S(e)||(e=m.values(e));if(typeof n!="number"||r)n=0;return m.indexOf(e,t,n)>=0},m.invoke=function(e,t){var n=a.call(arguments,2),r=m.isFunction(t);return m.map(e,function(e){var i=r?t:e[t];return i==null?i:i.apply(e,n)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r=-Infinity,i=-Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:m.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s>r&&(r=s)}else t=y(t,n),m.each(e,function(e,n,s){o=t(e,n,s);if(o>i||o===-Infinity&&r===-Infinity)r=e,i=o});return r},m.min=function(e,t,n){var r=Infinity,i=Infinity,s,o;if(t==null&&e!=null){e=S(e)?e:m.values(e);for(var u=0,a=e.length;u<a;u++)s=e[u],s<r&&(r=s)}else t=y(t,n),m.each(e,function(e,n,s){o=t(e,n,s);if(o<i||o===Infinity&&r===Infinity)r=e,i=o});return r},m.shuffle=function(e){var t=S(e)?e:m.values(e),n=t.length,r=Array(n);for(var i=0,s;i<n;i++)s=m.random(0,i),s!==i&&(r[i]=r[s]),r[s]=t[i];return r},m.sample=function(e,t,n){return t==null||n?(S(e)||(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,n){return t=y(t,n),m.pluck(m.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=y(n,r),m.each(t,function(r,s){var o=n(r,s,t);e(i,r,o)}),i}};m.groupBy=T(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=T(function(e,t,n){e[n]=t}),m.countBy=T(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1}),m.toArray=function(e){return e?m.isArray(e)?a.call(e):S(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return e==null?0:S(e)?e.length:m.keys(e).length},m.partition=function(e,t,n){t=y(t,n);var r=[],i=[];return m.each(e,function(e,n,s){(t(e,n,s)?r:i).push(e)}),[r,i]},m.first=m.head=m.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))},m.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return a.call(e,t==null||n?1:t)},m.compact=function(e){return m.filter(e,m.identity)};var N=function(e,t,n,r){var i=[],s=0;for(var o=r||0,u=e&&e.length;o<u;o++){var a=e[o];if(S(a)&&(m.isArray(a)||m.isArguments(a))){t||(a=N(a,t,n));var f=0,l=a.length;i.length+=l;while(f<l)i[s++]=a[f++]}else n||(i[s++]=a)}return i};m.flatten=function(e,t){return N(e,t,!1)},m.without=function(e){return m.difference(e,a.call(arguments,1))},m.uniq=m.unique=function(e,t,n,r){if(e==null)return[];m.isBoolean(t)||(r=n,n=t,t=!1),n!=null&&(n=y(n,r));var i=[],s=[];for(var o=0,u=e.length;o<u;o++){var a=e[o],f=n?n(a,o,e):a;t?((!o||s!==f)&&i.push(a),s=f):n?m.contains(s,f)||(s.push(f),i.push(a)):m.contains(i,a)||i.push(a)}return i},m.union=function(){return m.uniq(N(arguments,!0,!0))},m.intersection=function(e){if(e==null)return[];var t=[],n=arguments.length;for(var r=0,i=e.length;r<i;r++){var s=e[r];if(m.contains(t,s))continue;for(var o=1;o<n;o++)if(!m.contains(arguments[o],s))break;o===n&&t.push(s)}return t},m.difference=function(e){var t=N(arguments,!0,!0,1);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(e){var t=e&&m.max(e,"length").length||0,n=Array(t);for(var r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.object=function(e,t){var n={};for(var r=0,i=e&&e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},m.indexOf=function(e,t,n){var r=0,i=e&&e.length;if(typeof n=="number")r=n<0?Math.max(0,i+n):n;else if(n&&i)return r=m.sortedIndex(e,t),e[r]===t?r:-1;if(t!==t){var s=m.findIndex(a.call(e,r),m.isNaN);return s>=0?s+r:-1}for(;r<i;r++)if(e[r]===t)return r;return-1},m.lastIndexOf=function(e,t,n){var r=e?e.length:0;typeof n=="number"&&(r=n<0?r+n+1:Math.min(r,n+1));if(t!==t)return m.findLastIndex(a.call(e,0,r),m.isNaN);while(--r>=0)if(e[r]===t)return r;return-1},m.findIndex=C(1),m.findLastIndex=C(-1),m.sortedIndex=function(e,t,n,r){n=y(n,r,1);var i=n(t),s=0,o=e.length;while(s<o){var u=Math.floor((s+o)/2);n(e[u])<i?s=u+1:o=u}return s},m.range=function(e,t,n){t==null&&(t=e||0,e=0),n=n||1;var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r);for(var s=0;s<r;s++,e+=n)i[s]=e;return i};var k=function(e,t,n,r,i){if(r instanceof t){var s=w(e.prototype),o=e.apply(s,i);return m.isObject(o)?o:s}return e.apply(n,i)};m.bind=function(e,t){if(p&&e.bind===p)return p.apply(e,a.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var n=a.call(arguments,2),r=function(){return k(e,r,t,this,n.concat(a.call(arguments)))};return r},m.partial=function(e){var t=a.call(arguments,1),n=function(){var r=0,i=t.length,s=Array(i);for(var o=0;o<i;o++)s[o]=t[o]===m?arguments[r++]:t[o];while(r<arguments.length)s.push(arguments[r++]);return k(e,n,this,this,s)};return n},m.bindAll=function(e){var t,n=arguments.length,r;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=m.bind(e[r],e);return e},m.memoize=function(e,t){var n=function(r){var i=n.cache,s=""+(t?t.apply(this,arguments):r);return m.has(i,s)||(i[s]=e.apply(this,arguments)),i[s]};return n.cache={},n},m.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:m.now(),o=null,s=e.apply(r,i),o||(r=i=null)};return function(){var f=m.now();!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),u=f,s=e.apply(r,i),o||(r=i=null)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},m.debounce=function(e,t,n){var r,i,s,o,u,a=function(){var f=m.now()-o;f<t&&f>=0?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=m.now();var f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i),s=i=null),u}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){var n=t,r=e[t].apply(this,arguments);while(n--)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2);var L=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(e){if(!m.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return L&&O(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return L&&O(e,t),t},m.values=function(e){var t=m.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=y(t,n);var r=m.keys(e),i=r.length,s={},o;for(var u=0;u<i;u++)o=r[u],s[o]=t(e[o],o,e);return s},m.pairs=function(e){var t=m.keys(e),n=t.length,r=Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){var t={},n=m.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()},m.extend=b(m.allKeys),m.extendOwn=m.assign=b(m.keys),m.findKey=function(e,t,n){t=y(t,n);var r=m.keys(e),i;for(var s=0,o=r.length;s<o;s++){i=r[s];if(t(e[i],i,e))return i}},m.pick=function(e,t,n){var r={},i=e,s,o;if(i==null)return r;m.isFunction(t)?(o=m.allKeys(i),s=g(t,n)):(o=N(arguments,!1,!1,1),s=function(e,t,n){return t in n},i=Object(i));for(var u=0,a=o.length;u<a;u++){var f=o[u],l=i[f];s(l,f,i)&&(r[f]=l)}return r},m.omit=function(e,t,n){if(m.isFunction(t))t=m.negate(t);else{var r=m.map(N(arguments,!1,!1,1),String);t=function(e,t){return!m.contains(r,t)}}return m.pick(e,t,n)},m.defaults=b(m.allKeys,!0),m.create=function(e,t){var n=w(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(e==null)return!r;var i=Object(e);for(var s=0;s<r;s++){var o=n[s];if(t[o]!==i[o]||!(o in i))return!1}return!0};var M=function(e,t,n,r){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=f.call(e);if(i!==f.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var s=i==="[object Array]";if(!s){if(typeof e!="object"||typeof t!="object")return!1;var o=e.constructor,u=t.constructor;if(o!==u&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];var a=n.length;while(a--)if(n[a]===e)return r[a]===t;n.push(e),r.push(t);if(s){a=e.length;if(a!==t.length)return!1;while(a--)if(!M(e[a],t[a],n,r))return!1}else{var l=m.keys(e),c;a=l.length;if(m.keys(t).length!==a)return!1;while(a--){c=l[a];if(!m.has(t,c)||!M(e[c],t[c],n,r))return!1}}return n.pop(),r.pop(),!0};m.isEqual=function(e,t){return M(e,t)},m.isEmpty=function(e){return e==null?!0:S(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?e.length===0:m.keys(e).length===0},m.isElement=function(e){return!!e&&e.nodeType===1},m.isArray=c||function(e){return f.call(e)==="[object Array]"},m.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){m["is"+e]=function(t){return f.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),typeof /./!="function"&&typeof Int8Array!="object"&&(m.isFunction=function(e){return typeof e=="function"||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return e===!0||e===!1||f.call(e)==="[object Boolean]"},m.isNull=function(e){return e===null},m.isUndefined=function(e){return e===void 0},m.has=function(e,t){return e!=null&&l.call(e,t)},m.noConflict=function(){return e._=r,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return function(t){return t==null?void 0:t[e]}},m.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=g(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var _={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=m.invert(_),P=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==null?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=P(_),m.unescape=P(D),m.result=function(e,t,n){var r=e==null?void 0:e[t];return r===void 0&&(r=n),m.isFunction(r)?r.call(e):r};var H=0;m.uniqueId=function(e){var t=++H+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,j={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,I=function(e){return"\\"+j[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r=RegExp([(t.escape||B).source,(t.interpolate||B).source,(t.evaluate||B).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){return s+=e.slice(i,u).replace(F,I),i=u+t.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(t.variable||"obj","_",s)}catch(u){throw u.source=s,u}var a=function(e){return o.call(this,e,m)},f=t.variable||"obj";return a.source="function("+f+"){\n"+s+"}",a},m.chain=function(e){var t=m(e);return t._chain=!0,t};var q=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return u.apply(e,arguments),q(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e==="shift"||e==="splice")&&n.length===0&&delete n[0],q(this,n)}}),m.each(["concat","join","slice"],function(e){var t=i[e];m.prototype[e]=function(){return q(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped}}).call(this)}),
define("lib/layouts/fullheight",["require","exports","module","lib/layout","lib/layouts/fullheight.css","lib/layouts/fullheight.tmpl"],function(e,t,n){var r=e("lib/layout"),i=n.exports=r.extend({css:e("lib/layouts/fullheight.css"),template:e("lib/layouts/fullheight.tmpl")})}),
define("lib/views/loading",["require","exports","module","lib/view","lib/views/loading.css"],function(e,t,n){var r=e("lib/view"),i=n.exports=r.extend({css:e("lib/views/loading.css"),className:"loadingThrobber",defaults:{size:"regular"},setup:function(e){this.$el.addClass(e.size)},template:function(){return""}})}),
define("lib/support",["require","exports","module","underscore","lib/helpers/client-environment-helper"],function(e,t,n){var r=e("underscore"),i=e("lib/helpers/client-environment-helper").browser,s,o,u=n.exports={};o=function(e){try{if(e.getItem){var t=Date.now();return e.setItem(t,t),e.removeItem(t),!0}}catch(n){}return!1},s={sessionStorage:function(){try{return typeof sessionStorage!="undefined"&&o(sessionStorage)}catch(e){return!1}},localStorage:function(){try{return typeof localStorage!="undefined"&&o(localStorage)}catch(e){return!1}},touch:function(){return s.pointerEvents()||s.touchEvents()},touchEvents:function(){return"ontouchstart"in window},pointerEvents:function(){return!!window.PointerEvent},orientationChange:function(){return"onorientationchange"in window},autoPlay:function(){return i.firefox},pushState:function(){return window.history&&window.history.pushState},sendBeacon:function(){return window.navigator.sendBeacon},nativeScroll:function(){var e=document.createElement("div"),t;return e.style.webkitOverflowScrolling="touch",document.body.appendChild(e),t=!!window.getComputedStyle(e).webkitOverflowScrolling,document.body.removeChild(e),t},typedArrays:function(){return!!window.hasOwnProperty("Uint8Array")}},r.each(s,function(e,t){u[t]=!!e()}),s=null}),
define("lib/view",["require","exports","module","$","underscore","lib/backbone","css","lib/event-bubble","lib/views/mixins/stateful","lib/template"],function(e,t,n){function c(e,t){var n=this;while(n&&!t.isPropagationStopped())n.trigger(e,t),n=n._parentView}function h(e,t){return i.defaults(t,e.prototype.defaults),e===l?t:h(e.__super__.constructor,t)}function p(e,t){var n,r;t=t||this.model,n=e?t.on:t.off,r=this.getObservedAttributes(t),r.forEach(function(e){n.call(t,"change:"+e,this.onModelChange,this)}.bind(this))}function d(e,t){var n;t=t||this.collection,n=e?"on":"off",t[n]("reset",this.onCollectionReset,this)[n]("add",this.onAdd,this)[n]("remove",this.onRemove,this)}var r=e("$"),i=e("underscore"),s=e("lib/backbone"),o=e("css"),u=e("lib/event-bubble"),a=e("lib/views/mixins/stateful"),f=e("lib/template"),l=n.exports=s.View.extend(a,{ModelClass:null,requiredAttributes:null,observedAttributes:null,css:null,template:r.noop,LoadingView:null,loadingViewArgs:null,loadingTemplate:function(){return""},element2selector:null,_element2selector_cache:null,defaults:null,bubbleEvents:null,disposed:!1,subviews:null,_subviews_keys:null,_lastEventId:null,constructorArguments:null,_whenInsertedDefer:null,_deferreds:null,initialize:function(e){var t;e=this.options=h(this.constructor,e||{}),this.constructorArguments=i.clone(e),e.resource_id&&this.ModelClass&&(this.model=t=this.getModel(e.resource_id,e.resource_type)),this._deferreds=[],this.subviews=[],this._subviews_keys=[],this.resetElementCache(),this._setupBubbleListeners(),this._setup.call(this,e),t&&this.model!==t&&t.release(),this.model?this.setupModelListeners():this.collection&&this.setupCollectionListeners()},_setup:function(){this.setup.apply(this,arguments)},setup:r.noop,_dispose:function(){if(this.disposed)return;this._teardown(),this.dispose(),this.disposed=!0;while(this._deferreds.length)typeof this._deferreds[0]=="number"?clearTimeout(this._deferreds.shift()):this._deferreds[0].reject("viewDisposed");this.off(),this.stopListening(),this.model&&(this.teardownModelListeners(),this.model.release()),this.collection&&(this.teardownCollectionListeners(),this.collection.release()),this.$el.remove(),delete this.el,delete this.$el,delete this.model,delete this.collection,this.constructorArguments=null},dispose:r.noop,_teardown:function(){this.disposeSubviews(),this._whenInsertedDefer&&(this._whenInsertedDefer.reject(),this._whenInsertedDefer=null),this.teardown(),this.resetElementCache()},teardown:r.noop,disposeSubviews:function(){while(this.subviews.length)this.subviews.pop()._dispose();this.subviews=[],this._subviews_keys=[]},getModel:function(e,t){var n,r,i,s,o;return s={id:e,resource_type:t},i=this.ModelClass.getClass?this.ModelClass.getClass(s):this.ModelClass,n=i.hashFn(s),r=i.instances.get(n),r?r.hold():(o={id:e},t&&(o.resource_type=t),r=new i(o)),r},setupModelListeners:function(e){p.call(this,!0,e)},teardownModelListeners:function(e){p.call(this,!1,e)},setupCollectionListeners:function(e){d.call(this,!0,e)},teardownCollectionListeners:function(e){d.call(this,!1,e)},_setupBubbleListeners:function(){var e,t,n;for(t in this.bubbleEvents)if(this.bubbleEvents.hasOwnProperty(t)){e=this.bubbleEvents[t],n=typeof e;if(n!=="string"&&n!=="function")throw"Incorrect bubble event handler: "+e+". Bubble event handlers must be either string and "+"represent a method of the view, or a function that will be bound to viewâ€™s context";this.on(t,n==="function"?e:this[e],this)}},getRequiredAttributes:function(e){var t=this.requiredAttributes;return e||(e=this.model),t&&!Array.isArray(t)&&(t=t[e.resource_type]),t||[]},getObservedAttributes:function(e){var t=this.observedAttributes,n;return e||(e=this.model),n=this.getRequiredAttributes(e),t&&!Array.isArray(t)&&(t=t[e.resource_type]),t?t.concat(n):n},addDeferred:function(e){return typeof e=="number"?this._deferreds.push(e):e.state()==="pending"&&(e.always(function(){var t=this._deferreds.indexOf(e);t>-1&&this._deferreds.splice(t,1)}.bind(this)),this._deferreds.push(e)),e},addSubview:function(e,t){return e._parentView=this,this.subviews.push(e),this._subviews_keys.push(t),t&&(this.subviews[t]=e),e},removeSubview:function(e){for(var t=this.subviews.length;t--;)if(this.subviews[t]===e){this._subviews_keys[t]&&(e._parentView=null,delete this.subviews[this._subviews_keys[t]]),this.subviews.splice(t,1),this._subviews_keys.splice(t,1);return}},getAncestorSubviews:function(){var e=[];return this.subviews.forEach(function(t){e.push(t),e=e.concat(t.getAncestorSubviews())}),e},getElement:function(e){var t;return this._element2selector_cache[e]===t&&(this._element2selector_cache[e]=this.$(this.element2selector[e])),this._element2selector_cache[e]},resetElementCache:function(){this._element2selector_cache={}},render:function(){var e=this.hasData(),t=this.getTemplate(e),n=this.model||this.collection,r=this._getTemplateData(e||!n);return t&&(f.render(t.bind(this),r,this.el),f.subviews(this)),this.css&&o.insert(this.css),e?this.renderDecorate():(!t&&this.LoadingView&&this.el.appendChild(this.addSubview(new this.LoadingView(i.result(this,"loadingViewArgs")),"loading").render().el),this.fetchData(n)),this},renderDecorate:r.noop,rerender:function(){this.disposed||(this._teardown(),this.render())},getTemplate:function(e){return e||!this.LoadingView&&!this.loadingTemplate?this.template:this.LoadingView?null:this.loadingTemplate},_getTemplateData:function(e){var t={};return this.model?t=this.getModelData():this.collection&&(t=this.getCollectionData()),t._options=i.clone(this.options),e&&(t=this.getTemplateData(t)||t),t},getTemplateData:r.noop,getCollectionData:function(){return this.collection.toJSON()},getModelData:function(){return this.model.toJSON()},bubble:function(e,t){var n=new u(t);return c.call(this,e,n),n},getContextData:function(){return this.bubble("contextrequest").data},fetchData:function(e){return e.fetch({attrs:this.getObservedAttributes(e)})},hasData:function(e){return e=e||this.model||this.collection,e?e.hasDataForView(this):!0},removeLoader:function(){var e=this.subviews.loading;e&&(e._dispose(),this.removeSubview(e))},isEquivalentTo:function(e,t){var n=t||{};return this.constructor===e&&i.isEqual(h(e,n),this.constructorArguments)},whenInserted:function(e){var t=this._whenInsertedDefer,n,i;return t||(e=e||document.body,i=function(r){r.closest(e).length!==0?t.resolve():n=setTimeout(i,100)}.bind(null,this.$el),this._whenInsertedDefer=t=r.Deferred(),t.fail(function(){clearTimeout(n)}),i()),t},onModelChange:function(e,t,n,r){this._lastEventId!==r&&(this._lastEventId=r,this.rerender())},onCollectionReset:function(){this.rerender()},onAdd:r.noop,onRemove:r.noop})}),
define("lib/helpers/viewport-helper",["require","exports","module","$","underscore","lib/support"],function(e,t,n){function l(){return window.pageYOffset||document.compatMode==="CSS1Compat"&&document.documentElement.scrollTop||document.body&&document.body.scrollTop||0}var r=e("$"),i=e("underscore"),s=e("lib/support"),o=300,u,a,f=n.exports={hideAddressBar:function(e){var t=e&&e.layoutName==="listen",n=l();s.nativeScroll?i.delay(function(){a[0].scrollTop=0},100):!document.location.hash&&(n<20||t)&&i.defer(function(){window.scrollTo(0,Number(n===1))})},enableNativeScroll:function(e){a=e,e.addClass("g-native-scroll"),setInterval(function(){u!==e[0].scrollTop&&(u=e[0].scrollTop,r(document).trigger("scroll"))},o)}}}),
define("views/app.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform("#app{background:#f2f2f2}#app,#app>#content,#app>#content>div{height:100%}.app__header{position:fixed;top:0;left:0;height:44px;width:100%}.app__miniPlayer{display:none;height:54px;position:fixed;bottom:0;left:0;width:100%}.app__displayMiniPlayer .app__miniPlayer{display:block}#content{padding-top:103px;opacity:1;-webkit-transition:padding .2s linear,opacity .5s linear;transition:padding .2s linear,opacity .5s linear}.app__hideUpsell #content{padding-top:44px}.app__upsell{position:absolute;padding-top:44px;width:100%}.app__displayMiniPlayer #content{padding-bottom:57px}.app__loading{-webkit-transition:opacity .5s linear;transition:opacity .5s linear;opacity:0;position:absolute;padding-top:44px;top:0;left:0;width:100%;height:100%;overflow:hidden}.show-throbber .app__loading{opacity:1}.show-throbber #content{opacity:0}#app.iPhone4Safari{height:416px}#app.iPhone5Safari{height:506px}")),data=null}),
define("views/app.tmpl",["vendor/handlebars-runtime","views/header/header","views/banner/upsell","views/play-controls/play-controls"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<div class="app__header g-z-index-header"> '+o(n.$view.call(t,"views/header/header",{hash:{},data:i}))+'\n</div> <div class="app__upsell g-z-index-upsell"> '+o(n.$view.call(t,"views/banner/upsell",{hash:{},data:i}))+'\n</div> <div class="app__loading g-z-index-hidden"></div> <main id="content" class="l-container" role="main"></main> <div class="app__miniPlayer g-z-index-header"> '+o(n.$view.call(t,"views/play-controls/play-controls",{hash:{},data:i}))+"\n</div> ",s})}),function(e,t){if(typeof define=="function"&&define.amd)
define("backbone",["underscore","$","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,r){var i=e.Backbone,s=[],o=s.push,u=s.slice,a=s.splice;t.VERSION="1.1.2",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var f=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,r){if(!c(this,"once",e,[t,r])||!t)return this;var i=this,s=n.once(function(){i.off(e,s),t.apply(this,arguments)});return s._callback=t,this.on(e,s,r)},off:function(e,t,r){var i,s,o,u,a,f,l,h;if(!this._events||!c(this,"off",e,[t,r]))return this;if(!e&&!t&&!r)return this._events=void 0,this;u=e?[e]:n.keys(this._events);for(a=0,f=u.length;a<f;a++){e=u[a];if(o=this._events[e]){this._events[e]=i=[];if(t||r)for(l=0,h=o.length;l<h;l++)s=o[l],(t&&t!==s.callback&&t!==s.callback._callback||r&&r!==s.context)&&i.push(s);i.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=u.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&h(n,t),r&&h(r,arguments),this},stopListening:function(e,t,r){var i=this._listeningTo;if(!i)return this;var s=!t&&!r;!r&&typeof t=="object"&&(r=this),e&&((i={})[e._listenId]=e);for(var o in i)e=i[o],e.off(t,r,this),(s||n.isEmpty(e._events))&&delete this._listeningTo[o];return this}},l=/\s+/,c=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(l.test(n)){var s=n.split(l);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},h=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t);return}},p={listenTo:"on",listenToOnce:"once"};n.each(p,function(e,t){f[t]=function(t,r,i){var s=this._listeningTo||(this._listeningTo={}),o=t._listenId||(t._listenId=n.uniqueId("l"));return s[o]=t,!i&&typeof r=="object"&&(i=this),t[e](r,i,this),this}}),f.bind=f.on,f.unbind=f.off,n.extend(t,f);var d=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(d.prototype,f,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,r){var i,s,o,u,a,f,l,c;if(e==null)return this;typeof e=="object"?(s=e,r=t):(s={})[e]=t,r||(r={});if(!this._validate(s,r))return!1;o=r.unset,a=r.silent,u=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=n.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)t=s[i],n.isEqual(c[i],t)||u.push(i),n.isEqual(l[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete c[i]:c[i]=t;if(!a){u.length&&(this._pending=r);for(var h=0,p=u.length;h<p;h++)this.trigger("change:"+u[h],this,c[u[h]],r)}if(f)return this;if(!a)while(this._pending)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e){if(n.isEqual(i[s],t=e[s]))continue;(r||(r={}))[s]=t}return r},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,r=e.success;return e.success=function(n){t.lastFetchTime=Date.now();if(!t.set(t.parse(n,e),e))return!1;r&&r(t,n,e),t.trigger("sync",t,n,e)},I(this,e),this.sync("read",this,e)},save:function(e,t,r){var i,s,o,u=this.attributes;e==null||typeof e=="object"?(i=e,r=t):(i={})[e]=t,r=n.extend({validate:!0},r);if(i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},u,i)),r.parse===void 0&&(r.parse=!0);var a=this,f=r.success;return r.success=function(e){a.attributes=u;var t=a.parse(e,r);r.wait&&(t=n.extend(i||{},t));if(n.isObject(t)&&!a.set(t,r))return!1;f&&f(a,e,r),a.trigger("sync",a,e,r)},I(this,r),s=this.isNew()?"create":r.patch?"patch":"update",s==="patch"&&(r.attrs=i),o=this.sync(s,this,r),i&&r.wait&&(this.attributes=u),o},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(n){(e.wait||t.isNew())&&i(),r&&r(t,n,e),t.isNew()||t.trigger("sync",t,n,e)};if(this.isNew())return e.success(),!1;I(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||F();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return r?(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1):!0}});var v=["keys","values","pairs","invert","pick","omit"];n.each(v,function(e){d.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var m=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},y={add:!0,remove:!1};n.extend(m.prototype,f,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,y))},remove:function(e,t){var r=!n.isArray(e);e=r?[e]:n.clone(e),t||(t={});var i,s,o,u;for(i=0,s=e.length;i<s;i++){u=e[i]=this.get(e[i]);if(!u)continue;delete this._byId[u.id],delete this._byId[u.cid],o=this.indexOf(u),this.models.splice(o,1),this.length--,t.silent||(t.index=o,u.trigger("remove",u,this,t)),this._removeReference(u,t)}return r?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:n.clone(e);var i,s,o,u,a,f,l,c=t.at,h=this.model,p=this.comparator&&c==null&&t.sort!==!1,v=n.isString(this.comparator)?this.comparator:null,m=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!p&&w&&S?[]:!1;for(i=0,s=e.length;i<s;i++){a=e[i]||{},a instanceof d?o=u=a:o=a[h.prototype.idAttribute||"id"];if(f=this.get(o))S&&(b[f.cid]=!0),E&&(a=a===u?u.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),p&&!l&&f.hasChanged(v)&&(l=!0)),e[i]=f;else if(w){u=e[i]=this._prepareModel(a,t);if(!u)continue;m.push(u),this._addReference(u,t)}u=f||u,x&&(u.isNew()||!b[u.id])&&x.push(u),b[u.id]=!0}if(S){for(i=0,s=this.length;i<s;++i)b[(u=this.models[i]).cid]||y.push(u);y.length&&this.remove(y,t)}if(m.length||x&&x.length){p&&(l=!0),this.length+=m.length;if(c!=null)for(i=0,s=m.length;i<s;i++)this.models.splice(c+i,0,m[i]);else{x&&(this.models.length=0);var T=x||m;for(i=0,s=T.length;i<s;i++)this.models.push(T[i])}}l&&this.sort({silent:!0});if(!t.silent){for(i=0,s=m.length;i<s;i++)(u=m[i]).trigger("add",u,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return r?e[0]:e},reset:function(e,t){t||(t={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return u.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,r=this;return e.success=function(n){r.lastFetchTime=Date.now();var i=e.reset?"reset":"set";r[i](n,e),t&&t(r,n,e),r.trigger("sync",r,n,e)},I(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var r=this,i=t.success;return t.success=function(e,n){t.wait&&r.add(e,t),i&&i(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof d)return e;t=t?n.clone(t):{},t.collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_addReference:function(e,t){this._byId[e.cid]=e,e.id!=null&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(b,function(e){m.prototype[e]=function(){var t=u.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var w=["groupBy","countBy","sortBy","indexBy"];n.each(w,function(e){m.prototype[e]=function(t,r){var i=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,i,r)}});var E=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(E.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var r=e[t];n.isFunction(r)||(r=this[e[t]]);if(!r)continue;var i=t.match(S),s=i[1],o=i[2];r=n.bind(r,this),s+=".delegateEvents"+this.cid,o===""?this.$el.on(s,r):this.$el.on(s,o,r)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var r=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(r,!1)}else this.setElement(n.result(this,"el"),!1)}}),t.sync=function(e,r,i){var s=N[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:s,dataType:"json"};i.url||(o.url=n.result(r,"url")||F()),i.data==null&&r&&(e==="create"||e==="update"||e==="patch")&&(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{});if(i.emulateHTTP&&(s==="PUT"||s==="DELETE"||s==="PATCH")){o.type="POST",i.emulateJSON&&(o.data._method=s);var u=i.beforeSend;i.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",s);if(u)return u.apply(this,arguments)}}o.type!=="GET"&&!i.emulateJSON&&(o.processData=!1),o.type==="PATCH"&&T&&(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,a,i),a};var T=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),N={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},k=/\((.*?)\)/g,L=/(\(\?)?:\w+/g,A=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,f,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return t.history.route(e,function(n){var o=s._extractParameters(e,n);s.execute(i,o),s.trigger.apply(s,["route:"+r].concat(o)),s.trigger("route",r,o),t.history.trigger("route",s,r,o)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(!this.routes)return;this.routes=n.result(this,"routes");var e,t=n.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(k,"(?:$1)?").replace(L,function(e,t){return t?e:"([^/?]+)"}).replace(A,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var M=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},_=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,P=/msie [\w.]+/,H=/\/$/,B=/#.*$/;M.started=!1,n.extend(M.prototype,f,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(H,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(_,"")},start:function(e){if(M.started)throw new Error("Backbone.history has already been started");M.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,s=P.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(D,"/");if(s&&this._wantsHashChange){var o=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=o.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var u=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&u.hash&&(this.fragment=this.getHash().replace(_,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),M.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!M.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(B,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new M;var j=function(e,t){var r=this,i;e&&n.has(e,"constructor")?i=e.constructor:i=function(){return r.apply(this,arguments)},n.extend(i,r,t);var s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};d.extend=m.extend=C.extend=E.extend=M.extend=j;var F=function(){throw new Error('A "url" property or function must be specified')},I=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}};return t}),
define("lib/mixin",["require","exports","module","vendor/remixin/dist/remixin-cjs"],function(e,t,n){n.exports=e("vendor/remixin/dist/remixin-cjs")}),
define("lib/mixins/observing",["require","exports","module","underscore","lib/backbone","lib/mixin"],function(e,t,n){var r=e("underscore"),i=e("lib/backbone"),s=e("lib/mixin"),o=n.exports=new s(r.extend({around:{set:function(e,t,n,r){var i=r&&r.silent,s,o;return i||(o=this.get(t)),s=e(t,n,r),!i&&o!==n&&this.trigger(t,{prev:o,current:n}),s},unset:function(e,t,n){var r=n&&n.silent,i,s;return r||(s=this.get(t)),i=e(t,n),!r&&s!==undefined&&this.trigger(t,{prev:s,current:undefined}),i}},before:{reset:function(e){(!e||!e.silent)&&this.each(function(e,t){this.trigger(t,{prev:this.get(t),current:undefined})},this)}}},i.Events))}),
define("lib/store",["require","exports","module","underscore"],function(e,t,n){var r=e("underscore"),i={};["each","forEach","map","find","detect","filter","select","reduce","reject","every","all","any","some","include","contains"].forEach(function(e){i[e]=function(){var t=[this._store];return t.push.apply(t,arguments),r[e].apply(r,t)}});var s=n.exports=Class.extend([i,{initialize:function(e){this._store={},this.length=0,this._final=!1,this.maxLength=e&&e.maxLength||!1,this.maxLength&&(this._keys=[])},maxLength:0,get:function(e){return this._store[e]},set:function(e,t){return this.has(e)?this.maxLength&&this._keys.splice(this._keys.indexOf(e),1):(++this.length,this.maxLength&&this.length>this.maxLength&&this.unset(this._keys[0])),this.maxLength&&this._keys.push(e),this._store[e]=t,this},unset:function(e){var t;return this.has(e)&&(--this.length,this._final?this._store[e]=t:(delete this._store[e],this.maxLength&&this._keys.splice(this._keys.indexOf(e),1))),this},reset:function(){return this._store={},this.maxLength&&(this._keys=[]),this._final=!1,this.length=0,this},has:function(e){return this._store.hasOwnProperty(e)},keys:function(){return Object.keys(this._store)},finalize:function(){this._final=!0}}])}),function(t,n){typeof exports=="object"&&typeof module=="object"?module.exports=n():typeof define=="function"&&define.amd?
define("vendor/airbrake-js/airbrake-js",[],n):typeof exports=="object"?exports.Client=n():(t.airbrakeJs=t.airbrakeJs||{},t.airbrakeJs.Client=n())}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var t={};return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";function r(e,t){t===void 0&&(t=64e3);var n="";for(var r=0;r<8;r++){e.context=i(e.context,r),e.params=i(e.params,r),e.environment=i(e.environment,r),e.session=i(e.session,r),n=JSON.stringify(e);if(n.length<t)return n}var s=new Error("airbrake-js: cannot jsonify notice (length="+n.length+" maxLength="+t+")");throw s.params={json:n.slice(0,Math.floor(t/2))+"..."},s}function i(e,t){var n={};for(var r in e)n[r]=o(e[r],t);return n}function o(e,t){var n=new s(t);return n.truncate(e)}function u(e,t){try{return e[t]}catch(n){return}}function a(e){var t=Object.prototype.toString.apply(e);return t.slice("[object ".length,-1)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var s=function(){function e(e){e===void 0&&(e=0),this.maxStringLength=1024,this.maxObjectLength=128,this.maxArrayLength=32,this.maxDepth=8,this.keys=[],this.seen=[],this.maxStringLength=this.maxStringLength>>e||1,this.maxObjectLength=this.maxObjectLength>>e||1,this.maxArrayLength=this.maxArrayLength>>e||1,this.maxDepth=this.maxDepth>>e||1}return e.prototype.truncate=function(e,t,n){t===void 0&&(t=""),n===void 0&&(n=0);if(e===null||e===undefined)return e;switch(typeof e){case"boolean":case"number":case"function":return e;case"string":return this.truncateString(e);case"object":break;default:return String(e)}if(e instanceof String)return this.truncateString(e.toString());if(e instanceof Boolean||e instanceof Number||e instanceof Date||e instanceof RegExp)return e;if(e instanceof Error)return e.toString();if(this.seen.indexOf(e)>=0)return"[Circular "+this.getPath(e)+"]";var r=a(e);n++;if(n>this.maxDepth)return"[Truncated "+r+"]";this.keys.push(t),this.seen.push(e);switch(r){case"Array":return this.truncateArray(e,n);case"Object":return this.truncateObject(e,n);default:var i=this.maxDepth;this.maxDepth=0;var s=this.truncateObject(e,n);return s.__type=r,this.maxDepth=i,s}},e.prototype.getPath=function(e){var t=this.seen.indexOf(e),n=[this.keys[t]];for(var r=t;r>=0;r--){var i=this.seen[r];i&&u(i,n[0])===e&&(e=i,n.unshift(this.keys[r]))}return"~"+n.join(".")},e.prototype.truncateString=function(e){return e.length>this.maxStringLength?e.slice(0,this.maxStringLength)+"...":e},e.prototype.truncateArray=function(e,t){var n=0,r=[];for(var i in e){var s=e[i];n++;if(n>=this.maxArrayLength)break;r.push(this.truncate(s,i,t))}return r},e.prototype.truncateObject=function(e,t){var n=0,r={};for(var i in e){var s=u(e,i);if(s===undefined||typeof s=="function")continue;n++;if(n>=this.maxObjectLength)break;r[i]=this.truncate(s,i,t)}return r},e}();t.truncate=o},function(e,t,n){"use strict";var r=n(14),i=n(13),s=n(7),o=n(6),u=n(9),a=n(5),f=n(10),l=n(8),c=n(18),h=n(15),p=n(17),d=n(19),v=n(16),m=n(12),g=function(){function e(e){e===void 0&&(e={});var t=this;this.opts={},this.reporters=[],this.filters=[],this.offline=!1,this.errors=[],this.opts.projectId=e.projectId,this.opts.projectKey=e.projectKey,this.opts.host=e.host||"https://api.airbrake.io",this.opts.timeout=e.timeout||1e4,this.processor=e.processor||i.default,this.addReporter(e.reporter||c.detectReporter(e)),this.addFilter(s.default),this.addFilter(o.default()),this.addFilter(u.default),this.addFilter(a.default),typeof window=="object"?(this.addFilter(f.default),typeof window.addEventListener=="function"&&(window.addEventListener("online",this.onOnline.bind(this)),window.addEventListener("offline",function(){return t.offline=!0}))):this.addFilter(l.default),m.historian.registerNotifier(this)}return e.prototype.setProject=function(e,t){this.opts.projectId=e,this.opts.projectKey=t},e.prototype.setHost=function(e){this.opts.host=e},e.prototype.addReporter=function(e){var t;switch(e){case"fetch":t=h.default;break;case"node":t=p.default;break;case"xhr":t=d.default;break;case"jsonp":t=v.default;break;default:t=e}this.reporters.push(t)},e.prototype.addFilter=function(e){this.filters.push(e)},e.prototype.notify=function(e){var t=this;if(typeof e!="object"||e.error===undefined)e={error:e};var n=e.promise||new r.default;if(!e.error){var i=new Error("notify: got err="+JSON.stringify(e.error)+", wanted an Error");return n.reject(i),n}if(this.offline)return e.promise=n,this.errors.push(e),this.errors.length>100&&this.errors.slice(-100),n;var s={id:"",errors:[],context:Object.assign({language:"JavaScript",severity:"error",notifier:{name:"airbrake-js",version:"0.9.0",url:"https://github.com/airbrake/airbrake-js"}},e.context),params:e.params||{},environment:e.environment||{},session:e.session||{}},o=m.getHistory();return o.length>0&&(s.context.history=o),this.processor(e.error,function(e,r){s.errors.push(r);for(var i=0,o=t.filters;i<o.length;i++){var u=o[i],a=u(s);if(a===null)return;s=a}for(var f=0,l=t.reporters;f<l.length;f++){var c=l[f];c(s,t.opts,n)}}),n},e.prototype.wrap=function(e){if(e.__airbrake)return e;var t=this,n=function(){var n=Array.prototype.slice.call(arguments),r=t.wrapArguments(n);try{return e.apply(this,r)}catch(i){throw t.notify({error:i,params:{arguments:n}}),m.historian.ignoreNextWindowError(),i}};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.__airbrake=!0,n.__inner=e,n},e.prototype.wrapArguments=function(e){for(var t in e){var n=e[t];typeof n=="function"&&(e[t]=this.wrap(n))}return e},e.prototype.call=function(e){var t=[];for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.wrap(e);return r.apply(this,Array.prototype.slice.call(arguments,1))},e.prototype.onerror=function(){m.historian.onerror.apply(m.historian,arguments)},e.prototype.onOnline=function(){this.offline=!1;for(var e=0,t=this.errors;e<t.length;e++){var n=t[e];this.notify(n)}this.errors=[]},e}();e.exports=g},function(e,t){Object.assign||(Object.assign=function(e){var t=[];for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=function(t){t&&Object.keys(t).forEach(function(n){return e[n]=t[n]})};for(var i=0,s=t;i<s.length;i++){var o=s[i];r(o)}return e})},function(e,t,n){var r=!1;(function(t,i){"use strict";typeof r=="function"&&r.amd?r("vendor/airbrake-js/airbrake-js","error-stack-parser",["stackframe"],i):e.exports=i(n(4))})(this,function(t){"use strict";var n=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,i=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if(typeof t.stacktrace!="undefined"||typeof t["opera#sourceloc"]!="undefined")return this.parseOpera(t);if(t.stack&&t.stack.match(r))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(t.indexOf(":")===-1)return[t];var n=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/,r=n.exec(t.replace(/[\(\)]/g,""));return[r[1],r[2]||undefined,r[3]||undefined]},parseV8OrIE:function(n){var i=n.stack.split("\n").filter(function(e){return!!e.match(r)},this);return i.map(function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var n=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),r=this.extractLocation(n.pop()),i=n.join(" ")||undefined,s=["eval","<anonymous>"].indexOf(r[0])>-1?undefined:r[0];return new t({functionName:i,fileName:s,lineNumber:r[1],columnNumber:r[2],source:e})},this)},parseFFOrSafari:function(n){var r=n.stack.split("\n").filter(function(e){return!e.match(i)},this);return r.map(function(e){e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1"));if(e.indexOf("@")===-1&&e.indexOf(":")===-1)return new t({functionName:e});var n=e.split("@"),r=this.extractLocation(n.pop()),i=n.join("@")||undefined;return new t({functionName:i,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(n){var r=/Line (\d+).*script (?:in )?(\S+)/i,i=n.message.split("\n"),s=[];for(var o=2,u=i.length;o<u;o+=2){var a=r.exec(i[o]);a&&s.push(new t({fileName:a[2],lineNumber:a[1],source:i[o]}))}return s},parseOpera10:function(n){var r=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,i=n.stacktrace.split("\n"),s=[];for(var o=0,u=i.length;o<u;o+=2){var a=r.exec(i[o]);a&&s.push(new t({functionName:a[3]||undefined,fileName:a[2],lineNumber:a[1],source:i[o]}))}return s},parseOpera11:function(r){var i=r.stack.split("\n").filter(function(e){return!!e.match(n)&&!e.match(/^Error created at/)},this);return i.map(function(e){var n=e.split("@"),r=this.extractLocation(n.pop()),i=n.shift()||"",s=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||undefined,o;i.match(/\(([^\)]*)\)/)&&(o=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var u=o===undefined||o==="[arguments not available]"?undefined:o.split(",");return new t({functionName:s,args:u,fileName:r[0],lineNumber:r[1],columnNumber:r[2],source:e})},this)}}})},function(e,t,n){var r=!1;(function(t,n){"use strict";typeof r=="function"&&r.amd?r("vendor/airbrake-js/airbrake-js","stackframe",[],n):e.exports=n()})(this,function(){"use strict";function e(e){return!isNaN(parseFloat(e))&&isFinite(e)}function t(e){return e[0].toUpperCase()+e.substring(1)}function n(e){return function(){return this[e]}}function a(e){if(e instanceof Object)for(var n=0;n<u.length;n++)e.hasOwnProperty(u[n])&&e[u[n]]!==undefined&&this["set"+t(u[n])](e[u[n]])}var r=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],s=["fileName","functionName","source"],o=["args"],u=r.concat(i,s,o);a.prototype={getArgs:function(){return this.args},setArgs:function(e){if(Object.prototype.toString.call(e)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=e},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(e){if(e instanceof a)this.evalOrigin=e;else{if(!(e instanceof Object))throw new TypeError("Eval Origin must be an Object or StackFrame");this.evalOrigin=new a(e)}},toString:function(){var t=this.getFunctionName()||"{anonymous}",n="("+(this.getArgs()||[]).join(",")+")",r=this.getFileName()?"@"+this.getFileName():"",i=e(this.getLineNumber())?":"+this.getLineNumber():"",s=e(this.getColumnNumber())?":"+this.getColumnNumber():"";return t+n+r+i+s}};for(var f=0;f<r.length;f++)a.prototype["get"+t(r[f])]=n(r[f]),a.prototype["set"+t(r[f])]=function(e){return function(t){this[e]=Boolean(t)}}(r[f]);for(var l=0;l<i.length;l++)a.prototype["get"+t(i[l])]=n(i[l]),a.prototype["set"+t(i[l])]=function(t){return function(n){if(!e(n))throw new TypeError(t+" must be a Number");this[t]=Number(n)}}(i[l]);for(var c=0;c<s.length;c++)a.prototype["get"+t(s[c])]=n(s[c]),a.prototype["set"+t(s[c])]=function(e){return function(t){this[e]=String(t)}}(s[c]);return a})},function(e,t,n){"use strict";function i(e){var t=e.errors[0];if(t.type!==""&&t.type!=="Error")return e;var n=t.message.match(r);return n!==null&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","\\[(\\$.+)\\]","\\s","([\\s\\S]+)","$"].join(""));t.default=i},function(e,t,n){"use strict";function r(){var e,t;return function(n){var r=JSON.stringify(n);return r===e?null:(t&&clearTimeout(t),e=r,t=setTimeout(function(){e=""},1e3),n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function i(e){var t=e.errors[0];if(t.type===""&&r.indexOf(t.message)!==-1)return null;if(t.backtrace){var n=t.backtrace[0];if(n.file==="<anonymous>")return null}return e}Object.defineProperty(t,"__esModule",{value:!0});var r=["Script error","Script error.","InvalidAccessError"];t.default=i},function(module,exports,__webpack_require__){"use strict";function filter(e){os&&(e.context.os=os.type()+"/"+os.release(),e.context.architecture=os.arch(),e.context.hostname=os.hostname()),e.context.platform=myProcess.platform,e.context.rootDirectory||(e.context.rootDirectory=myProcess.cwd()),myProcess.env.NODE_ENV&&(e.context.environment=myProcess.env.NODE_ENV),e.params.process={pid:myProcess.pid,cwd:myProcess.cwd(),execPath:myProcess.execPath,argv:myProcess.argv};for(var t in["uptime","cpuUsage","memoryUsage"])myProcess[t]&&(e.params.process[t]=myProcess[t]());return os&&(e.params.os={homedir:os.homedir(),uptime:os.uptime(),freemem:os.freemem(),totalmem:os.totalmem(),loadavg:os.loadavg()}),e}Object.defineProperty(exports,"__esModule",{value:!0});var myProcess,os;try{myProcess=eval("process"),os=eval("require")("os")}catch(_){}exports.default=filter},function(e,t,n){"use strict";function i(e){var t=e.errors[0];if(t.type!==""&&t.type!=="Error")return e;var n=t.message.match(r);return n!==null&&(t.type=n[1],t.message=n[2]),e}Object.defineProperty(t,"__esModule",{value:!0});var r=new RegExp(["^","Uncaught\\s","(.+?)",":\\s","(.+)","$"].join(""));t.default=i},function(e,t,n){"use strict";function r(e){return window.navigator&&window.navigator.userAgent&&(e.context.userAgent=window.navigator.userAgent),window.location&&(e.context.url=String(window.location),e.context.rootDirectory=window.location.protocol+"//"+window.location.host),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function i(e){if(!e)return"";var t=[];e.tagName&&t.push(e.tagName.toLowerCase()),e.id&&(t.push("#"),t.push(e.id)),e.className&&(t.push("."),t.push(e.className.split(" ").join(".")));if(e.getAttribute)for(var n=0,i=r;n<i.length;n++){var s=i[n],o=e.getAttribute(s);o&&t.push("["+s+'="'+o+'"]')}return t.join("")}function s(e){var t=10,n=[],r=e;while(r){var s=i(r);if(s!==""){n.push(s);if(n.length>t)break}r=r.parentNode}return n.length===0?String(e):n.reverse().join(" > ")}function o(e){return function(t){var n;try{n=t.target}catch(r){return}if(!n)return;var i={type:t.type};try{i.target=s(n)}catch(o){i.target="<"+o.toString()+">"}e.pushHistory(i)}}Object.defineProperty(t,"__esModule",{value:!0});var r=["type","name","src"];t.makeEventHandler=o},function(module,exports,__webpack_require__){"use strict";function getHistory(){return exports.historian.getHistory()}Object.defineProperty(exports,"__esModule",{value:!0});var dom_1=__webpack_require__(11),Historian=function(){function Historian(){var _this=this;this.historyMaxLen=20,this.notifiers=[],this.errors=[],this.ignoreWindowError=0,this.history=[],this.ignoreNextXHR=0;if(typeof window=="object"){var self_1=this,oldHandler_1=window.onerror;window.onerror=function(){oldHandler_1&&oldHandler_1.apply(this,arguments),self_1.onerror.apply(self_1,arguments)}}else{var p=eval("process");p.on("uncaughtException",function(e){throw _this.notify(e),e}),p.on("unhandledRejection",function(e,t){_this.notify(e)})}typeof document=="object"&&this.dom(),typeof console=="object"&&this.console(),typeof fetch=="function"&&this.fetch(),typeof XMLHttpRequest!="undefined"&&this.xhr(),typeof history=="object"&&this.location()}return Historian.prototype.registerNotifier=function(e){this.notifiers.push(e);for(var t=0,n=this.errors;t<n.length;t++){var r=n[t];this.notifyNotifiers(r)}this.errors=[]},Historian.prototype.notify=function(e){if(this.notifiers.length>0){this.notifyNotifiers(e);return}this.errors.push(e),this.errors.length>this.historyMaxLen&&(this.errors=this.errors.slice(-this.historyMaxLen))},Historian.prototype.notifyNotifiers=function(e){for(var t=0,n=this.notifiers;t<n.length;t++){var r=n[t];r.notify(e)}},Historian.prototype.onerror=function(e,t,n,r,i){if(this.ignoreWindowError>0)return;if(i){this.notify({error:i,context:{windowError:!0}});return}if(!t||!n)return;this.notify({error:{message:e,fileName:t,lineNumber:n,columnNumber:r,noStack:!0},context:{windowError:!0}})},Historian.prototype.ignoreNextWindowError=function(){var e=this;this.ignoreWindowError++,setTimeout(function(){return e.ignoreWindowError--})},Historian.prototype.getHistory=function(){return this.history},Historian.prototype.pushHistory=function(e){if(this.isDupState(e)){this.lastState.num?this.lastState.num++:this.lastState.num=2;return}e.date||(e.date=new Date),this.history.push(e),this.lastState=e,this.history.length>this.historyMaxLen&&(this.history=this.history.slice(-this.historyMaxLen))},Historian.prototype.isDupState=function(e){if(!this.lastState)return!1;for(var t in e){if(t==="date")continue;if(e[t]!==this.lastState[t])return!1}return!0},Historian.prototype.dom=function(){var e=dom_1.makeEventHandler(this);document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e),document.addEventListener("click",e),document.addEventListener("keypress",e),window.addEventListener("error",function(t){if("error"in t)return;e(t)},!0)},Historian.prototype.console=function(){var e=this,t=["debug","log","info","warn","error"],n=function(t){if(!(t in console))return"continue";var n=console[t],r=function(){n.apply(console,arguments),e.pushHistory({type:"log",severity:t,arguments:Array.prototype.slice.call(arguments)})};console[t]=r};for(var r=0,i=t;r<i.length;r++){var s=i[r];n(s)}},Historian.prototype.fetch=function(){var e=this,t=fetch;window.fetch=function(n,r){var i={type:"xhr",date:new Date};typeof n=="string"?i.url=n:i.url=n.url,r&&r.method?i.method=r.method:i.method="GET",e.ignoreNextXHR++,setTimeout(function(){return e.ignoreNextXHR--});var s=t.apply(this,arguments);return s.then(function(t){i.statusCode=t.status,i.duration=(new Date).getTime()-i.date.getTime(),e.pushHistory(i)}),s}},Historian.prototype.xhr=function(){var e=this,t=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(n,r,i,s,o){e.ignoreNextXHR===0&&(this.__state={type:"xhr",method:n,url:r}),t.apply(this,arguments)};var n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(t){var r=this.onreadystatechange;return this.onreadystatechange=function(t){this.readyState===4&&this.__state&&e.recordReq(this);if(r)return r.apply(this,arguments)},this.__state&&(this.__state.date=new Date),n.apply(this,arguments)}},Historian.prototype.recordReq=function(e){var t=e.__state;t.statusCode=e.status,t.duration=(new Date).getTime()-t.date.getTime(),this.pushHistory(t)},Historian.prototype.location=function(){this.lastLocation=document.location.pathname;var e=this,t=window.onpopstate;window.onpopstate=function(n){e.recordLocation(document.location.pathname);if(t)return t.apply(this,arguments)};var n=history.pushState;history.pushState=function(t,r,i){i&&e.recordLocation(i.toString()),n.apply(this,arguments)}},Historian.prototype.recordLocation=function(e){var t=e.indexOf("://");t>=0?(e=e.slice(t+3),t=e.indexOf("/"),t>=0?e=e.slice(t):e="/"):e.charAt(0)!=="/"&&(e="/"+e),this.pushHistory({type:"location",from:this.lastLocation,to:e}),this.lastLocation=e},Historian}();exports.default=Historian,exports.historian=new Historian,exports.getHistory=getHistory},function(e,t,n){"use strict";function s(e){try{return r.parse(e)}catch(t){i&&e.stack&&console.warn("ErrorStackParser:",t.toString(),e.stack)}return e.fileName?[e]:[]}function o(e,t){var n=[];if(!e.noStack){var r=s(e);if(r.length===0)try{throw new Error("fake")}catch(i){r=s(i),r.shift(),r.shift()}for(var o=0,u=r;o<u.length;o++){var a=u[o];n.push({"function":a.functionName||"",file:a.fileName||"<anonymous>",line:a.lineNumber||0,column:a.columnNumber||0})}}var f;e.name?f=e.name:f="";var l;e.message?l=String(e.message):l=String(e),t("stacktracejs",{type:f,message:l,backtrace:n})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=typeof console=="object"&&console.warn;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.onResolved=[],this.onRejected=[],e&&e(this.resolve.bind(this),this.reject.bind(this))}return e.prototype.then=function(e,t){return e&&(this.resolvedWith?e(this.resolvedWith):this.onResolved.push(e)),t&&(this.rejectedWith?t(this.rejectedWith):this.onRejected.push(t)),this},e.prototype.catch=function(e){return this.rejectedWith?e(this.rejectedWith):this.onRejected.push(e),this},e.prototype.resolve=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.resolvedWith=e;for(var t=0,n=this.onResolved;t<n.length;t++){var r=n[t];r(e)}return this},e.prototype.reject=function(e){if(this.resolvedWith||this.rejectedWith)throw new Error("Promise is already resolved or rejected");this.rejectedWith=e;for(var t=0,n=this.onRejected;t<n.length;t++){var r=n[t];r(e)}return this},e}();t.default=r},function(e,t,n){"use strict";function i(e,t,n){var i=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,s=r.default(e);fetch(i,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:s}).then(function(t){if(t.status>=200&&t.status<500){t.json().then(function(t){if(t.id){e.id=t.id,n.resolve(e);return}if(t.error){var r=new Error(t.error);n.reject(r);return}});return}t.text().then(function(e){var r=new Error("airbrake: fetch: unexpected response: code="+t.status+" body='"+e+"'");n.reject(r)})}).catch(function(e){n.reject(e)})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=i},function(e,t,n){"use strict";function s(e,t,n){i++;var s="airbrakeCb"+String(i);window[s]=function(t){try{delete window[s]}catch(r){window[s]=undefined}if(t.id){e.id=t.id,n.resolve(e);return}if(t.error){var i=new Error(t.error);n.reject(i);return}var o=new Error(t);n.reject(o)};var o=encodeURIComponent(r.default(e)),u=t.host+"/api/v3/projects/"+t.projectId+"/create-notice?key="+t.projectKey+"&callback="+s+"&body="+o,a=window.document,f=a.getElementsByTagName("head")[0],l=a.createElement("script");l.src=u,l.onload=function(){return f.removeChild(l)},l.onerror=function(){f.removeChild(l);var e=new Error("airbrake: JSONP script error");n.reject(e)},f.appendChild(l)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=0;t.default=s},function(module,exports,__webpack_require__){"use strict";function report(e,t,n){var r=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,i=jsonify_notice_1.default(e);request({url:r,method:"POST",body:i,headers:{"content-type":"application/json"},timeout:t.timeout},function(t,r,i){if(t){n.reject(t);return}if(r.statusCode>=200&&r.statusCode<500){var s=JSON.parse(i);if(s.id){e.id=s.id,n.resolve(e);return}if(s.error){var o=new Error(s.error);n.reject(o);return}}i=i.trim();var u=new Error("airbrake: node: unexpected response: code="+r.statusCode+" body='"+i+"'");n.reject(u)})}Object.defineProperty(exports,"__esModule",{value:!0});var jsonify_notice_1=__webpack_require__(0),request;try{request=eval("require")("request")}catch(_){}exports.default=report},function(e,t,n){"use strict";function r(e){return typeof fetch=="function"?"fetch":typeof XMLHttpRequest=="function"?"xhr":typeof window=="object"?"jsonp":"node"}Object.defineProperty(t,"__esModule",{value:!0}),t.detectReporter=r},function(e,t,n){"use strict";function i(e,t,n){var i=t.host+"/api/v3/projects/"+t.projectId+"/notices?key="+t.projectKey,s=r.default(e),o=new XMLHttpRequest;o.open("POST",i,!0),o.timeout=t.timeout,o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(o.readyState!==4)return;if(o.status>=200&&o.status<500){var t=JSON.parse(o.responseText);if(t.id){e.id=t.id,n.resolve(e);return}if(t.error){var r=new Error(t.error);n.reject(r);return}}var i=o.responseText.trim(),s=new Error("airbrake: xhr: unexpected response: code="+o.status+" body='"+i+"'");n.reject(s)},o.send(s)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.default=i},function(e,t,n){n(2),e.exports=n(1)}])}),
define("lib/mixins/persistent",["require","exports","module","underscore","lib/mixin","lib/support"],function(e,t,n){function v(e){var t,n,i,s,o,u,l;o={dontPersist:!0};if(!e.key){r.each(r.values(p.local).concat(r.values(p.session)),function(e){e.reset(o)});return}a.lastIndex=0,t=a.exec(e.key),t&&(i=t[1],n=t[2],i&&n&&(s=p[i][n],s&&(l=f(s),u=Object.keys(l),r.each(l,function(e,t){s.set(t,e,o)}),r.difference(s.keys(),u).forEach(function(e){s.unset(e,o)}))))}var r=e("underscore"),i=e("lib/mixin"),s=e("lib/support"),o="MW",u="::",a=new RegExp("^"+o+u+"(\\S+?)"+u+"(\\S+)"),f,l,c,h,p={local:{},session:{}},d=n.exports=new i({storage:null,keyName:null,type:null,namespace:null,around:{initialize:function(e,t,n){n=n||"local";if(p[n][t])return p[n][t];p[n][t]=this,e(),this.type=n,this.namespace=t,this.storage=c(n,t),this.keyName=l(n,t),this._store=f(this),this.length=r.keys(this._store).length}},after:{set:function(e,t,n){var r=!n||!n.dontPersist,i;r&&(i=h(this),i||this.unset(e))},unset:function(e,t){(!t||!t.dontPersist)&&h(this)},reset:function(e){(!e||!e.dontPersist)&&h(this)}},dispose:function(){this.storage.removeItem(this.keyName),this.reset({dontPersist:!0}),delete p[this.type][this.namespace]},write:function(){h(this)}});l=function(e,t){return[o,e,t].join(u)},h=function(e){var t=e.storage;if(t)try{return t.setItem(e.keyName,JSON.stringify(e._store)),!0}catch(n){return!1}},c=function(e){var t;return e==="local"&&s.localStorage?t=window.localStorage:e==="session"&&s.sessionStorage&&(t=window.sessionStorage),t},f=function(e){var t={},n=e.storage;return n&&(t=JSON.parse(n.getItem(e.keyName)||"{}")),t},window.addEventListener("storage",v,!1)}),
define("lib/collection",["require","exports","module","underscore","$","lib/endpoints","lib/backbone","lib/single","lib/url"],function(e,t,n){var r,i=e("underscore"),s=e("$"),o=e("lib/endpoints"),u=e("lib/backbone"),a=e("lib/single"),f=e("lib/url"),l={},c,h;r=u.Collection.extend({next_href:null,lastFetchTime:null,model:l,defaults:{offset:0,limit:10,secret_token:null},initialize:function(e,t){this.options=h(this.constructor,t||{}),this.setup(t)},setup:s.noop,getEndpointUrl:o.getEndpointUrl,_prepareModel:function(e){var t=e instanceof u.Model;return e=u.Collection.prototype._prepareModel.apply(this,arguments),e&&e.hold(this._usageCount()-(t?0:1)),e},_removeReference:function(e){return e.release(this._usageCount()),u.Collection.prototype._removeReference.apply(this,arguments)},fetch:function(e){var t=e&&e.url||i.result(this,"url");return t?this._requests&&this._requests[t]||u.Collection.prototype.fetch.call(this,e).done(function(e){this.next_href=e.next_href||!1}.bind(this)):s.Deferred().done(e&&e.success).resolve({})},bulkFetch:function(e){var t=arguments[1],n=arguments[2],r,i;if(!t){this._requests=this._requests||{};if(this._requests.bulk)return this._requests.bulk;this._requests.bulk=t=s.Deferred(),t.always(function(){delete this._requests.bulk}.bind(this)),n=this.length,r=this.options.limit,this.next_href||(this.options.limit=e-this.length),t.always(function(){this.options.limit=r,c.call(this,{limit:r})}.bind(this))}return this.length<e&&this.url()?(this.lastFetchTime?i={add:!0}:i={},i.silent=!0,c.call(this,{limit:e-this.length}),this.fetch(i).done(function(){this.bulkFetch(e,t,n)}.bind(this)).fail(t.reject)):(n?this.rest(n).forEach(function(e){this.trigger("add",e,this)},this):this.trigger("reset",this,{}),t.resolve()),t},url:function(){if(this.next_href!==null)return this.next_href;var e=f.parse(i.result(this,"baseUrl"));return i.extend(e.query,{limit:this.options.limit,offset:Math.max(this.options.offset,this.length),linked_partitioning:1}),this.options.secret_token&&(e.query.secret_token=this.options.secret_token),f.stringify(e)},parse:function(e){return e.collection},empty:function(){this.next_href=null,this.lastFetchTime=null,this.options.offset&&(this.options.offset=0),this.reset(null,{silent:!0})},hasDataForView:function(){return this.isPopulated()},isPopulated:function(){return!!this.lastFetchTime||!!this.length},isPrivate:function(){return!!this.options.secret_token},isFullyPopulated:function(){return this.next_href===!1},setLimit:function(e){this.options.limit=e,this.next_href&&(this.next_href=f.modify(this.next_href,{query:{limit:e}}))},indexOfEquivalentModel:function(e,t){var n=-1;return(t||this.models).some(function(t,r){if(e.equivalentTo(t))return n=r,!0}),n},compareModels:function(e,t){return e===t||e.equivalentTo(t)}}),n.exports=a.applyTo(r,{hashFn:function(e,t){return t&&t.resource_id||null},onHold:function(e,t,n){e.length&&e.at(0).hold&&e.invoke("hold",n)},onRelease:function(e,t,n){e.length&&e.at(0).release&&e.invoke("release",n)}}),h=function(e,t){return i.defaults(t,e.prototype.defaults),e===r?t:h(e.__super__.constructor,t)},c=function(e){if(this.next_href){var t=f.parse(this.next_href);i.extend(t.query,e),this.next_href=f.stringify(t)}}}),
define("lib/futures",["require","exports","module","$","underscore"],function(e,t,n){var r,i=e("$"),s=e("underscore");n.exports=r={defer:function(e){var t=i.Deferred(),n=t.promise();return s.isFunction(e)?(e.call(n,t.resolve,t.reject),n):(s.isObject(e)&&s.isFunction(e.then)&&e.then(t.resolve,t.reject),t)},settled:function(e){return i.whenAll(e)},all:function(e){return i.when.apply(i,e)},resolve:function(e){return i.Deferred().resolve(e)},reject:function(e){return i.Deferred().reject(e)},promisify:function(e){return function(){var t=i.Deferred();return e.apply(null,s.toArray(arguments).concat(function(e,n){e?t.reject(e):t.resolve(n)})),t.promise()}},call:function(e){var t=i.Deferred(),n=s.tail(arguments,1);try{t.resolve(e.apply(null,n))}catch(r){t.reject(r)}return t.promise()},mapEither:function(e,t){return t.then(e,e)},sequential:function(e){return e.reduce(function(e,t){function n(){return t().then(r.reject)}return e.then(t,n)},i.Deferred().resolve())},delay:function(e){var t=r.defer();return window.setTimeout(t.resolve.bind(t),e),t}}}),
define("lib/mixins/audio-source",["require","exports","module","lib/mixin"],function(e,t,n){var r=e("lib/mixin"),i=n.exports=new r({requires:["getSourceInfo","getSounds"],defaults:{isAudioSource:!0}})}),
define("models/sound",["require","exports","module","underscore","models/audible-interface","lib/mixins/models/batching","lib/mobi-audio","lib/model","lib/url","lib/mixins/urn","lib/endpoints"],function(e,t,n){function E(){var e=!this.isBlocked()&&!this._temporarilyUnavailable;this.set("playable",e)}var r=e("underscore"),i=e("models/audible-interface"),s=e("lib/mixins/models/batching"),o=e("lib/mobi-audio"),u=e("lib/model"),a=e("lib/url"),f=e("lib/mixins/urn"),l=e("lib/endpoints"),c=3e4,h=function(){return this},p=r.constant(1),d=r.constant(undefined),v="BLOCK",m="SNIP",g="MONETIZE",y="ALLOW",b="SUB_HIGH_TIER",w=n.exports=i.extend(f,s.withOptions({batchEndpoint:l.getEndpointUrl("trackBatch"),getBatchParams:function(e){var t=e.playlist;return{playlistId:t&&t.id,playlistSecretToken:t&&t.get("secret_token")}}}),{resource_type:"sound",urnPrefix:"soundcloud:tracks",_temporarilyUnavailable:!1,_unavailableResetTimer:null,_suppressGlobalEvents:null,audio:null,playlist:null,playbackOptions:{},setup:function(e,t){i.prototype.setup.apply(this,arguments),this._suppressGlobalEvents=!!t&&!!t.suppressGlobalEvents,this.createAudio()?E.call(this):this.makeTemporarilyUnavailable()},isPlaying:function(){return!!this.audio&&!!this.audio.isPlaying()},isLoading:function(){return!!this.audio&&!!this.audio.isLoading()},currentTime:function(){return this.audio?this.audio.getPosition():0},loadProgress:function(){if(!this.audio)return 0;var e=this.audio.getCurrentBufferedTimeRange();return e?Math.min(1,e.end/this.getMediaDuration()):0},createAudio:function(){if(!this.audio){window.clearTimeout(this._unavailableResetTimer),this._temporarilyUnavailable=!1,this.audio=o.createAudioFromSound(this,{suppressGlobalEvents:this._suppressGlobalEvents,onKilled:function(){this.audio=null}.bind(this)});if(!this.audio)return!1}return!0},disposeAudio:function(){this.audio&&(this.audio.kill(),this.audio=null,window.clearTimeout(this._unavailableResetTimer))},getSounds:function(){return[this]},getCurrentSound:h,getFirstSound:h,getLastSound:h,getNumSounds:p,getNextSound:d,getSoundIndex:function(e){return e===this?0:-1},play:function(e){this.playlist?(this.playlist.setCurrentSound(this),this.playlist.play(e)):this.createAudio()&&(this.playbackOptions=e||{},this.audio.enablePreloading(),this.audio.play())},pause:function(e){this.playlist?this.playlist.pause(e):this.audio&&(this.playbackOptions=e||{},this.audio.pause())},seek:function(e){this.createAudio()&&(this.audio.enablePreloading(),this.audio.seek(e))},baseUrl:function(){return this.getEndpointUrl("track",{urn:this.getUrn()})},parse:function(e){return i.prototype.parse.apply(this,arguments),e.playback_count||(e.playback_count=0),e.waveform_url&&(e.waveform_url=e.waveform_url.replace("wis.","w1.").replace(".json",".png")),e},extractSecretToken:function(e){return a.parse(e.stream_url).query.secret_token},duration:function(){return this.get("full_duration")||this.get("duration")},getMediaDuration:function(){var e=this.audio?this.audio.getDuration():null;return e!==null?e:this.get("duration")},isAllowed:function(){return this.get("policy")===y},isBlocked:function(){return this.get("policy")===v},isMonetized:function(){return this.get("policy")===g},isSnippetized:function(){return this.get("policy")===m},isHighTier:function(){return this.get("monetization_model")===b},isPlayable:function(){return this.get("playable")},makeTemporarilyUnavailable:function(){this._temporarilyUnavailable=!0,window.clearTimeout(this._unavailableResetTimer),this._unavailableResetTimer=window.setTimeout(function(){this._temporarilyUnavailable=!1,E.call(this)}.bind(this),c),E.call(this)},toJSON:function(){var e=u.prototype.toJSON.apply(this,arguments);return e._playlist={},this.playlist&&r.each(["id","permalink","permalink_url","secret_token","user_id"],function(t){e._playlist[t]=this.get(t)}.bind(this.playlist)),e},registerUrl:function(){var e={secret_token:this.get("secret_token"),policy:this.get("policy")};return this.getEndpointUrl("trackRegisterPlayback",{id:this.id},e)},getUserId:function(){var e=this.get("user");return e?e.id:null}},{hashFn:function(e){var t=e.resource_id;return t?typeof t=="object"?[t.playlist_id,t.sound_id].join("_"):t:e.id||null},resolve:function(e,t,n){return u._resolve(this,[e,t,n],function(n){var r=n.get("user");return r&&n.get("permalink")===t&&r.permalink===e})},onCleanup:function(e){e.disposeAudio()}})}),
define("shared/lib/url",["require","exports","module","underscore"],function(e,t,n){function a(e){return e.split("/").map(f).join("/")}function f(e){return encodeURI(e).replace(/#/g,"%23").replace(/\?/g,"%3F")}var r=e("underscore"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:\/@]*)(?::([^:\/@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["---","scheme","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],o,u=n.exports={parse:function(e,t){var n=i.exec(e),r,o,a={};t||(t=s);for(r=1;r<s.length;++r){o=s[r];if(t.indexOf(o)!==-1)if(n[r]||o==="query")switch(o){case"port":a[o]=parseInt(n[r],10);break;case"path":a[o]=n[r].split("/").map(decodeURIComponent).join("/");break;case"query":a[o]=u.parseQueryString(n[r]);break;default:a[o]=n[r]}}return a},joinPath:function(e){return e.filter(Boolean).join("/")},parseQueryString:function(e){var t={};return e&&e.replace(/([^?=&]+)(?:=([^&]*))?/g,function(e,n,r){n=decodeURIComponent(n),r=decodeURIComponent((r||"").replace(/\+/g," "));switch(typeof t[n]){case"object":t[n].push(r);break;case"undefined":t[n]=r;break;default:t[n]=[t[n],r]}}),t},param:function(e,t){t=t||{};var n=[],i=function(e,t){n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)},s=function(e,n){r.isArray(n)?n.forEach(function(n,r){s(e+"["+(typeof n=="object"&&t.jquerySerialize?r:"")+"]",n)}):r.isObject(n)?r.each(n,function(t,n){s(e+"["+n+"]",t)}):i(e,n)};return r.each(e,function(e,t){s(t,e)}),n.join("&").replace(/%20/g,"+")},stringify:function(e,t){var n=[],i,s;return t&&(s=u.parse(t),e.query&&s.query&&(r.assign(s.query,e.query),delete e.query),e=r.assign({},s,e)),e.scheme&&n.push(e.scheme+"://"),e.user&&(n.push(e.user),e.password&&n.push(":"+e.password),n.push("@")),e.host&&n.push(e.host),e.port&&n.push(":"+e.port),e.path&&(typeof e.path=="string"?n.push(a(e.path)):n.push(a(u.joinPath(e.path)))),i=o(e.query),i&&n.push("?"+i),e.fragment&&n.push("#"+e.fragment),n.join("")},modify:function(e,t){var n=u.parse(e);return r.isFunction(t)?n=t.call(null,n):typeof t=="object"&&(t.query&&(r.assign(n.query,t.query),delete t.query),r.assign(n,t)),u.stringify(n)},normalize:function(e){var t=r.defaults(u.parse(e),{scheme:"http"});return u.stringify(t)}};o=function(e){var t,n,r,i,s,o=[];if(e)for(t in e)if(e.hasOwnProperty(t)){i=e[t];if(i!==null&&i!==s)if(typeof i=="object"){r=i.length;for(n=0;n<r;++n)o.push(encodeURIComponent(t)+"="+encodeURIComponent(i[n]).replace(/%2F/g,"/"))}else o.push(encodeURIComponent(t)+"="+encodeURIComponent(i).replace(/%2F/g,"/"))}return o.join("&")}}),
define("lib/tracking/comscore",["require","exports","module","$"],function(e,t,n){var r=e("$"),i="comScore-beacon",s="16601931",o=n.exports={init:function(){var e=document.createElement("script");return window._comscore=window._comscore||[{c1:"2",c2:s}],e.async=!0,e.src=(document.location.protocol==="https:"?"https://sb":"http://b")+".scorecardresearch.com/beacon.js",e.id=i,e.addEventListener("load",function(){this.destroy()}.bind(this)),document.body.appendChild(e),e},destroy:function(){var e=document.getElementById(i);return e?(r(e).remove(),!0):!1}}}),
define("lib/tracking/helpers/core",["require","exports","module","underscore","config"],function(e,t,n){var r=e("underscore"),i=e("config"),s,o={listen:"tracks"},u={search:"category"},a={suggestions:{args:{category:"suggestions"},layoutName:"search"}},f=n.exports={getUserId:function(){return i.get("me").id},getLevel:function(e){var t=i.get("router").getLayoutInfo().layoutName;return e&&e.level||o[t]||t},getChapter:function(e){var t=i.get("router").getLayoutInfo(),n=t.layoutName,s=u[n]||"subpage",o=t.args&&t.args[s]||e.chapter||"main";return r.compact([o])},getContext:function(e){return[this.getLevel(e),this.getChapter(e)].join(":")},getAudioContext:function(){var e,t,n,r;return s?(e=s.layoutName,t=o[e]||e,n=u[e]||"subpage",r=s.args&&s.args[n]||"main"):(t="tracks",r="main"),[t,r].join(":")},saveAudioContext:function(e){var t=i.get("router").getLayoutInfo(),n=a[e];s=r.extend(n||r.pick(t,"args","layoutName"),{url:window.location.href.replace(/^https?:\/\/[^\/]+\//,"")})},getImpressionEvent:function(e){return{context:this.getImpressionContext(e),urn:this.getURN(e.contextData),impression_name:e.identifier}},getImpressionContext:function(e){return e&&e.contextData&&e.contextData.context||{campaign:e.identifier}},getURN:function(e){if(e){var t=e.kind,n=e.id,r=t==="user"?"users":t==="track"?"tracks":undefined;if(t&&r&&n)return"soundcloud:"+r+":"+n}return null},getIdentifier:function(e){return[e.identifier||""]}}}),
define("vendor/event-gateway/event-gateway",["require","exports","module"],function(e,t,n){(function(){function x(){clearTimeout(h),t=r=i=s=o=u=a=f=p=h=v=undefined,d=[],E=!0,S=!0,c=function(){throw new Error("EventGateway must be initialized")}}function T(){return Math.floor(Math.random()*1e6)}function N(e){var t={},n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function C(e,t){var n=N(e),r;for(r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function k(e){return e=typeof e=="object"?e:{},e.context=e.context||{},e.context.scope=e.context.scope||[],e}function L(e){return e.replace(w,"v$&")}function A(e,t,n){var r=e[n];return typeof r=="object"?t[n]=Object.keys(z(r)).reduce(A.bind(null,r),{}):t[n]=""+r,t}function O(e,t){var n=z(t);return e==="0.0.0"?Object.keys(n).reduce(A.bind(null,n),{}):n}function M(e,t,n){v("post",_(e),e,n,function(n){n&&t&&setTimeout(function(){M(e,!1,!1)},y)})}function _(e){return a+(e instanceof Array?"/v1/events":"/v1/event")}function D(){function t(e){e.onload=e.onerror=null}function n(e,n){t(e),n()}function r(e,n){t(e),/^4/.test(e.status)||n(e.status)}var e=!!(window&&window.navigator&&window.navigator.sendBeacon);return function(i,s,o,u,a){var f=JSON.stringify(o);if(u&&e)window.navigator.sendBeacon(s,f);else{var l=new window.XMLHttpRequest;l.onload=n.bind(null,l,a),l.onerror=r.bind(null,l,a),l.open(i,s,!0),l.send(f)}}}function P(e){p||!S?(d=d.concat(e),!h&&S&&(h=setTimeout(H,p))):M(e,!0,!1)}function H(e){clearTimeout(h),h=null,d.length&&(M(d.slice(),!0,!!e),d.length=0)}function B(e,n,r){var a=Date.now();W(r).then(function(c){var h,p;c=c||{},c.anonymous_id=t,c.client_id=o,c.ts=a,c.url=c.url||window.location.href,u&&(c.app_version=u);var d=[];if(s)for(h in s)d.push(s[h]);d.length&&(c.part_of_variants=d.join(",")),i&&(c.origin=i),f&&!c.user&&(c.user=f),l&&(c.platform=l),(p=document.referrer).length>0&&(c.referrer=p),P({event:e,version:L(n),payload:O(n,c)})})}function j(e,t){var n=0,r=t.length;for(;n<r;n++)if(e[t[n]]===undefined)return!0;return!1}function F(e){return e?I("users",e):t}function I(e,t){return["soundcloud",e,t].join(":")}function q(e,t){t&&(e.query_urn=t.queryUrn,e.query_position=t.position)}function R(){}function U(e){var t={},n,r;if(e)for(n=1;n<arguments.length;++n)r=arguments[n],r in e&&(t[r]=e[r]);return t}function z(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&e[t]!=null&&(n[t]=e[t]);return n}function W(e){return e&&typeof e.then=="function"?e:{then:function(t){return W(t(e))}}}function X(e){return function(){if(!E)throw new Error("EventGateway: access to read/write cookies is blocked.");return e.apply(null,arguments)}}var e,t,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g="sc_anonymous_id",y=3e4,b="https://telemetry.soundcloud.com",w=/^[^v]/,E=!0,S=!0;x(),e={_anonymousId:null,initialize:function(n){if(r)return;if(!n.id)throw new Error("EventGateway: You need to pass an id");i=n.origin,n.user&&(f=I("users",n.user)),n.platform!==undefined&&(l=n.platform),n.useCookies!==undefined&&(E=n.useCookies),n.isEnabled!==undefined&&(S=n.isEnabled),m=n.eventVersions||{},t=this._anonymousId=e.getAnonymousId(),p=n.batchTimeout||!1,v=n.requestTransport||D(),o=n.id,u=n.appVersion||null,a=n.trackingUrl||b,r=!0,c=R},deinitialize:function(){x()},toggle:function(e){S=e,S&&H()},loadQueue:P,saveQueue:function(){return d},useCookies:function(n){E=n,E&&t&&e.anonymousIdStore.set(t)},setUser:function(e){e==null?f=e:f=I("users",e)},setExperiments:function(e){s=e},getAnonymousId:function(){!t&&E&&(t=e.anonymousIdStore.get());if(!t||t==="undefined")t=[T(),T(),T(),T()].join("-"),E&&e.anonymousIdStore.set(t);return t},logEvent:B,pageview:function(e,t,n,r){c(),B("pageview",m.pageview||"0.0.0",W(r).then(function(r){r=k(r);var i=F(e),s={user:i,level:t,chapter:n.join("::"),page_name:r.page_name,page_urn:r.page_urn,query_urn:r.query_urn,locale:r.locale};return C(s,r.params)}))},impression:function(e,t){c(),B("impression",m.impression||"1.16.0",W(t).then(function(e){e=k(e);var t=U(e,"impression_name","impression_category","impression_object","page_name","page_urn","ad_urn","monetized_object","monetization_type","promoted_by","external_media");return t.page_context=e.context.scope.join(":"),t}))},click:function(e,t,n,r){c(),B("click",m.click||"0.0.0",W(r).then(function(r){r=k(r);var i={ad_urn:r.ad_urn,campaign:r.context.campaign,chapter:n.join("::"),context:r.context.scope.join(":"),external_media:r.external_media,level:t,monetization_type:r.monetization_type,monetized_object:r.monetized_object,promoted_by:r.promoted_by,urn:r.urn,user:F(e),click_name:r.click_name,click_object:r.click_object,click_target:r.click_target,click_attributes:r.click_attributes,page_name:r.page_name,page_urn:r.page_urn};return q(i,r.context.attribution),C(i,r.params)}))},audio:function(e){c(),B("audio",m.audio||"1.16.0",W(e).then(function(e){var t=e.id,n=I("tracks",t),r=U(e,"user","page_name","page_urn","source","in_playlist","playlist_position","reposted_by","track_length","protocol","action","trigger","pause_reason","ad_urn","monetization_type","promoted_by","policy","monetization_model");return q(r,e.attribution),r.track=n,r.track_owner=I("users",e.trackOwnerId),r.playhead_position=e.playheadPosition,r.monetized_object=e.monetized_urn,r}.bind(this)))},audioPerformance:function(e){c(),B("audio_performance",m.audioPerformance||"0.0.0",W(e).then(function(e){if(j(e,["type","latency","protocol","host"])||e.playertype===undefined&&e.player_type===undefined)throw new Error("EventGateway â€” AudioPerformance : One or multiple mandatory arguments are missing");return{type:e.type,latency:e.latency,protocol:e.protocol,player_type:e.player_type||e.playertype,host:e.host,connection_type:e.connection_type,bitrate:e.bitrate,format:e.format,player_version:e.player_version,player_build_number:e.player_build_number}}))},audioError:function(e){c(),B("audio_error",m.audioError||"0.0.0",W(e).then(function(e){if(j(e,["error_code","protocol","player_type","host","url"]))throw new Error("EventGateway â€” AudioError : One or multiple mandatory arguments are missing");return{error_code:e.error_code,protocol:e.protocol,player_type:e.player_type,host:e.host,url:e.url,player_version:e.player_version,player_build_number:e.player_build_number,log_id:e.log_id}}))},appLoad:function(e,t){c(),B("appload",m.appLoad||"0.0.0",W(t).then(function(t){return{latency:t.latency,user:F(e),level:t.level}}))},statsView:function(e,t){B("stats_view",m.statsView||"0.0.0",W(t).then(function(t){var n=F(e);return C({user:n},t)}))},anonymousIdStore:{get:X(function(){var e=document.cookie.split(g+"=");return e.length>1&&e[1].split(";")[0]}),set:X(function(e){var t="."+window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),n=new Date,r;n.setTime(n.getTime()+31536e7),r="; expires="+n.toGMTString(),document.cookie=g+"="+e+r+"; path=/; domain="+t})},flush:H},typeof n!="undefined"&&n.exports?n.exports=e:(window.SC=window.SC||{},window.SC.EventGateway=e)})()}),
define("lib/lingua",["require","exports","module","lib/cookies","vendor/i18n/i18n","lib/persistent-store","shared/config/supported-locales"],function(e,t,n){function p(e){r.set(f.getLocaleCookieName(),e)}function d(e){var t=a.get(u);t&&(p(e),a.dispose())}var r=e("lib/cookies"),i=e("vendor/i18n/i18n"),s=e("lib/persistent-store"),o=e("shared/config/supported-locales"),u="locale",a=new s(u),f,l,c=o.locales,h=n.exports={initialize:function(e){l=c[e]?e:o.defaultLocale,f=f||new i,f.setLocale(l),f.extend(c[l]),this.numberHelper=f.number,this.dateTimeHelper=f.dateTime,d(l)},initializeFromBasicSettings:function(){this.initialize(window.document.documentElement.getAttribute("lang")),p(l)},getLocale:function(){return l},getCurrentLanguage:function(){return o.experimentalAndPublicLanguages[l]},t:function(e,t,n){n=n||{};var r=f.t(e,t,n.context,n.comment);return r},tp:function(e,t,n,r,i){i=i||{};var s=f.tp(e,t,n,r,i.context,i.comment);return s}}}),
define("lib/tracking/types/actions",["require","exports","module"],function(e,t,n){n.exports={navigate:{identifiers:["home","sign-in","user","track","playlist"]},submit:{identifiers:["signin_deeplink_button:signin","download_app_button:download","download_app_badge:download","like","get_the_app::like","consumer_sub_ad:click"]},cancel:{identifiers:["get_the_app_cancel::like"]}}}),
define("lib/tracking/types/impressions",["require","exports","module"],function(e,t,n){var r=n.exports=["searchItem","download_app_interstitial","upsell_banner","consumer_sub_ad"]}),
define("lib/tracking/types/pageviews",["require","exports","module","config"],function(e,t,n){function i(e){return r.get("router").getLayoutInfo().args[e]}function s(e){return e=e||"subpage",[i(e)||"main"]}var r=e("config");n.exports={"default":{chapter:["default",window.location],level:"default"},listen:{chapter:s,level:"tracks"},search:{chapter:s.bind(s,"category"),level:"search"},"static-page":{chapter:s.bind(s,"pageName"),level:"static-page"},messages:{chapter:s,level:"messages"},error:{chapter:s,level:"error-page"},playlist:{chapter:s,level:"playlist"},premium:{chapter:s,level:"premium"},"consumer-premium":{chapter:s,level:"consumer-premium"},user:{chapter:s,level:"profile"},"people-directory":{chapter:s,level:"people-directory"}}}),
define("lib/model",["require","exports","module","$","underscore","api-wrapper","lib/backbone","config","lib/connect","lib/endpoints","lib/mixins/models/data-dns-prefetcher","lib/single","lib/url"],function(e,t,n){function v(e,t){var n=l.getEndpointUrl("resolveApiWeb",null,{permalink_url:t});return i.ajax({dataType:"json",url:n}).then(function(t){var n=new e(t);return n.release(),n})}var r,i=e("$"),s=e("underscore"),o=e("api-wrapper"),u=e("lib/backbone"),a=e("config"),f=e("lib/connect"),l=e("lib/endpoints"),c=e("lib/mixins/models/data-dns-prefetcher"),h=e("lib/single"),p=e("lib/url"),d=Array.prototype.slice;r=u.Model.extend(c,{resource_type:null,lastFetchTime:null,_submodels:null,submodelMap:null,getEndpointUrl:l.getEndpointUrl,initialize:function(){this._submodels=[],s.each(this.submodelMap,function(e,t){this.on("change:"+t,this.createSubmodel.bind(this,e,t))},this),this.setup.apply(this,arguments),s.each(this.submodelMap,function(e,t){this.get(t)&&this.createSubmodel(e,t)},this)},setup:i.noop,createSubmodel:function(e,t){this.addSubmodel(new e(this.get(t)))},addSubmodel:function(){d.call(arguments).forEach(function(e){this._submodels.indexOf(e)===-1?this._submodels.push(e):e.release()}.bind(this))},getAttributesToBeSaved:function(){var e=this.toJSON(),t={};return t[o.toAPIResource(this.resource_type)]=e,t},save:function(e,t){return u.Model.prototype.save.call(this,e,s.extend({url:this.saveUrl(),data:i.param(this.getAttributesToBeSaved())},t)).done(function(e){this.set(e),this.updateResourceId()}.bind(this))},saveUrl:function(){var e=s.result(this,"baseUrl");return this.isNew()&&(e=e.split("/").slice(0,-1).join("/")),e},destroy:function(e){return u.Model.prototype.destroy.call(this,s.extend({url:this.destroyUrl()},e))},destroyUrl:function(){return s.result(this,"baseUrl")},baseUrl:function(){throw new Error("baseUrl should be defined for every model")},url:function(e){var t=this.getSecretToken(),n=s.result(this,e||"baseUrl");return t?p.modify(n,{query:{secret_token:t}}):n},getSecretToken:function(){return this.get("secret_token")},signedUrl:function(e){var t=this.get(e),n;return t?(n={scheme:"http",query:{client_id:a.get("client_id")}},f.isLoggedIn()&&(n.scheme="https",n.query.oauth_token=f.getAuthToken()),this.get("secret_token")&&(n.query.secret_token=this.get("secret_token")),p.modify(t,n)):null},equivalentTo:function(e){return this===e||this.id&&this.id===e.id},toJSON:function(){var e=u.Model.prototype.toJSON.apply(this,arguments);return e._resource_id=this.resource_id,e._resource_type=this.resource_type,e},parse:function(e){var t;return typeof this.baseUrl=="string"&&(t=p.parse(this.baseUrl).query.secret_token),t||(t=this.extractSecretToken(e)),t&&(e.secret_token=t),e},extractSecretToken:i.noop,toString:function(){return this.resource_type?this.resource_type+" ("+(this.isNew()?"new":this.resource_id)+")"+": "+(this.attributes.permalink||this.attributes.title||this.attributes.name):Object.prototype.toString.call(this)},hasDataForView:function(e){return e.getRequiredAttributes(this).every(Object.prototype.hasOwnProperty,this.attributes)},updateResourceId:function(){var e=this.constructor.hashFn(this.attributes),t=this.resource_id;e&&(this.resource_id=e,this.constructor.instances.changeKey(t,e))}},{_resolve:function(e,t,n){Array.isArray(t)&&(t=p.joinPath(t));var r,s=e.instances.find(n);return s?i.Deferred().resolve(s):(r=p.stringify({host:"https://soundcloud.com/",path:t}),v(e,r))}}),n.exports=h.applyTo(r,{hashFn:function(e){return e&&e.id||null},onCleanup:function(e){e._submodels&&e._submodels.length&&(s.invoke(e._submodels,"release"),e._submodels.length=0)},prepareArgs:function(e,t){return t=t||{},e=e||{},t.parse&&(e=this.parse(e)),[e,t]},prepareInstance:function(e,t){return t=t||{},t.collection&&(this.lastFetchTime=Date.now()),s.isEmpty(e)||this.set(e),delete this.attributes.resource_id,this},getIncrementValue:function(e,t){var n=t&&t.collection;return n?n.constructor.instances.countFor(n.resource_id):1}})}),
define("lib/mixins/urn",["require","exports","module","lib/mixin"],function(e,t,n){var r=e("lib/mixin"),i=n.exports=new r({requires:["urnPrefix"],getUrn:function(){var e=this.id||this.resource_id;return this.urnPrefix&&e?this.urnPrefix+":"+e:undefined}})}),
define("css",["require","exports","module","underscore","lib/lingua","lib/helpers/client-environment-helper"],function(e,t,n){var r=e("underscore"),i=e("lib/lingua"),s=e("lib/helpers/client-environment-helper").device,o=document.getElementsByTagName("head")[0],u=n.exports={insert:function(e){r.isArray(e)||(e=[e]),e.forEach(function(e){if(e.parentNode)return;o.appendChild(e)})},stringToStyleElement:function(e){var t=document.createElement("style");return t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),t},transformDPI:function(e){return e.replace(/\/ldpi\//g,"/"+s.dpi+"/")},transformLocale:function(e){return e.replace(/\/en\//g,"/"+i.getLocale()+"/")},transform:function(e){return this.transformLocale(this.transformDPI(e))}}}),
define("lib/console-box.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform('.consoleBox{display:block;height:30%;width:100%;z-index:9999;position:absolute;top:0;left:0;right:0;padding:3px;font-family:"Monaco","Courier New",monospace;font-size:11px;box-sizing:border-box;background-color:#002240;overflow-x:hidden;overflow-y:auto}.consoleBox__message{white-space:nowrap;color:#FF9D00}')),data=null}),
define("ajax",["require","exports","module","type-of"],function(require,exports,module){function triggerAndReturn(e,t,n){return!0}function triggerGlobal(e,t,n,r){if(e.global)return triggerAndReturn(t||document,n,r)}function ajaxStart(e){e.global&&ajax.active++===0&&triggerGlobal(e,null,"ajaxStart")}function ajaxStop(e){e.global&&!--ajax.active&&triggerGlobal(e,null,"ajaxStop")}function ajaxBeforeSend(e,t){var n=t.context;if(t.beforeSend.call(n,e,t)===!1||triggerGlobal(t,n,"ajaxBeforeSend",[e,t])===!1)return!1;triggerGlobal(t,n,"ajaxSend",[e,t])}function ajaxSuccess(e,t,n){var r=n.context,i="success";n.success.call(r,e,i,t),triggerGlobal(n,r,"ajaxSuccess",[t,n,e]),ajaxComplete(i,t,n)}function ajaxError(e,t,n,r){var i=r.context;r.error.call(i,n,t,e),triggerGlobal(r,i,"ajaxError",[n,r,e]),ajaxComplete(t,n,r)}function ajaxComplete(e,t,n){var r=n.context;n.complete.call(r,t,e),triggerGlobal(n,r,"ajaxComplete",[t,n]),ajaxStop(n)}function empty(){}function mimeToDataType(e){return e&&(e==htmlType?"html":e==jsonType?"json":scriptTypeRE.test(e)?"script":xmlTypeRE.test(e)&&"xml")||"text"}function appendQuery(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}function serializeData(e){type(e.data)==="object"&&(e.data=param(e.data)),e.data&&(!e.type||e.type.toUpperCase()=="GET")&&(e.url=appendQuery(e.url,e.data))}function serialize(e,t,n,r){var i=type(t)==="array";for(var s in t){var o=t[s];r&&(s=n?r:r+"["+(i?"":s)+"]"),!r&&i?e.add(o.name,o.value):(n?type(o)==="array":type(o)==="object")?serialize(e,o,n,s):e.add(s,o)}}function param(e,t){var n=[];return n.add=function(e,t){this.push(escape(e)+"="+escape(t))},serialize(n,e,t),n.join("&").replace("%20","+")}function extend(e){var t=Array.prototype.slice;return t.call(arguments,1).forEach(function(t){for(key in t)t[key]!==undefined&&(e[key]=t[key])}),e}var type;try{type=require("type-of")}catch(ex){var r=require;type=r("type")}var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/,ajax=module.exports=function(options){var settings=extend({},options||{});for(key in ajax.settings)settings[key]===undefined&&(settings[key]=ajax.settings[key]);ajaxStart(settings),settings.crossDomain||(settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host);var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder)return hasPlaceholder||(settings.url=appendQuery(settings.url,"callback=?")),ajax.JSONP(settings);settings.url||(settings.url=window.location.toString()),serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=settings.xhr(),abortTimeout;settings.crossDomain||(baseHeaders["X-Requested-With"]="XMLHttpRequest"),mime&&(baseHeaders.Accept=mime,mime.indexOf(",")>-1&&(mime=mime.split(",",2)[0]),xhr.overrideMimeType&&xhr.overrideMimeType(mime));if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=extend(baseHeaders,settings.headers||{}),xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=!1;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type")),result=xhr.responseText;try{dataType=="script"?(1,eval)(result):dataType=="xml"?result=xhr.responseXML:dataType=="json"&&(result=blankRE.test(result)?null:JSON.parse(result))}catch(e){error=e}error?ajaxError(error,"parsererror",xhr,settings):ajaxSuccess(result,xhr,settings)}else ajaxError(null,"error",xhr,settings)}};var async="async"in settings?settings.async:!0;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);return ajaxBeforeSend(xhr,settings)===!1?(xhr.abort(),!1):(settings.timeout>0&&(abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty,xhr.abort(),ajaxError(null,"timeout",xhr,settings)},settings.timeout)),xhr.send(settings.data?settings.data:null),xhr)};ajax.active=0,ajax.JSONP=function(e){if("type"in e){var t="jsonp"+ ++jsonpID,n=document.createElement("script"),r=function(){t in window&&(window[t]=empty),ajaxComplete("abort",i,e)},i={abort:r},s,o=document.getElementsByTagName("head")[0]||document.documentElement;return e.error&&(n.onerror=function(){i.abort(),e.error()}),window[t]=function(n){clearTimeout(s),delete window[t],ajaxSuccess(n,i,e)},serializeData(e),n.src=e.url.replace(/=\?/,"="+t),o.insertBefore(n,o.firstChild),e.timeout>0&&(s=setTimeout(function(){i.abort(),ajaxComplete("timeout",i,e)},e.timeout)),i}return ajax(e)},ajax.settings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:!1,timeout:0},ajax.get=function(e,t){return ajax({url:e,success:t})},ajax.post=function(e,t,n,r){return type(t)==="function"&&(r=r||n,n=t,t=null),ajax({type:"POST",url:e,data:t,success:n,dataType:r})},ajax.getJSON=function(e,t){return ajax({url:e,success:t,dataType:"json"})};var escape=encodeURIComponent}),
define("classes",["require","exports","module","indexof"],function(e,t,n){function s(e){this.el=e,this.list=e.classList}var r=e("indexof"),i=/\s+/;n.exports=function(e){return new s(e)},s.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array(),n=r(t,e);return~n||t.push(e),this.el.className=t.join(" "),this},s.prototype.remove=function(e){if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},s.prototype.toggle=function(e){return this.list?(this.list.toggle(e),this):(this.has(e)?this.remove(e):this.add(e),this)},s.prototype.array=function(){var e=this.el.className.split(i);return""===e[0]&&e.pop(),e},s.prototype.has=s.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}}),
define("vendor/zepto-events",["require","exports","module"],function(e,t,n){function a(e){return e._zid||(e._zid=i++)}function f(e,t,n,i){t=l(t);if(t.ns)var s=c(t.ns);return(r[a(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||s.test(e.ns))&&(!n||a(e.fn)===a(n))&&(!i||e.sel==i)})}function l(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function c(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function h(e,t,n){typeof e!="string"?u.each(e,n):e.split(/\s/).forEach(function(e){n(e,t)})}function p(e,t){return e.del&&(e.e=="focus"||e.e=="blur")||!!t}function d(e){return o[e]||e}var r={},i=1,s={},o={mouseenter:"mouseover",mouseleave:"mouseout"},u={};u.each=function(e){return[].every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",t.add=add=function(e,t,n,i,s,u){var f=a(e),c=r[f]||(r[f]=[]);h(t,n,function(t,n){var r=l(t);r.fn=n,r.sel=i,r.e in o&&(n=function(e){var t=e.relatedTarget;if(!t||t!==this&&!this.contains(t))return r.fn.apply(this,arguments)}),r.del=s&&s(n,t);var a=r.del||n;r.proxy=function(t){var n=a.apply(e,[t].concat(t.data));return n===!1&&(t.preventDefault(),t.stopPropagation()),n},r.i=c.length,c.push(r),e.addEventListener(d(r.e),r.proxy,p(r,u))})},t.remove=remove=function(e,t,n,i,s){var o=a(e);h(t||"",n,function(t,n){f(e,t,n,i).forEach(function(t){delete r[o][t.i],e.removeEventListener(d(t.e),t.proxy,p(t,s))})})};var v=function(){return!0},m=function(){return!1},g=/^([A-Z]|layer[XY]$)/,y={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.createProxy=createProxy=function(e){var t,n={originalEvent:e};for(t in e)!g.test(t)&&e[t]!==undefined&&(n[t]=e[t]);return u.each(y,function(t,r){n[t]=function(){return this[r]=v,e[t].apply(e,arguments)},n[r]=m}),n},t.Event=Event=function(e,t){typeof e!="string"&&(t=e,e=t.type);var n=document.createEvent(s[e]||"Events"),r=!0;if(t)for(var i in t)i=="bubbles"?r=!!t[i]:n[i]=t[i];return n.initEvent(e,r,!0,null,null,null,null,null,null,null,null,null,null,null,null),n.isDefaultPrevented=function(){return this.defaultPrevented},n}}),
define("lib/layout",["require","exports","module","underscore","$","lib/backbone","css","lib/helpers/title-helper","lib/lingua","lib/deferred-loader","lib/mixins/layouts/performance-measuring","lib/template"],function(e,t,n){var r=e("underscore"),i=e("$"),s=e("lib/backbone"),o=e("css"),u=e("lib/helpers/title-helper"),a=e("lib/lingua"),f=e("lib/deferred-loader"),l=e("lib/mixins/layouts/performance-measuring"),c=e("lib/template"),h,p,d;h="l-footer",p="views/footer/footer",d=a.t("Enjoy the full SoundCloud experience with our app.",null,{comment:"Default page title"});var v=n.exports=s.View.extend({css:null,template:null,views:null,_currentViews:null,_viewPaths:null,slots:null,includeFooter:".l-main",footerClassName:"",getPageUrn:function(){return""},initialize:function(){this.views={},this._currentViews={}},setArgs:function(e){this.args=e||{}},setup:function(){var e=i.Deferred();return r.defer(e.resolve),e},dispose:function(){r.invoke(this._currentViews,"_dispose"),r.invoke(this.views,"_dispose"),this.$el.remove(),delete this.slots,delete this.views,delete this._viewPaths,delete this._currentViews},switchLayout:function(e){e&&(r.invoke(this._currentViews,"_dispose"),r.invoke(this.views,"_dispose"),this.template=e.template,this.includeFooter=e.includeFooter,this.slots=null,this.$el.html(""))},render:function(){var e,t;return this.includeFooter&&(e=this.views[h]),this.css&&o.insert(this.css),this.el.innerHTML===""&&(c.render(this.template,{},this.el),this.slots={},r.each(this.views,function(e,t){this.slots[t]=this.$("."+t)[0]},this)),r.each(this.views,function(e,t){this._currentViews[t]!==e&&(this._currentViews[t]&&this._currentViews[t]._dispose(),e.render(),t!==h&&this.slots[t].appendChild(e.el),this._currentViews[t]=e)},this),t=this.$(this.includeFooter)[0],t&&e&&(this.footerClassName&&(e.el.className+=" "+this.footerClassName),t.appendChild(e.el)),this},setViews:function(e){this.includeFooter&&(e[h]=[p,{upsellText:this.getUpsellText()}]);var t=Object.keys(e),n=r.pluck(e,0),s=i.Deferred();return f.load(n).done(function(){this._viewPaths={},r.each(arguments,function(r,i){var s=t[i],o=e[s][1];if(!this._currentViews[s]||!this._currentViews[s].isEquivalentTo(r,o))this.views[s]=new r(o);this._viewPaths[s]=n[i]},this)}.bind(this)).done(s.resolve).fail(s.reject),s},getChangeEventData:function(e){var t={};return r.each(this._viewPaths,function(e,n){t[e]=this.views[n].constructorArguments},this),{layout:this,layoutName:e,views:t,args:this.args}},setTitle:function(e){u.set(e)},getUpsellText:function(){return d},t:a.t,tp:a.tp});l.applyTo(v.prototype),u.initialize()}),
define("lib/layouts/fullheight.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".l-fullheight{height:100%;background:#000}.l-fullheight>.l-main{height:100%}")),data=null}),
define("lib/layouts/fullheight.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="l-fullheight"> <div class="l-main"> </div> <div class="l-footnote"> </div>\n</div>\n'})}),
define("lib/views/loading.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".loadingThrobber{background:transparent url(https://m.soundcloud.com/assets/images/ldpi/loader-81295ad2.gif) 50% 50% no-repeat;background-size:32px 32px;clear:both;text-align:center;height:40px;width:100%;padding:100px}.loadingThrobber.small{height:20px;background-size:16px}.loadingThrobber.fullscreen{top:44px;left:0;right:0;bottom:0;position:fixed;background-color:#f2f2f2;height:100%}")),data=null}),
define("lib/event-bubble",["require","exports","module"],function(e,t,n){var r=n.exports=Class.extend({_propagate:!0,data:null,initialize:function(e){this.data=e||{}},stopPropagation:function(){this._propagate=!1},isPropagationStopped:function(){return!this._propagate}})}),
define("lib/views/mixins/stateful",["require","exports","module","underscore","lib/mixin"],function(e,t,n){var r=e("underscore"),i=e("lib/mixin"),s=n.exports=new i({states:null,_states:null,toggleState:function(e,t){var n,i;return this.disposed?this:(this.states||(this.states={}),this.states[e]||(this.states[e]=e),this._states=this._states||{},this._states[e]=this._states[e]||!1,t=typeof t!="undefined"?!!t:!this._states[e],this._states[e]===t?this:(this._states[e]=t,n=this.states[e],typeof n=="string"?(i=n,this.$el[t?"addClass":"removeClass"](i)):r.isFunction(n)?n.call(this,t):n&&n[t?"setup":"teardown"].call(this),this.trigger("state:"+e,t),this))},getState:function(e){return!!this._states&&!!this._states[e]}})}),
define("lib/template",["require","exports","module","underscore","vendor/handlebars-runtime","lib/subview-plugin","lib/template-helpers"],function(e,t,n){var r=e("underscore"),i=e("vendor/handlebars-runtime"),s=e("lib/subview-plugin"),o=e("lib/template-helpers");r.each(o,function(e,t){i.registerHelper(t,e)});var u=n.exports={render:function(e,t,n){var r=e(t||{});n&&(n.innerHTML=r)},subviews:function(e){s.replacePlaceholders(e)}}}),
define("vendor/handlebars-runtime",["require","exports","module"],function(e,t,n){var r=function(){var e=function(){"use strict";function t(e){this.string=e}var e;return t.prototype.toString=function(){return""+this.string},e=t,e}(),t=function(e){"use strict";function o(e){return r[e]||"&amp;"}function u(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function c(e){return e instanceof n?e.toString():!e&&e!==0?"":(e=""+e,s.test(e)?e.replace(i,o):e)}function h(e){return!e&&e!==0?!0:l(e)&&e.length===0?!0:!1}var t={},n=e,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,s=/[&<>"'`]/;t.extend=u;var a=Object.prototype.toString;t.toString=a;var f=function(e){return typeof e=="function"};f(/x/)&&(f=function(e){return typeof e=="function"&&a.call(e)==="[object Function]"});var f;t.isFunction=f;var l=Array.isArray||function(e){return e&&typeof e=="object"?a.call(e)==="[object Array]":!1};return t.isArray=l,t.escapeExpression=c,t.isEmpty=h,t}(e),n=function(){"use strict";function n(e,n){var r;n&&n.firstLine&&(r=n.firstLine,e+=" - "+r+":"+n.firstColumn);var i=Error.prototype.constructor.call(this,e);for(var s=0;s<t.length;s++)this[t[s]]=i[t[s]];r&&(this.lineNumber=r,this.column=n.firstColumn)}var e,t=["description","fileName","lineNumber","message","name","number","stack"];return n.prototype=new Error,e=n,e}(),r=function(e,t){"use strict";function h(e,t){this.helpers=e||{},this.partials=t||{},p(this)}function p(e){e.registerHelper("helperMissing",function(e){if(arguments.length===2)return undefined;throw new i("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse||function(){},i=n.fn;return f(t)&&(t=t.call(this)),t===!0?i(this):t===!1||t==null?r(this):a(t)?t.length>0?e.helpers.each(t,n):r(this):i(t)}),e.registerHelper("each",function(e,t){var n=t.fn,r=t.inverse,i=0,s="",o;f(e)&&(e=e.call(this)),t.data&&(o=m(t.data));if(e&&typeof e=="object")if(a(e))for(var u=e.length;i<u;i++)o&&(o.index=i,o.first=i===0,o.last=i===e.length-1),s+=n(e[i],{data:o});else for(var l in e)e.hasOwnProperty(l)&&(o&&(o.key=l,o.index=i,o.first=i===0),s+=n(e[l],{data:o}),i++);return i===0&&(s=r(this)),s}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));if(!r.isEmpty(e))return t.fn(e)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)})}function v(e,t){d.log(e,t)}var n={},r=e,i=t,s="1.3.0";n.VERSION=s;var o=4;n.COMPILER_REVISION=o;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};n.REVISION_CHANGES=u;var a=r.isArray,f=r.isFunction,l=r.toString,c="[object Object]";n.HandlebarsEnvironment=h,h.prototype={constructor:h,logger:d,log:v,registerHelper:function(e,t,n){if(l.call(e)===c){if(n||t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){l.call(e)===c?r.extend(this.partials,e):this.partials[e]=t}};var d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];typeof console!="undefined"&&console[n]&&console[n].call(console,t)}}};n.logger=d,n.log=v;var m=function(e){var t={};return r.extend(t,e),t};return n.createFrame=m,n}(t,n),i=function(e,t,n){"use strict";function a(e){var t=e&&e[0]||1,n=o;if(t!==n){if(t<n){var r=u[n],i=u[t];throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function f(e,t){if(!t)throw new s("No environment passed to template");var n=function(e,n,r,i,o,u){var a=t.VM.invokePartial.apply(this,arguments);if(a!=null)return a;if(t.compile){var f={helpers:i,partials:o,data:u};return o[n]=t.compile(e,{data:u!==undefined},t),o[n](r,f)}throw new s("The partial "+n+" could not be compiled when running in runtime-only mode")},r={escapeExpression:i.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=c(e,t,n):r||(r=this.programs[e]=c(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},i.extend(n,t),i.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,i){i=i||{};var s=i.partial?i:t,o,u;i.partial||(o=i.helpers,u=i.partials);var a=e.call(r,s,n,o,u,i.data);return i.partial||t.VM.checkRevision(r.compilerInfo),a}}function l(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i}function c(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r}function h(e,t,n,r,i,o){var u={partial:!0,helpers:r,partials:i,data:o};if(e===undefined)throw new s("The partial "+t+" could not be found");if(e instanceof Function)return e(n,u)}function p(){return""}var r={},i=e,s=t,o=n.COMPILER_REVISION,u=n.REVISION_CHANGES;return r.checkRevision=a,r.template=f,r.programWithDepth=l,r.program=c,r.invokePartial=h,r.noop=p,r}(t,n,r),s=function(e,t,n,r,i){"use strict";var s,o=e,u=t,a=n,f=r,l=i,c=function(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u,e.Exception=a,e.Utils=f,e.VM=l,e.template=function(t){return l.template(t,e)},e},h=c();return h.create=c,s=h,s}(r,e,n,t,i);return s}();n.exports=r}),
define("views/header/header",["require","exports","module","lib/event-bus","lib/tracking/tracking-core","lib/view","views/header/header.css","views/header/header.tmpl"],function(e,t,n){function u(){var e=this.subviews.searchBox;e&&e.startSearch()}function a(){i.action("navigate","home")}function f(){this.toggleState("small-logo")}var r=e("lib/event-bus"),i=e("lib/tracking/tracking-core"),s=e("lib/view"),o=n.exports=s.extend({tagName:"header",className:"header sc-selection-disabled",attributes:{id:"header",role:"banner"},events:{"click .header__logo":a},bubbleEvents:{"searchButton:click":u},states:{"small-logo":"smallLogo"},css:e("views/header/header.css"),template:e("views/header/header.tmpl"),setup:function(){this.listenTo(r,"locale-selector:toggle",f)},dispose:function(){this.stopListening(r,"locale-selector:toggle",f)},renderDecorate:function(){}})}),
define("views/banner/upsell",["require","exports","module","underscore","config","lib/helpers/consumer-sub-upsell-helper","lib/helpers/client-environment-helper","lib/event-bus","lib/helpers/firefoxos-helper","lib/views/fullscreen-overlay","lib/views/mixins/impression-on-render","views/banner/launch-app","lib/lingua","lib/native-links","lib/play-manager","lib/tracking/tracking-core","lib/views/mixins/update-on-layout-change","lib/view","views/banner/upsell.css","views/banner/upsell.tmpl"],function(e,t,n){function w(e){function i(){n.forEach(window.clearTimeout),n=[]}var t=this.$(".upsellBanner__appButton")[0],n=[],r=!1;v.action("submit","download_app_button:download");if(o.firefoxOS)e.originalEvent.preventDefault(),a.installApp.call(this,T.bind(this));else if(o.iOS&&t&&!C()){e.originalEvent.preventDefault();if(!p.adjustWorksOnIOS()){O.call(this);return}["pagehide","beforeunload","blur"].forEach(function(e){window.addEventListener(e,i)}),n.push(window.setTimeout(function(){r=!0,window.top.location=p.getStoreLink()},1e3)),n.push(window.setTimeout(function(){r&&window.location.reload()},2e3)),window.location=t.href}else C()&&T.call(this)}function E(e){var t=x();v.trackClickV1({click_category:t.category,click_name:"clickthrough::"+t.impression,click_object:t.tCodeURN})}function S(){var e=x();v.trackImpressionV1({impression_name:e.impression,impression_object:e.tCodeURN,impression_category:e.category})}function x(){return{impression:"consumer_sub_ad",category:"consumer_subs",tCodeURN:"soundcloud:tcode:1031"}}function T(){this.toggleState("transitionVisibility",!0),this.toggleState("hidden",!0)}function N(){return/consumer-premium|premium|mobile-apps|password-reset-success|activate|static-page/.test(k())}function C(){return N()||!p.useDeeplinks()||!o.hasNativeApp}function k(){var e=i.get("router");return e&&e.getLayoutInfo()&&e.getLayoutInfo().layoutName}function L(e){A.call(this)}function A(){var e=d.getCurrentSound();!e&&d.source&&d.source.resource_type==="sound"&&(e=d.source);var t=Boolean(e&&s.soundRequiresUpsell(e));this.toggleState("consubUpsell",t),this.toggleState("hidden",t?N():C())}function O(){if(!this.subviews.launchAppOverlay){var e=new f({Subview:c,showHeader:!0,animate:!0,style:"dark",closeBehavior:"button"});e.on("open",M(!0),this).on("close",M(!1),this),this.addSubview(e,"launchAppOverlay")}this.subviews.launchAppOverlay.open()}function M(e){return function(){this.toggleState("launchAppOverlayVisible",e)}}var r=e("underscore"),i=e("config"),s=e("lib/helpers/consumer-sub-upsell-helper"),o=e("lib/helpers/client-environment-helper").device,u=e("lib/event-bus"),a=e("lib/helpers/firefoxos-helper"),f=e("lib/views/fullscreen-overlay"),l=e("lib/views/mixins/impression-on-render"),c=e("views/banner/launch-app"),h=e("lib/lingua"),p=e("lib/native-links"),d=e("lib/play-manager"),v=e("lib/tracking/tracking-core"),m=e("lib/views/mixins/update-on-layout-change"),g=e("lib/view"),y=200,b=n.exports=g.extend(m,l.withOptions({impressionName:"upsell_banner"}),{className:"upsellBanner",css:e("views/banner/upsell.css"),template:e("views/banner/upsell.tmpl"),events:{"click .upsellBanner__appButton":w,"click .upsellBanner__consubButton":E},element2selector:{"upsell-button":".upsellBanner__appButton,.upsellBanner__consubButton"},states:{launchAppOverlayVisible:"m-launch-app-overlay-visible",hidden:function(e){var t=this.$el.toggleClass.bind(this.$el);u.trigger("upsell:hide",e),this.getState("transitionVisibility")?e?(t("offscreen",!0),this.addDeferred(r.delay(function(){t("sc-hidden",!0)},y))):(t("sc-hidden",!1),t("offscreen",!1)):(t("sc-hidden",e),t("offscreen",!1))},transitionVisibility:"transitionVisibility",consubUpsell:function(e){this.$el.toggleClass("showingConsubUpsell",e),e&&S()}},setup:function(){this.toggleState("hidden",C()),o.firefoxOS&&a.isAppInstalled().fail(this.toggleState.bind(this,"hidden",!1)),d.on("change:currentSound",L,this)},dispose:function(){d.off("change:currentSound",L,this)},renderDecorate:function(){p.useDeeplinks()||this.getElement("upsell-button").attr("target","_blank"),C()&&T.call(this),A.call(this)},getTemplateData:function(e,t){var n,r,i=t&&p.useDeeplinks();return i&&o.iOS?(n=p.getIOSUpsellDeepLink(t),r=h.t("Listen on the SoundCloud app",null,{comment:"Upsell text on a button when viewed on an iOS device"})):i&&o.android?(n=p.getAndroidDeepLink(t),r=h.t("Listen on the SoundCloud app",null,{comment:"Upsell text when viewed on android device"})):(n=p.getUpsellLink(),r=h.t("Download our free app",null,{comment:"Upsell text on a button when viewed on non-ios devices"})),e.url=n,e.goUrl="https://checkout.soundcloud.com/go",e.text=r,e}})}),
define("views/play-controls/play-controls",["require","exports","module","lib/event-bus","lib/play-manager","lib/view","views/play-controls/play-controls.css","views/play-controls/play-controls.tmpl"],function(e,t,n){function u(){i.toggleCurrent({userInitiated:!0})}function a(e){f.call(this,e.sound)}function f(e){this.toggleState("playing",e.isPlaying());if(this.currentSound===e)return;this.currentSound=e,this.toggleState("go",this.currentSound.isHighTier()),this.rerender()}var r=e("lib/event-bus"),i=e("lib/play-manager"),s=e("lib/view"),o=n.exports=s.extend({className:"playControls",css:e("views/play-controls/play-controls.css"),template:e("views/play-controls/play-controls.tmpl"),states:{playing:"playing",go:"go"},setup:function(){this.listenTo(r,"audio:play audio:pause",a)},events:{"click .playControls__playPause":u},currentSound:null,getTemplateData:function(){return{sound:this.currentSound&&this.currentSound.toJSON()}}})}),
define("vendor/remixin/dist/remixin-cjs",["require","exports","module","underscore"],function(e,t,n){!function(t){var r=t(e("underscore"));n.exports=r}(function(e){function t(){this.mixins=e.initial(arguments),this.properties=e.last(arguments)}function n(e,t){this.applyTo=function(n){e.applyTo(n,t)}}function r(e,t){return null==e?t.slice():i(a(e),t)}function i(t,n){return t.concat(e.difference(n,t))}function s(e,t){return null==e?t:r(u(e),u(t)).join(" ")}function o(t,n){return e.extend({},n,t)}function u(t){return e.compact(t.split(l))}function a(t){return e.isArray(t)?t:[t]}var f=["before","after","around","requires","override","defaults","applyTo","requirePrototype","merge"],l=/\s+/;return e.extend(t.prototype,{applyTo:function(t,n){var r=this.properties;this.defaults(t,r.defaults),this.extend(t,r),this.merge(t,r.merge),e.invoke(this.mixins,"applyTo",t),["requires","requirePrototype","override","before","after","around"].forEach(function(e){this[e](t,r[e])},this),r.applyTo&&r.applyTo.call(this,t,n)},withOptions:function(e){return new n(this,e)},before:function(t,n){e.each(n,function(e,n){var r=t[n];t[n]=function(){return e.apply(this,arguments),r.apply(this,arguments)}})},after:function(t,n){e.each(n,function(e,n){var r=t[n];t[n]=function(){var t=r.apply(this,arguments);return e.apply(this,arguments),t}})},around:function(t,n){e.each(n,function(e,n){var r=t[n];t[n]=function(){var t=0,n=arguments.length,i=Array(n+1);for(i[0]=r.bind(this);n>t;++t)i[t+1]=arguments[t];return e.apply(this,i)}})},override:function(t,n){e.extend(t,n)},defaults:function(t,n){e.each(n,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})},merge:function(t,n){e.each(n,function(n,i){if(null!=n){var u=t[i];t[i]=e.isArray(n)?r(u,n):e.isString(n)?s(u,n):o(u,n)}})},extend:function(t,n){var r=e.omit(n,f);e.extend(t,r)},requires:e.noop,requirePrototype:e.noop}),n.prototype=t.prototype,t})}),
define("lib/endpoints",["require","exports","module","underscore","lib/url","config/endpoints"],function(e,t,n){function o(e,t,n){var o=s[e];if(!o&&!1)throw new Error('Endpoint "'+e+'" is not defined in config/endpoints.js file.');return o.host+i.stringify({path:t?u(o.path,t):o.path,query:r.extend({},o.query,n)})}function u(e,t){return e.replace(/:([\w-]+)/g,function(e,n){return t[n]!=null?t[n]:""})}var r=e("underscore"),i=e("lib/url"),s=e("config/endpoints");n.exports={getEndpointUrl:o}}),
define("lib/single",["require","exports","module","$","underscore","backbone","lib/gc-store"],function(e,t,n){var r=e("$"),i=e("underscore"),s=e("backbone"),o=e("lib/gc-store"),u=r.noop,a=0,f=6e4,l;n.exports={applyTo:function c(e,t){t=i.extend({neverRelease:!1,cleanupInstantly:!1,hashFn:function(){return null},prepareArgs:function(){return arguments},prepareInstance:function(){return this},getIncrementValue:function(){return 1},onHold:u,onRelease:u,onCleanup:null,GC_INTERVAL:f},t,e),delete t.prototype;var n,r=e.extend||s.Model.extend,h=t.neverRelease,p,d,v,m,g,y;return n=new o({autoCleanup:t.cleanupInstantly,onCleanup:t.onCleanup,onIncrement:t.onHold,onDecrement:t.onRelease}),h?v=m=g=u:(g=function(){n.cleanup(),d=n.length?setTimeout(g,t.GC_INTERVAL):null},v=function(e){n.increment(this.resource_id,e)},m=function(e){n.decrement(this.resource_id,e)}),y={hold:v,release:m,_usageCount:function(){return n.countFor(this.resource_id)},constructor:function(){var r=p.prepareArgs.apply(this,arguments),i=p.hashFn.apply(this,r)||"f-"+ ++a,s=p.neverRelease?1:p.getIncrementValue.apply(null,r),o=n.get(i);if(o)return this.constructor.neverRelease||o.hold(s),p.prepareInstance.apply(o,r),o;o=this,!d&&!p.cleanupInstantly&&(d=setTimeout(g,t.GC_INTERVAL)),n.set(i,o),o.constructor.neverRelease||o.hold(s-1),o.resource_id=i,l(e).apply(o,r),p.prepareInstance.apply(o,r)}},p=r.call(e,y,t),i.extend(p,{__constructor__:l(e),reset:function(){n.reset(),d&&(clearTimeout(d),d=null)},extend:function(t){var n,s;return t=t||{},i.isArray(t)&&(t=i.extend.apply(null,[{}].concat(t))),t.hasOwnProperty("constructor")||(t.constructor=l(e)),n=r.apply(p,arguments),n.extend=r,s=c(n,p),s.__super__&&(s.__super__=s.__super__.constructor.__super__),s},instances:function(){return n.add=function(e){var t=p.hashFn(e.attributes);e.resource_id=t,t&&this.set(t,e)},n}(),getNewInstance:function(){function r(){return l(e).apply(this,t)}var t=arguments,n;return r.prototype=p.prototype,n=new r,n}})}},l=function(e){return e.__constructor__||e}}),
define("models/audible-interface",["require","exports","module","lib/mixins/audio-source","lib/model","lib/math"],function(e,t,n){function u(){throw new Error("Abstract method of AudibleInterface should be implemented in subclass")}var r=e("lib/mixins/audio-source"),i=e("lib/model"),s=e("lib/math"),o=n.exports=i.extend(r,{play:u,pause:u,isPlaying:u,getPrevSound:u,getCurrentSound:u,getNextSound:u,getFirstSound:u,getLastSound:u,getSounds:u,setup:function(){this.listenTo(this,"destroy",this.pause)},getSourceInfo:function(){return{type:"single",resourceId:this.resource_id,resourceType:this.resource_type}},initAudio:function(){var e=this.getCurrentSound();e&&e.createAudio()&&e.audio.enablePreloading()},isPrivate:function(){return this.get("sharing")==="private"},isPublic:function(){return!this.isPrivate()},toggle:function(e){this[this.isPlaying()?"pause":"play"](e)},isPaused:function(){return!this.isPlaying()},duration:function(){return this.get("duration")},progress:function(){return s.clamp(this.currentTime()/this.duration(),0,1)}})}),
define("lib/mixins/models/batching",["require","exports","module","underscore","lib/mixin","lib/futures","lib/errors/unauthorized-viewer","lib/url"],function(e,t,n){function h(e){return e?u.stringify({query:e}):"default"}function p(e){return!this.id||e.jqAjax||e.saveRequest||e.batch===!1||this.get("sharing")==="private"}function d(e,t,n,r){this.batchEndpoint=e,this.batchParams=t,this.maxQueueSize=n,this.flushInterval=r,this.queue={},this.timer=null}function v(e,t){return $.ajax({url:e,type:"get",data:t,contentType:"application/json",dataType:"json",timeout:3e3}).then(function(e,t,n){return{body:e,status:n.status,headers:{}}})}var r=e("underscore"),i=e("lib/mixin"),s=e("lib/futures"),o=e("lib/errors/unauthorized-viewer"),u=e("lib/url"),a=50,f=50,l=function(){return null},c=n.exports=new i({applyTo:function(e,t){var n=t.batchEndpoint,r=t.maxQueueSize||f,i=t.flushInterval||a,s=t.getBatchParams||l,o={};this.around(e,{fetch:function(e,t){t||(t={});if(p.call(this,t))return e(t);this._requests||(this._requests={});if(!this._requests[this.id]){var u=s(this)||null,a=h(u),f=o[a]||(o[a]=new d(n,u,r,i));this._requests[this.id]=f.add(this,t)}return this._requests[this.id]}})}});d.prototype={getIds:function(){var e=r.reduce(this.queue,function(e,t,n){return t.deferred.state()==="pending"&&(e[n]=t),e},{});return Object.keys(e).sort()},add:function(e,t){var n=this.queue[e.id]=this.queue[e.id]||{callsigs:[],deferred:s.defer()};return n.callsigs.push({model:e,options:t}),this.timer||(this.timer=window.setTimeout(this.flush.bind(this),this.flushInterval)),Object.keys(this.queue).length===this.maxQueueSize&&this.flush(),n.deferred},flush:function(){var e=this.getIds(),t=this.queue;window.clearTimeout(this.timer),this.timer=null,this.queue={};if(e.length<1)return;v(this.batchEndpoint,r.extend({ids:e.join(",")},this.batchParams)).then(function(n){var i=n.body,s=r.map(r.pluck(i,"id"),String);i.forEach(function(e){var n=e.id,r=t[n],i=Date.now();r&&(r.callsigs.forEach(function(t){var n=t.model;n.lastFetchTime=i,n.set(n.parse(e),t.options)}),r.deferred.resolve())}),r.difference(e,s).forEach(function(e){var n=t[e];n&&n.callsigs.forEach(function(e){e.model.trigger("error",e.model,new o,e.options)})}),r.each(t,function(e){e.deferred.reject()})})}}}),
define("lib/mobi-audio",["require","exports","module","underscore","config","lib/connect","lib/event-bus","lib/error-reporting","lib/integrations/promoted","vendor/event-gateway/event-gateway","lib/scaudio-logger","lib/tracking/tracking-core","vendor/playback/playback"],function(e,t,n){function A(e,t){function j(t){var r={sound:e,model:e};e.trigger(t,r),n||o.trigger("audio:"+t,r)}function F(t){t instanceof E&&e.makeTemporarilyUnavailable()}function I(){D.onError.subscribe(F),D.onConnectionRequired.subscribe(function(){o.trigger("error:audio_no_connection")}),D.onConnectionRecovered.subscribe(function(){o.trigger("error:audio_connection_recovered")}),D.onPlayIntent.subscribe(function(){j("play"),O||(O=!0,window.setTimeout(function(){O=!1},L),e.set("playback_count",e.get("playback_count")+1),a.trackEvent("play","context"))}),D.onPlay.subscribe(function(){j("play")}),D.onPlayRejection.subscribe(function(){j("pause")}),D.onPauseIntent.subscribe(function(){j("pause")}),D.onPauseRejection.subscribe(function(){j("play-intent")}),D.onEnded.subscribe(function(){D.pause(),j("finish")}),D.onPositionJumped.subscribe(function(){j("seeked")}),D.onLoadStart.subscribe(function(){j("buffering:start")}),D.onLoadEnd.subscribe(function(){j("buffering:end")}),q()}function q(){function n(){window.clearTimeout(e);var r=D.getPosition();r!==t&&(j("position"),t=r),D.isPlaying()&&!D.isEnded()&&(e=window.setTimeout(n,k))}var e=0,t=null;D.onPlay.subscribe(n),D.onPositionJumped.subscribe(n),D.onPause.subscribe(n),D.onStateChange.subscribe(function(t){t===N.DEAD&&window.clearTimeout(e)})}t=t||{};var n=t.suppressGlobalEvents;r.isUndefined(n)&&(n=!1);var h=t.onKilled,A=s.getAuthToken(),O=!1,M=new m({loader:x,clientId:i.get("client_id"),trackId:e.id,secretToken:e.get("secret_token"),requestAuthorization:A?"OAuth "+A:null,encryptedStreamsEnabled:!1,logger:l}),D=p({playerClasses:[g,b],streamUrlRetriever:M,preloadingEnabled:!1,audioPerformanceReporter:function(e){f.audioPerformance({bitrate:e.bitrate,format:e.format,host:e.host,latency:e.latency,player_type:e.playerType,protocol:e.protocol,type:e.type,player_version:"v"+d,player_build_number:v})},audioReporter:function(t){c.audio(t,e)},errorReporter:function(e){var t=null;try{f.audioError({bitrate:e.bitrate||"",format:e.format||"",host:e.host||"",player_type:e.playerType,protocol:e.protocol||"",url:e.url||"",error_code:e.errorCode,log_id:e.logId,player_version:"v"+d,player_build_number:v})}catch(n){t=n}u.notify({error:{name:"SCAudio: "+e.errorCode,message:e.errorCode},context:{component:"SCAudio",scaudioVersion:d,MaestroCoreVersion:S,HTML5PlayerVersion:y,HLSMSEPlayerVersion:w,stringLoaderVersion:T,streamUrl:e.url,playerType:e.playerType,streamFormat:e.format,log:e.log.slice().reverse(),logId:e.logId}});if(t)throw t},fadeOutDuration:e.isSnippetized()?C:0,logger:l});if(!D.isDead()){var P=function(){H()},H=function(){var e=s.getAuthToken();M.updateRequestAuthorization(e?"OAuth "+e:null)},B=function(){M.clearCache(),H(),D.reload()};return D.onStateChange.subscribe(function(t){t===N.DEAD&&(o.off("connect:login connect:logout",P),e.off("change:policy",B),h&&h())}),o.on("connect:login connect:logout",P),e.on("change:policy",B),I(),D}return F(D.getFatalError()),null}var r=e("underscore"),i=e("config"),s=e("lib/connect"),o=e("lib/event-bus"),u=e("lib/error-reporting"),a=e("lib/integrations/promoted"),f=e("vendor/event-gateway/event-gateway"),l=e("lib/scaudio-logger"),c=e("lib/tracking/tracking-core"),h=e("vendor/playback/playback"),p=h.SCAudio.buildPlayer,d=h.SCAudio.version,v=h.SCAudio.buildNumber,m=h.SCAudioPublicApiStreamURLRetriever.StreamUrlRetriever,g=h.MaestroHTML5Player.HTML5Player,y=h.MaestroHTML5Player.version,b=h.MaestroHLSMSEPlayer.HLSMSEPlayer,w=h.MaestroHLSMSEPlayer.version,E=h.MaestroCore.errors.PlayerFatalError,S=h.MaestroCore.version,x=h.MaestroLoaders.stringLoader,T=h.MaestroLoaders.version,N=h.MaestroCore.State,C=3e3,k=1e3/60,L=6e4;n.exports={createAudioFromSound:A}}),
define("lib/cookies",["require","exports","module"],function(e,t,n){var r=window.location.hostname.replace(/.*\.(.+\..+)/,"$1"),i="."+r,s=864e5,o=6e4,u,a,f=n.exports={get:function(e){return a||(a={},document.cookie.split(/\s*;\s*/).forEach(function(e){var t=e.split("=");a[t[0]]=t[1]})),a[e]},set:function(e,t,n){var r=Date.now(),a=null;n&&n.days?a=n.days*s:n&&n.minutes&&(a=n.minutes*o),document.cookie=[e+"="+t,a?"expires="+(new Date(r+a)).toGMTString():"","path=/","domain="+i].filter(Boolean).join(";"),u()},unset:function(e){f.set(e,"",-1),u()}};u=function(){a=null}}),
define("vendor/i18n/i18n",["require","exports","module","./lib/datetime","./lib/number","./locales/es","./locales/de","./locales/en","./locales/fr","./locales/it","./locales/nl","./locales/pt_BR","./locales/sv"],function(e,t,n){function p(e){this.phrases={},this.setLocale(e)}function d(){var e=v.call(this);this.number=new i(e),this.dateTime=new r(e,this.number)}function v(){return h[this.locale]||h[l]}function m(e,t){return t?e.replace(a,function(e,n,r,i){var s=t[n||r||i];return r?f(s):s}):e}function g(e,t){return h[e].pluralForm(t)}function y(e){return Array.isArray(e)?e[0]:e.toString()}function b(e){var t,n;for(var r=1,i=arguments.length;r<i;r++){t=arguments[r];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}function w(e){for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];for(var i in r)e[i]===void 0&&(e[i]=r[i])}return e}function E(e){var t=e.dates,n=e.d3;return{decimal:e.delimiters.decimal,thousands:e.delimiters.thousands,grouping:n.grouping,currency:n.currency,dateTime:n.dateTime,date:n.date,time:n.time,periods:n.periods,days:t.weekdays,shortDays:t.shortWeekdays,months:t.months,shortMonths:t.monthsShort}}function S(e){var t=e.datePicker,n=e.dates;return{closeText:t.closeText,prevText:t.prevText,nextText:t.nextText,currentText:t.currentText,weekHeader:t.weekHeader,dateFormat:t.dateFormat,firstDay:t.firstDay,isRTL:t.isRTL,showMonthAfterYear:t.showMonthAfterYear,yearSuffix:t.yearSuffix,monthNames:n.months,monthNamesShort:n.monthsShort,dayNames:n.weekdays,dayNamesShort:n.shortWeekdays,dayNamesMin:n.minWeekdays}}var r=e("./lib/datetime"),i=e("./lib/number"),s="sclocale",o={};n.exports=p;var u="[a-zA-Z0-9_]+",a=new RegExp("\\[\\[\\[("+u+")\\]\\]\\]|"+"\\[\\[("+u+")\\]\\]|"+"(%d)","g"),f,l="en",c=e("./locales/es"),h={de:e("./locales/de"),en:e("./locales/en"),en_GB:e("./locales/en"),es:c,es_419:c,fr:e("./locales/fr"),it:e("./locales/it"),nl:e("./locales/nl"),pt_BR:e("./locales/pt_BR"),sv:e("./locales/sv")};p.prototype.availableLocales=Object.keys(h),p.prototype.getLocaleCookieName=function(){return s},p.prototype.setLocale=function(e){this.locale=h[e]?e:l,d.call(this)},p.prototype.setPhrases=function(e){this.phrases=e||{}},p.prototype.extend=function(e){b(this.phrases,e)},p.prototype.getLocaleDataFor=function(e){var t=v.call(this),n=o;switch(e){case"d3":return n.d3=n.d3||E(t);case"jquery.datepicker":return n["jquery.datepicker"]=n["jquery.datepicker"]||S(t);default:return t}},p.prototype.t=function(e,t,n,r){var i=(n?n+"::":"")+e,s=this.phrases[i]||e;return m.call(this,y(s),t)},p.prototype.tp=function(e,t,n,r,i,s){var o=(i?i+"::":"")+e,u=this.phrases[o],a=this.number.format(n);return u=u?u[g(this.locale,n)]:g("en",n)?t:e,m.call(this,y(u),w({"%d":a},r))},f=function(){function r(t){return e[t]||"&amp;"}var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/[&<>"'`]/g,n=/[&<>"'`]/;return function(e){return!e&&e!==0?"":(e=""+e,n.test(e)?e.replace(t,r):e)}}()}),
define("shared/config/supported-locales",["require","exports","module","underscore","shared/config/locales/locale-de.json","shared/config/locales/locale-es.json","shared/config/locales/locale-fr.json","shared/config/locales/locale-it.json","shared/config/locales/locale-nl.json","shared/config/locales/locale-pt-br.json"],function(e,t,n){var r=e("underscore"),i={de:"Deutsch",en:"English (US)",es:"EspaÃ±ol",fr:"FranÃ§ais",it:"Italiano",nl:"Nederlands",pt_BR:"PortuguÃªs (Brasil)"},s=r.extend({},i),o={de:e("shared/config/locales/locale-de.json"),en:{},es:e("shared/config/locales/locale-es.json"),fr:e("shared/config/locales/locale-fr.json"),it:e("shared/config/locales/locale-it.json"),nl:e("shared/config/locales/locale-nl.json"),pt_BR:e("shared/config/locales/locale-pt-br.json")},u=r.keys(i),a=r.keys(s);n.exports={defaultLocale:"en",locales:o,publicLanguages:i,publicLanguageCodes:u,experimentalAndPublicLanguages:s,experimentalAndPublicLanguageCodes:a}}),
define("lib/mixins/models/data-dns-prefetcher",["require","exports","module","underscore","lib/helpers/dns-helper","lib/mixin"],function(e,t,n){var r=e("underscore"),i=e("lib/helpers/dns-helper"),s=e("lib/mixin"),o=n.exports=new s({before:{parse:function(e){i.lookup(r.compact(r.flatten([e.avatar_url,e.artwork_url,e.waveform_url,r.values(e.streams)])))}}})}),
define("type-of",["require","exports","module"],function(e,t,n){var r=Object.prototype.toString;n.exports=function(e){switch(r.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return e===null?"null":e===undefined?"undefined":e!==e?"nan":e&&e.nodeType===1?"element":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}}),
define("indexof",["require","exports","module"],function(e,t,n){var r=[].indexOf;n.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}}),
define("lib/helpers/title-helper",["require","exports","module","lib/event-bus","lib/play-manager"],function(e,t,n){function c(e){e=e.sound||e,e.isPaused()&&a()}function h(e){u(e.sound||e)}var r=e("lib/event-bus"),i=e("lib/play-manager"),s="SoundCloud - Hear the worldâ€™s sounds",o,u,a,f=!1,l=n.exports={initialize:function(){f||(f=!0,r.on("audio:play",h).on("audio:pause",c))},deinitialize:function(){f&&(f=!1,r.off("audio:play",h).off("audio:pause",c))},set:function(e){o=e;var t=i.getCurrentSound(),n=!t||!t.isPlaying();n&&a()},update:function(){var e=i.getCurrentSound();e&&e.isPlaying()&&u(e)},_setTitle:function(e){document.title=e}};a=function(){l._setTitle((o?o+" on ":"")+s)},u=function(e){var t=e.getCurrentSound();t.has("title")&&t.has("user")?l._setTitle(["â–¶",t.get("title"),"by",t.get("user").username].join(" ")):t.fetch().done(function(){l._setTitle(["â–¶",t.get("title"),"by",t.get("user").username].join(" "))})}}),
define("lib/mixins/layouts/performance-measuring",["require","exports","module","lib/tracking/tracking-core","lib/mixin"],function(e,t,n){function c(e,t,n){function o(){clearTimeout(i),clearTimeout(r)}function u(){e()&&(o(),n())}var r=setTimeout(o,t),i=setInterval(u,s);u()}var r=e("lib/tracking/tracking-core"),i=e("lib/mixin"),s=50,o=15e3,u=window.performance&&window.performance.timing,a="fetchStart",f=!0,l=n.exports=u?new i({defaults:{performanceSelector:null},after:{render:function(){var e,t,n;if(!f)return;f=!1;if(e=this.performanceSelector)t=function(){return this.$(e).length}.bind(this),n=function(){var e=Date.now()-u[a];r.appLoad(e)},c(t,o,n)}}}):new i({})}),
define("views/footer/footer",["require","exports","module","lib/helpers/client-environment-helper","lib/event-bus","lib/helpers/firefoxos-helper","lib/view","views/footer/footer.tmpl","views/footer/footer.css"],function(e,t,n){var r=e("lib/helpers/client-environment-helper").device,i=e("lib/event-bus"),s=e("lib/helpers/firefoxos-helper"),o=e("lib/view"),u=n.exports=o.extend({className:"footer",tagName:"footer",template:e("views/footer/footer.tmpl"),css:e("views/footer/footer.css"),defaults:{upsellText:""},states:{show:"show"},setup:function(){this.listenTo(i,"layout:change",this.onLayoutChange),r.firefoxOS&&(this._upsellFirefoxOS=!1,s.isAppInstalled().fail(function(){this._upsellFirefoxOS=!0,this.rerender()}.bind(this)))},dispose:function(){this.stopListening(i,"layout:change",this.onLayoutChange)},onLayoutChange:function(){this.toggleState("show")},getTemplateData:function(e){return e.shouldUpsell=r.hasNativeApp||this._upsellFirefoxOS,e}})}),
define("lib/subview-plugin",["require","exports","module","underscore","vendor/handlebars-runtime"],function(e,t,n){function u(t,n){var r=t.getAttribute("data-id"),i=s[r],o,u,a;i.__path?(u=e(i.__path),delete i.__path):(u=i.__class,delete i.__class),delete s[r],i.key&&(a=i.key,delete i.key),o=n.addSubview(new u(i),a),o.render(),t.parentNode.replaceChild(o.el,t)}function a(t,n){var u,a;return typeof t=="string"?(n.hash.__path=t,a=e(t)):(n.hash.__class=t,a=t),n.hash.args&&(r.isFunction(n.hash.args)&&(n.hash.args=n.hash.args(this)),n.hash=r.extend({},n.hash.args,n.hash)),delete n.hash.args,n.fn&&(n.hash.blockContent=new i.SafeString(n.fn(this))),n.hash.className&&(n.hash.className=[a.prototype.className,n.hash.className].filter(Boolean).join(" ")),u=o++,s[u]=n.hash,'<view data-id="'+u+'"></view>'}function f(e){e.$("view").each(function(){u(this,e)})}var r=e("underscore"),i=e("vendor/handlebars-runtime"),s={},o=0;t.handlebarHelper=a,t.replacePlaceholders=f}),
define("lib/template-helpers",["require","exports","module","underscore","lib/helpers/a11y-helper","lib/helpers/count-helper","vendor/handlebars-runtime","lib/helpers/i18n-helper","lib/helpers/image-helper","lib/lingua","router","lib/subview-plugin"],function(e,t,n){function p(e,t,n,r){return new o.SafeString(f.tp(t,n,e,r.hash,r.hash._comment))}function d(e,t){return new o.SafeString(f.tp(u.cleanBlockText(t.fn()),u.cleanBlockText(t.inverse()),e,t.hash,t.hash._comment))}function v(e,t){return new o.SafeString(f.t(e,t.hash,t.hash._comment))}function m(e){return new o.SafeString(f.t(u.cleanBlockText(e.fn()),e.hash,e.hash._comment))}var r=e("underscore"),i=e("lib/helpers/a11y-helper"),s=e("lib/helpers/count-helper"),o=e("vendor/handlebars-runtime"),u=e("lib/helpers/i18n-helper"),a=e("lib/helpers/image-helper"),f=e("lib/lingua"),l=e("router"),c=e("lib/subview-plugin"),h=n.exports={$a11y:function(e){return new o.SafeString(i.getAccessibleMarkup(e.hash))},$count:function(e,t){return s.render(e,t.hash)},$debug:function(){return""},$view:function(){return new o.SafeString(c.handlebarHelper.apply(this,arguments))},$image:function(e,t){return new o.SafeString(a.markup(e,t.hash))},$route:function(){var e=r.toArray(arguments).slice(0,-1);return l.getRoute.apply(l,e)},$t:function(){var e=arguments.length;if(e===2)return v.apply(this,arguments);if(e===1)return m.apply(this,arguments);throw new Error("Invalid signature to t helper, expected 1 or 2 arguments, got "+e)},$tp:function(){var e=arguments.length;if(e===4)return p.apply(null,arguments);if(e===2)return d.apply(null,arguments);throw new Error("Invalid signature to tp helper, expected 4 or 2 arguments, got: "+e)}}}),
define("views/header/header.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".header{height:44px;box-shadow:0 0 2px 0 rgba(0,0,0,.5);background:#fff}.header__logo{background:url(https://m.soundcloud.com/assets/images/ldpi/logo-881c7ae2.png) 0 50% no-repeat;background-size:128px 16px;width:128px;height:44px;margin:0 auto;display:block}.smallLogo>.header__logo{width:34px}")),data=null}),
define("views/header/header.tmpl",["vendor/handlebars-runtime","views/header/search-button","views/search/search-box"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<a class="header__logo" href="'+o(n.$route.call(t,"root",{hash:{},data:i}))+'"> '+o(n.$a11y.call(t,{hash:{screenreader:n.$t.call(t,"SoundCloud homepage",{hash:{},data:i})},data:i}))+"\n</a> "+o(n.$view.call(t,"views/header/search-button",{hash:{key:"searchButton"},data:i}))+"\n"+o(n.$view.call(t,"views/search/search-box",{hash:{key:"searchBox"},data:i}))+"\n",s})}),
define("lib/helpers/consumer-sub-upsell-helper",["require","exports","module"],function(e,t,n){function i(e){return e.isSnippetized()&&s(e.get("monetization_model")).length>0}function s(e){switch(e){case"SUB_MID_TIER":return[r.productIds.HIGH_TIER];case"SUB_HIGH_TIER":return[r.productIds.HIGH_TIER];default:return[]}}var r=n.exports={monetizationModelToProductIds:s,soundRequiresUpsell:i,productIds:{HIGH_TIER:"go"}}}),
define("lib/helpers/firefoxos-helper",["require","exports","module","$"],function(e,t,n){var r=e("$"),i="https://m.soundcloud.com/manifest.webapp",s=n.exports={isAppInstalled:function(){var e=new r.Deferred,t=navigator.mozApps.checkInstalled(i);return t.onsuccess=function(){t.result?e.resolve(!0):e.reject(!1)},e},installApp:function(e){navigator.mozApps.install(i).onsuccess=e}}}),
define("lib/views/fullscreen-overlay",["require","exports","module","config","lib/views/mixins/overlay","lib/tracking/tracking-core","lib/view","lib/views/fullscreen-overlay.css","lib/views/fullscreen-overlay.tmpl"],function(e,t,n){var r=e("config"),i=e("lib/views/mixins/overlay"),s=e("lib/tracking/tracking-core"),o=e("lib/view"),u=n.exports=o.extend(i,{defaults:{showHeader:!1,closeBehavior:null,style:null,trackingIdentifier:null},parentEl:function(){return r.get("appView").el},transitions:{"in":"fadeIn",out:"fadeOut"},css:e("lib/views/fullscreen-overlay.css"),template:e("lib/views/fullscreen-overlay.tmpl"),className:"fullscreen-overlay",bubbleEvents:{"closeButton:click":"close"},setup:function(e){e.animate||(this.transitions=null),e.style&&this.$el.addClass("fullscreen-overlay-"+e.style),this.$el.toggleClass("fullscreen-overlay-show-header",e.showHeader);switch(e.closeBehavior){case"button":this.events={"click .fullscreen-overlay__closeButton":"close"};break;case"background":this.events={click:"close"};break;default:}},getTemplateData:function(e){return{closeWithButton:this.options.closeBehavior==="button"}},onOpen:function(){this.options.trackingIdentifier&&s.action("submit",this.options.trackingIdentifier)},onClose:function(){this.options.trackingIdentifier&&s.action("cancel",this.options.trackingIdentifier+"_cancel")}})}),
define("lib/views/mixins/impression-on-render",["require","exports","module","underscore","lib/tracking/tracking-core","lib/mixin"],function(e,t,n){var r=e("underscore"),i=e("lib/tracking/tracking-core"),s=e("lib/mixin"),o=n.exports=new s({applyTo:function(e,t){this.after(e,{renderDecorate:function(){this._trackImpression()},setup:function(){this._trackImpression=r.once(function(){i.impression(t.impressionName,t.data||{})})}})}})}),
define("views/banner/launch-app",["require","exports","module","config","lib/native-links","lib/view","lib/tracking/tracking-core","views/banner/launch-app.css","views/banner/launch-app.tmpl"],function(e,t,n){function a(e){return function(n){o.trackClickV1({click_category:"upsell",click_name:e,click_object:"launch-app-button"})}}var r=e("config"),i=e("lib/native-links"),s=e("lib/view"),o=e("lib/tracking/tracking-core"),u=n.exports=s.extend({className:"launchApp",css:e("views/banner/launch-app.css"),template:e("views/banner/launch-app.tmpl"),events:{"click .launchApp__get-app":a("download_app_button:get_app"),"click .launchApp__open-in-app":a("download_app_button:open_in_app")},getTemplateData:function(){return{deepLink:i.getIOSUpsellDeepLink(r.get("router").getLayoutInfo()),storeLink:i.getStoreLink()}}})}),
define("lib/native-links",["require","exports","module","lib/helpers/client-environment-helper","lib/url"],function(e,t,n){function N(){return s.iOS||s.android}function C(){return s.iOS&&i.iOSVersion<9.2}function k(e){var t=e&&e.layoutName==="premium";return t&&s.iOS?l:t&&s.android?c:s.iOS?C()?a:T:s.android?f:L()}function L(){return s.iOS?C()?b:T:s.android?w:s.blackberry?E:s.amazon?S:s.firefoxOS?x:""}function A(e){if(s.iOS)return B(h,q(e.layout,"footer"));if(s.android)return O(e)}function O(e){var t=e.layout.getPageUrn(),n=t?t.split(":").splice(1).join(":"):"stream";return"intent://"+n+"#Intent;scheme=soundcloud;package=com.soundcloud.android;S.market_referrer=utm_source%3Dmobi;end"}function M(e){return C()?B(h,q(e.layout,"header")):H(e.layout)}function _(e){if(s.iOS)return B(p,q(e.layout,"like_button"));if(s.android)return B(d,{deep_link:H(e.layout)})}function D(){if(s.iOS)return B(v,{deep_link:m});if(s.android)return g}function P(){return y}function H(e){var t=e?e.getPageUrn():"",n="";return s.iOS?n=I(t):s.android&&(n=t),n||(n=s.android?"soundcloud://stream":"soundcloud://page/authentication"),n}function B(e,t){return o.modify(e,{query:t||{}})}function j(e,t){var n=t?F(t):H();return B(e,{deep_link:n})}function F(e){return"soundcloud://"+e}function I(e){var t=e.split(":"),n=t[2],r=t[1];switch(r){case"tracks":return"soundcloud://sounds:"+n;case"users":return"soundcloud://users:"+n;case"playlists":return"soundcloud://sets:"+n;default:return"soundcloud://page/authenticate"}}function q(e,t){return{deep_link:H(e),campaign:t,adgroup:R(),creative:"var_a"}}function R(){var e=window.navigator,t=e.languages,n=e.userLanguage||t&&t[0]||e.language||"";return n.replace(/-/g,"_").toLowerCase()}var r=e("lib/helpers/client-environment-helper"),i=r.os,s=r.device,o=e("lib/url"),u="market://details?id=com.soundcloud.android&referrer=utm_source%3Dsoundcloud%26Dutm_medium%3Dmobileweb",a="https://app.adjust.io/12ozk8?redirect=https%3A%2F%2Fitunes.apple.com%2Fus%2Fapp%2Fsoundcloud-music-audio%2Fid336353151%3Fmt%3D8%26uo%3D4%26at%3D11lPIB",f=u+"%26utm_campaign%3Ddownload_button_header",l="https://itunes.apple.com/us/app/soundcloud-pulse-for-creators/id1074278256?mt=8",c="https://play.google.com/store/apps/details?id=com.soundcloud.creators&hl=en",h="https://app.adjust.io/kzvpho",p="https://app.adjust.io/gpzp1a",d="https://app.adjust.io/19bkjq",v="https://app.adjust.io/wua7pf",m="soundcloud://page/authentication",g="soundcloud://home",y="soundcloud://remote-sign-in",b="https://app.adjust.io/7rfiwt?redirect=https%3A%2F%2Fitunes.apple.com%2Fus%2Fapp%2Fsoundcloud-music-audio%2Fid336353151%3Fmt%3D8%26uo%3D4%26at%3D11lPIB",w="https://play.google.com/store/apps/details?id=com.soundcloud.android&referrer=utm_source%3Dmobi",E="appworld://content/41097895",S="amzn://apps/android?asin=B004HXIZVC",x="https://marketplace.firefox.com/app/soundcloud",T="https://itunes.apple.com/app/apple-store/id336353151?pt=298087&ct=mobi&mt=8";n.exports={getStoreLink:L,getStoreDeepLink:A,getUpsellLink:k,getAndroidDeepLink:O,getIOSUpsellDeepLink:M,getLikeCountDeepLink:_,getSigninDeepLink:D,getActivateDeeplink:P,useDeeplinks:N,getAdjustDeeplink:j,adjustWorksOnIOS:C}}),
define("lib/views/mixins/update-on-layout-change",["require","exports","module","config","lib/event-bus","lib/mixin"],function(e,t,n){function u(e){var t=e?"on":"off";i[t]("layout:change",a,this)}function a(){this.rerender()}var r=e("config"),i=e("lib/event-bus"),s=e("lib/mixin"),o=n.exports=new s({before:{setup:function(){u.call(this,!0)},dispose:function(){u.call(this,!1)}},around:{getTemplateData:function(e,t){var n=r.get("router").getLayoutInfo();return e.call(this,t,n)}}})}),
define("views/banner/upsell.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".upsellBanner{background:#333;height:60px;position:relative;overflow:hidden}.upsellBanner.transitionVisibility{-webkit-transition:-webkit-transform .2s linear;transition:transform .2s linear}.upsellBanner.offscreen{-webkit-transform:translate3d(0,-54px,0);transform:translate3d(0,-54px,0)}.upsellBanner.showingConsubUpsell .upsellBanner__consub,.upsellBanner .upsellBanner__app{opacity:1}.upsellBanner:not(.showingConsubUpsell) .upsellBanner__consub,.upsellBanner.showingConsubUpsell .upsellBanner__app{opacity:0;pointer-events:none}.upsellBanner__app{text-align:center}.upsellBanner__app,.upsellBanner__consub{position:absolute;top:0;bottom:0;left:0;right:0;-webkit-transition:opacity .2s linear;transition:opacity .2s linear}.upsellBanner__consub{background:linear-gradient(to right,#7d01a1,#f50);display:flex;justify-content:space-between;align-items:center;padding:0 12px;-webkit-font-smoothing:antialiased}.upsellBanner__appButton{margin-top:10px}.upsellBanner__snippet{color:#fff;font-size:12px}.upsellBanner__consubButton.g-button-cta{background:transparent;border:1px solid #fff;font-size:12px;height:32px;padding:5px 6px;overflow:visible}.upsellBanner.m-launch-app-overlay-visible .upsellBanner__appButton{opacity:0}@media (max-width:345px){.upsellBanner__snippet,.upsellBanner__consubButton.g-button-cta{font-size:11px}}@media (min-width:400px){.upsellBanner__snippet,.upsellBanner__consubButton.g-button-cta{font-size:13px}}")),data=null}),
define("views/banner/upsell.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="upsellBanner__app"> <a href="'+a((o=t&&t.url,typeof o===u?o.apply(t):o))+'" class="upsellBanner__appButton g-button g-button-large g-button-cta g-touch-padding">'+a((o=t&&t.text,typeof o===u?o.apply(t):o))+'</a>\n</div>\n<div class="upsellBanner__consub"> <span class="upsellBanner__snippet"> '+a(n.$t.call(t,"No more previews, just full tracks.",{hash:{},data:i}))+' </span> <a href="'+a((o=t&&t.goUrl,typeof o===u?o.apply(t):o))+'" class="upsellBanner__consubButton g-button g-button-cta g-touch-padding"> '+a(n.$t.call(t,"Try SoundCloud Go+",{hash:{},data:i}))+" </a>\n</div>\n",s})}),
define("views/play-controls/play-controls.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".playControls{height:54px}.playControls__content{position:relative;padding:7px 10px;overflow:hidden;background:#333}.playControls__nowPlaying{margin:0 45px 0 0}.playControls__artwork{float:left;margin:0 10px 0 0}.playControls__username,.playControls__title{display:block}.playControls__username{font-size:12px;color:#999;line-height:19px}.playControls__title{font-size:14px;color:#fff;line-height:19px}.playControls__playPause{float:right;height:40px;width:40px;background:rgba(0,0,0,.25) url(https://m.soundcloud.com/assets/images/ldpi/player/mini_play_pause_button-6b8e48e4.png) 1px -38px no-repeat;background-size:100% auto;border:1px solid #fff;border-radius:40px;-webkit-transition:background-color .1s ease-in;transition:background-color .1s ease-in}.playControls.playing .playControls__playPause{background-position:0 0}.playControls__playPause:active{background-color:rgba(0,0,0,.5)}.playControls.playing .playControls__playIndicator{-webkit-transform:translate3d(0,-3px,0);transform:translate3d(0,-3px,0)}.playControls.go .playControls__playIndicator{background:linear-gradient(to right,#7d01a1,#f50)}")),data=null}),
define("views/play-controls/play-controls.tmpl",["vendor/handlebars-runtime","views/play-controls/now-playing"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function f(e,t){var r="",i;return r+='\n<div class="playControls__content g-z-index-overlay"> <a role="button" class="playControls__playPause g-touch-padding sc-selection-disabled">'+u(n.$a11y.call(e,{hash:{screenreader:n.$t.call(e,"Play or pause track",{hash:{_comment:"Help text on a play button"},data:t})},data:t}))+'</a> <div class="playControls__nowPlaying"> '+u(n.$view.call(e,"views/play-controls/now-playing",{hash:{resource_id:(i=e&&e.sound,i==null||i===!1?i:i._resource_id)},data:t}))+' </div>\n</div>\n<div class="playControls__playIndicator g-z-index-banner g-play-indicator"></div>\n',r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a=this;o=n["if"].call(t,t&&t.sound,{hash:{},inverse:a.noop,fn:a.program(1,f,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}),
define("config/endpoints",["require","exports","module","config"],function(e,t,n){var r=e("config"),i=r.get("api_web_host"),s=r.get("api_host"),o=r.get("bff_api_host"),u=n.exports={track:{host:i,path:"tracks/:urn"},trackBatch:{host:i,path:"tracks"},playlist:{host:i,path:"playlists/:id",query:{representation:"full"}},user:{host:i,path:"users/:urn"},userProfileItems:{host:i,path:"users/:id/profile"},userLikes:{host:i,path:"users/:id/likes"},userPosts:{host:i,path:"users/:id/posts"},spotlightItems:{host:i,path:"users/:id/spotlight"},relatedTracks:{host:i,path:"tracks/:id/related"},assignments:{host:i,path:"assignments/"},charts:{host:i,path:"charts",query:{kind:null,genre:null}},resolveApiWeb:{host:i,path:"resolve",query:{permalink_url:null}},search:{host:i,path:"search"},searchCategory:{host:i,path:"search/:category"},searchQueries:{host:i,path:"search/queries",query:{q:null}},paymentQuotations:{host:i,path:"payments/quotations/:category"},trendingTracks:{host:o,path:"trending-tracks"},resolvePublicApi:{host:s,path:"resolve",query:{url:null,"_status_code_map[302]":200,_status_format:"json"}},trackRegisterPlayback:{host:s,path:"tracks/:id/plays"},trackStreams:{host:s,path:"i1/tracks/:id/streams"}}}),
define("lib/gc-store",["require","exports","module","lib/store","lib/mixins/usage-counting"],function(e,t,n){var r=e("lib/store"),i=e("lib/mixins/usage-counting"),s=n.exports=r.extend();i.applyTo(s.prototype)}),
define("lib/math",["require","exports","module"],function(e,t,n){n.exports={clamp:function(e,t,n){return Math.min(n,Math.max(t,e))},precise:function(e,t){return t=Math.pow(10,t||0),Math.round(e*t)/t}}}),
define("lib/errors/unauthorized-viewer",["require","exports","module"],function(e,t,n){function r(){var e=Error.apply(this,arguments);e.name=this.name="UnauthorizedViewerError",this.message="User is unauthorized to view this resource.",this.stack=e.stack}r.prototype=Object.create(Error.prototype),n.exports=r}),
define("lib/integrations/promoted",["require","exports","module","underscore","config","lib/persistent-store","lib/url"],function(e,t,n){function h(e){var t=new Image;t.src=e}var r=e("underscore"),i=e("config"),s=e("lib/persistent-store"),o=e("lib/url"),u=new s("promoted-session","session"),a=new s("promoted-persistent"),f={impression:"impression",play:"sound_play",soundClickThrough:"sound_click",userClickThrough:"profile_click"},l={search:"/promoted/search/mobileweb"},c=n.exports={getAdUrl:function(e,t){return o.modify(i.get("promotedContentServer"),{path:l[e],query:r.extend({user_id:a.get("user_id"),session_id:u.get("session_id"),geo_id:u.get("geo_id"),access_token:i.get("promotedContentAccessToken"),user_urn:i.get("me").getUrn()},t)})},trackEvent:function(e,t){c.getTrackingUrls(e,t).forEach(h)},parseResponse:function(e){var t=r.first(e.promoted)||{};return t.session_id&&t.geo_id&&t.user_id?(u.set("session_id",t.session_id),u.set("geo_id",decodeURIComponent(t.geo_id)),a.set("user_id",t.user_id),t):{}},getTrackingUrls:function(e,t){var n=t&&t.tracking&&t.tracking[f[e]]||[];return r.isArray(n)?n:[n]}}}),
define("lib/scaudio-logger",["require","exports","module","vendor/console-logger/console-logger"],function(e,t,n){var r=e("vendor/console-logger/console-logger"),i=r({label:"scaudio",enabled:!0,buffer:!0});n.exports={debug:i.log,info:i.info,warn:i.warn,error:i.error}}),
define("vendor/playback/playback",["require","exports","module"],function(require,exports,module){module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(module,exports,__webpack_require__){!function(e,t){module.exports=t()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=35)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"PLAYER_FATAL_ERROR"},t}(i.PlayerError);t.PlayerFatalError=s},function(e,t,n){"use strict";function r(){var e,t,n=!1;return{promise:new i.Promise(function(n,r){e=n,t=r}),resolve:function(t){n||(n=!0,e(t))},reject:function(e){n||(n=!0,t(e))},isSettled:function(){return n}}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(10);t.buildDeferred=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(){function e(){this._listeners=[],this.dispatch=this.dispatch.bind(this)}return e.prototype.subscribe=function(e){var t=this,n={fn:e,payloads:[]};return this._listeners.push(n),{remove:function(){var e=t._listeners.indexOf(n);return e>=0&&(t._listeners.splice(e,1),!0)},retrieve:function(){return t._dispatchListenerPayloads(n)}}},e.prototype.dispatch=function(e,t){var n=this,i="number"==typeof t?{time:t}:t||{},s=void 0!==i.time?i.time:r.now(),o=this._listeners;o.forEach(function(t){return t.payloads.push({time:s,payload:e})});var u=!1;do u=!o.some(function(e){var t=e.fn,r=e.payloads,i=r.shift();return!!i&&(n._callHandler(t,i),!0)});while(!u)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype._dispatchListenerPayloads=function(e){for(var t=e.fn,n=e.payloads;;){var r=n.shift();if(!r)break;this._callHandler(t,r)}},e.prototype._callHandler=function(e,t){try{e(t.payload,t.time)}catch(n){window.setTimeout(function(){throw n},0)}},e}();t.EventDispatcher=i},function(e,t,n){"use strict";function r(e,t){return{debug:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.debug.apply(e,["["+t+"] "+n].concat(r))},error:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.error.apply(e,["["+t+"] "+n].concat(r))},info:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.info.apply(e,["["+t+"] "+n].concat(r))},warn:function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return e.warn.apply(e,["["+t+"] "+n].concat(r))}}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return{debug:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.debug.apply(e,[t].concat(n))})},error:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.error.apply(e,[t].concat(n))})},info:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.info.apply(e,[t].concat(n))})},warn:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.forEach(function(e){return e.warn.apply(e,[t].concat(n))})}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(16),o=s.isIE();t.noOpLogger={debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},t.consoleLogger={debug:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o?console.log(e,t):(r=console.debug||console.log).call.apply(r,[console,e].concat(t));var r},error:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o?console.log(e,t):(r=console.error||console.log).call.apply(r,[console,e].concat(t));var r},info:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o?console.log(e,t):(r=console.info||console.log).call.apply(r,[console,e].concat(t));var r},warn:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];o?console.log(e,t):(r=console.warn||console.log).call.apply(r,[console,e].concat(t));var r}},t.prefixLogger=r,t.cloneLogger=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._msg=e,this._cause=t}return e.prototype.getCode=function(){return"PLAYER_ERROR"},e.prototype.getMsg=function(){return this._msg},e.prototype.getCause=function(){return this._cause},e}();t.PlayerError=r},function(e,t,n){"use strict";function r(e,t){var n=void 0;return e.some(function(e){return!!t(e)&&(n=e,!0)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.find=r},function(e,t,n){"use strict";function r(){return"performance"in window&&window.performance.now?window.performance.now():Date.now()-i}Object.defineProperty(t,"__esModule",{value:!0});var i=Date.now();t.now=r},function(e,t,n){"use strict";function r(){return{actuallyPlaying:!1,ended:!1,loading:!1,playing:!1,playDeferred:null,pauseDeferred:null,ready:!1,seeking:!1,seek:null,positionJumped:null,stalled:!0,duration:null,dead:!1,state:c.State.PAUSED,fatalError:null,errorOccurred:null}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(18),s=n(0),o=n(12),u=n(2),a=n(1),f=n(5),l=n(6),c=n(9),h=n(3),p=n(31),d=n(11),v="undefined"!=typeof navigator&&"mediaSession"in navigator,m=v?navigator.mediaSession:null,g=function(){function e(e){var t=this;this._stateManager=new p.StateManager(r(),{afterUpdate:function(e){return t._afterUpdate(e)},afterDispatches:function(){return t._afterDispatches()}}),this._onError=new u.EventDispatcher,this._errors=[],this._loadingDelayTimer=null,this._stalled=!1,this._queuedDuration=null,this._readyDeferred=a.buildDeferred(),this._queuedSeekDeferreds=[],this._lastPlayError=null,this._lastPauseError=null,this._positionWhenStoppedPlaying=null,this._pendingPositionWhenStoppedPlaying=0,this._positionWhenKilled=0,this._listenTimeBase=0,this._timePlaybackStarted=null;var n=e.name;if(this._logger=h.prefixLogger(e.logger,"BasePlayer"+(n?"-"+n:"")),this._mediaSessionEnabled=!!e.mediaSessionEnabled,e.loadingDelay&&e.loadingDelay<0)return void this._triggerError(new d.DependencyError("loadingDelay must be >= 0."));this._loadingDelay=void 0!==e.loadingDelay?e.loadingDelay:400,this.onError=this._onError.getHandle(),this.whenReady=this._readyDeferred.promise,this._stateManager.subscribe(function(e,n){return t._onChange(e,n)}),this._stateManager.subscribe(function(e,n){var r=e.playing,i=e.actuallyPlaying;n.dead||void 0===r||i===r||t._handlePlayPauseChange(r)}),this._stateManager.subscribe(function(e,n){var r=e.seek;!n.dead&&r&&"IN_PROGRESS"===r.state&&t._handleSeekChange(r.position)}),this._registerMediaSessionActionHandlers(),this._notifyMediaSessionPaused(),this.onChange=this._buildEventHandle(function(e,n){var r=n.ready;if(void 0!==r&&!0!==r)throw new Error("Ready state is invalid.");var i=n.duration;if(void 0!==i&&null===i)throw new Error("Duration state is invalid.");var s=n.dead;if(void 0!==s&&!0!==s)throw new Error("Dead state is invalid.");var o={ready:r,ended:n.ended,duration:i,playing:n.playing,actuallyPlaying:n.actuallyPlaying,stalled:n.stalled,loading:n.loading,playRejection:!1===n.playing?t._lastPlayError||void 0:void 0,pauseRejection:!0===n.playing?t._lastPauseError||void 0:void 0,seeking:n.seeking,seek:n.seek||void 0,positionJumped:void 0!==n.positionJumped||void 0,state:n.state,fatalError:n.fatalError||void 0,dead:s};Object.keys(o).some(function(e){return void 0!==o[e]})&&e(o)}),this.onDurationChange=this._buildEventHandle(function(e,t){var n=t.duration;void 0!==n&&null!==n&&e(n)}),this.onReady=this._buildEventHandle(function(e,t){!0===t.ready&&e(void 0)}),this.onStateChange=this._buildEventHandle(function(e,t){var n=t.state;void 0!==n&&e(n)}),this.onPlay=this._buildEventHandle(function(e,t){!0===t.actuallyPlaying&&e(void 0)}),this.onPlayIntent=this._buildEventHandle(function(e,t){!0===t.playing&&e(void 0)}),this.onPlayRejection=this._buildEventHandle(function(e,n){!1===n.playing&&t._lastPlayError&&e(t._lastPlayError)}),this.onPause=this._buildEventHandle(function(e,t){!1===t.actuallyPlaying&&e(void 0)}),this.onPauseIntent=this._buildEventHandle(function(e,t){!1===t.playing&&e(void 0)}),this.onPauseRejection=this._buildEventHandle(function(e,n){!0===n.playing&&t._lastPauseError&&e(t._lastPauseError)}),this.onSeek=this._buildEventHandle(function(e,t){var n=t.seek;n&&"COMPLETED"===n.state&&e(void 0)}),this.onSeekIntent=this._buildEventHandle(function(e,t){!0===t.seeking&&e(void 0)}),this.onSeekRejection=this._buildEventHandle(function(e,t){var n=t.seek;n&&"ERROR"===n.state&&e(n.error)}),this.onPositionJumped=this._buildEventHandle(function(e,t){void 0!==t.positionJumped&&e(void 0)}),this.onEnded=this._buildEventHandle(function(e,t){!0===t.ended&&e(void 0)}),this.onLeftEnded=this._buildEventHandle(function(e,t){!1===t.ended&&e(void 0)}),this.onStallStart=this._buildEventHandle(function(e,t){!0===t.stalled&&e(void 0)}),this.onStallEnd=this._buildEventHandle(function(e,t){!1===t.stalled&&e(void 0)}),this.onLoadStart=this._buildEventHandle(function(e,t){!0===t.loading&&e(void 0)}),this.onLoadEnd=this._buildEventHandle(function(e,t){!1===t.loading&&e(void 0)})}return e.prototype.isReady=function(){return this._stateManager.getState().ready},e.prototype.getPosition=function(){var e=this;return this._stateManager.update(function(t){if(t.dead)return e._positionWhenKilled;var n=e._getPositionOrPositionSeekingTo();return e._updateEnded(n),n})},e.prototype.getLastPlayedPosition=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,n=e.stalled;return t&&!n?this.getPosition():this._positionWhenStoppedPlaying},e.prototype.getListenTime=function(){var e=this._stateManager.getState(),t=e.actuallyPlaying,n=e.ended,r=this._listenTimeBase;return t&&!n&&(r+=l.now()-this._timePlaybackStarted),r},e.prototype.isStalled=function(){return this._stateManager.getState().stalled},e.prototype.isLoading=function(){return this._stateManager.getState().loading},e.prototype.isPlaying=function(){return this._stateManager.getState().playing},e.prototype.isActuallyPlaying=function(){return this._stateManager.getState().actuallyPlaying},e.prototype.isEnded=function(){return this._stateManager.getState().ended},e.prototype.getState=function(){return this._stateManager.getState().state},e.prototype.getUrlController=function(){return null},e.prototype.getBufferController=function(){return null},e.prototype.getMemoryCacheMaxSize=function(){return null},e.prototype.getMemoryCacheUsage=function(){return null},e.prototype.getMemoryCacheController=function(){return null},e.prototype.getFatalError=function(){return this._stateManager.update(function(e){return e.fatalError})},e.prototype.isDead=function(){return this._stateManager.getState().dead},e.prototype.getDuration=function(){var e=this._stateManager.getState(),t=e.ready,n=e.duration;return t?n:null},e.prototype.setVolume=function(e){if(e<0||e>1)throw new Error("Volume must be >= 0 and <= 1.");this._setVolume(e)},e.prototype.getCurrentBufferedTimeRange=function(){var e=this.getBufferedTimeRanges(),t=this.getPosition();return f.find(e,function(e){return e.containsTime(t)})||null},e.prototype.play=function(){var e=this;this._ensureNotDead(),this._logger.debug("play() called.");try{return this._stateManager.update(function(t){return t.playing?e._logger.debug("Intent is already to be playing."):(e._logger.debug("Requesting play."),t.playing=!0,e._lastPlayError=null),t.playDeferred&&!t.playDeferred.isSettled()||(t.playDeferred=a.buildDeferred()),t.playDeferred.promise})}catch(t){return this._triggerError(new s.PlayerFatalError("Unexpected error when attempting to play.",t)),i.Promise.reject(t)}},e.prototype.pause=function(){var e=this;this._ensureNotDead(),this._logger.debug("pause() called.");try{return this._stateManager.update(function(t){return t.playing?(e._logger.debug("Requesting pause."),t.playing=!1,e._lastPauseError=null):e._logger.debug("Intent is already to be paused."),t.pauseDeferred&&!t.pauseDeferred.isSettled()||(t.pauseDeferred=a.buildDeferred()),t.pauseDeferred.promise})}catch(t){return this._triggerError(new s.PlayerFatalError("Unexpected error when attempting to pause.",t)),i.Promise.reject(t)}},e.prototype.seek=function(e){var t=this;return this._ensureNotDead(),this._logger.debug("seek() called.",e),this._stateManager.update(function(n){if(e<0)return t._logger.warn("Rejecting seek immediately as the position was negative."),i.Promise.reject(new Error("You were attempting to seek to a negative time."));if(null!==n.duration&&e>n.duration)return t._logger.warn("Rejecting seek immediately as the duration is now known, and the requested positon was past it."),i.Promise.reject(new Error("You were attempting to seek past the end of the media."));try{var r=a.buildDeferred();return n.seek&&"IN_PROGRESS"===n.seek.state&&n.seek.position===e?t._logger.debug("Seek already requested to the same position.",e):(t._logger.debug("Requesting seek.",e),n.seeking=!0,n.seek={state:"IN_PROGRESS",position:e},n.positionJumped=Object.create(null),t._updateEnded(e)),t._queuedSeekDeferreds.push({position:e,deferred:r}),r.promise}catch(o){return t._triggerError(new s.PlayerFatalError("Unexpected error when attempting to seek.",o)),i.Promise.reject(o)}})},e.prototype.getSeekState=function(){return this._stateManager.getState().seek},e.prototype.kill=function(){var e=this;this._stateManager.update(function(t){t.dead||(e._logger.debug("kill() called."),t.dead=!0,e._positionWhenKilled=e._getPositionOrPositionSeekingTo(),e._updateEnded(e._positionWhenKilled))})},e.prototype._atomic=function(e){return this._stateManager.update(function(){return e()})},e.prototype._ensureNotDead=function(){if(this._stateManager.getState().dead)throw new Error("Player is dead.")},e.prototype._notifyStalled=function(e){this._stalled!==e&&(this._logger.debug("notifyStalled() called.",e),this._stalled=e,this._pendingPositionWhenStoppedPlaying=this.getPosition(),this._stateManager.update(function(){}))},e.prototype._getQueuedSeekPosition=function(){var e=this.getSeekState();return e&&"IN_PROGRESS"===e.state?e.position:null},e.prototype._provideDuration=function(e){var t=this;return this._stateManager.update(function(n){if(t._ensureNotDead(),n.duration!==e){var r=t._getPositionOrPositionSeekingTo();if(e<0||n.ready&&r>e)throw t._triggerError(new s.PlayerFatalError("Attempt to update duration to an invalid value.")),new Error("Duration cannot be less than the current position.");t._logger.debug("provideDuration() called.",e),n.ready?(n.duration=e,t._updateEnded(r)):t._queuedDuration=e}})},e.prototype._notifyPlaying=function(e){var t=this;return this._stateManager.update(function(n){if(t._ensureNotDead(),!n.ready)throw t._triggerError(new s.PlayerFatalError("Attempt to register playback as started before ready.")),new Error("Player must be ready first.");e!==n.actuallyPlaying&&(t._logger.debug("notifyPlaying() called.",e),e||(t._pendingPositionWhenStoppedPlaying=t.getPosition()),n.actuallyPlaying=n.playing=e,e?t._lastPlayError=null:t._lastPauseError=null)})},e.prototype._notifyPlayRejection=function(e){var t=this;return this._stateManager.update(function(n){if(t._ensureNotDead(),!n.ready)throw t._triggerError(new s.PlayerFatalError("Attempt to reject a play request before player ready.")),new Error("Player must be ready first.");if(n.actuallyPlaying||!n.playing)throw t._triggerError(new s.PlayerFatalError("Attempt to reject a play request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPlayRejection() called.",e),n.playing=!1,t._lastPlayError=e})},e.prototype._notifyPauseRejection=function(e){var t=this;return this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw t._triggerError(new s.PlayerFatalError("Attempt to reject pause request before player ready.")),new Error("Player must be ready first.");if(!n.actuallyPlaying||n.playing)throw t._triggerError(new s.PlayerFatalError("Attempt to reject pause request when not valid.")),new Error("Playing state is incorrect.");t._logger.debug("notifyPauseRejection() called.",e),n.playing=!0,t._lastPauseError=e})},e.prototype._notifySeekRejection=function(e){var t=this;return this._ensureNotDead(),this._stateManager.update(function(n){if(!n.ready)throw new Error("Player must be ready first.");if(!n.seek||"IN_PROGRESS"!==n.seek.state)throw new Error("A seek hasn't been requested.");t._logger.debug("notifySeekRejection() called.",e),n.seeking=!1,n.seek={state:"ERROR",error:e},n.positionJumped=Object.create(null),t._updateEnded(t._getPositionOrPositionSeekingTo())})},e.prototype._signalReady=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(t.ready)throw e._triggerError(new s.PlayerFatalError("Attempt to signal ready twice.")),new Error("Ready already signalled.");if(null===e._queuedDuration)throw e._triggerError(new s.PlayerFatalError("Attempt to signal ready when duration unknown.")),new Error("Duration is still unknown.");e._logger.debug("signalReady() called."),t.ready=!0,t.duration=e._queuedDuration,t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>t.duration&&(t.seeking=!1,t.seek={state:"ERROR",error:new Error("You were attempting to seek past the end of the media.")});var n=e._getPositionOrPositionSeekingTo();n>0&&e._signalPositionJump(),e._updateEnded(n)})},e.prototype._signalSeekComplete=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw new Error("Player must be ready first.");if(!t.seek||"IN_PROGRESS"!==t.seek.state)throw new Error("There shouldn't be a seek in progress.");var n=t.duration;if(t.seek&&"IN_PROGRESS"===t.seek.state&&t.seek.position>n)throw new Error("Seek cannot have completed given it was to a time greater than the duration.");e._logger.debug("signalSeekComplete() called."),t.seek={state:"COMPLETED",position:t.seek.position},t.seeking=!1,e._updateEnded(e._getPositionOrPositionSeekingTo())})},e.prototype._signalPositionJump=function(){return this._stateManager.update(function(e){e.seek&&"IN_PROGRESS"===e.seek.state||(e.positionJumped=Object.create(null))})},e.prototype._signalEnded=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw e._triggerError(new s.PlayerFatalError("Attempt to signal ended before player was ready.")),new Error("Player must be ready first.");if(!t.ended){if(t.seek&&"IN_PROGRESS"===t.seek.state)return void e._logger.debug("Ignoring signalEnded() call because a seek is in progress.");e._logger.debug("signalEnded() called."),t.ended=!0}})},e.prototype._signalNotEnded=function(){var e=this;return this._ensureNotDead(),this._stateManager.update(function(t){if(!t.ready)throw e._triggerError(new s.PlayerFatalError("Attempt to signal not ended before player was ready.")),new Error("Player must be ready first.");if(t.ended){if(null!==t.seek&&"IN_PROGRESS"===t.seek.state)return void e._logger.debug("Ignoring signalNotEnded() call because a seek is in progress.");e._logger.debug("signalNotEnded() called."),t.ended=!1}})},e.prototype._triggerError=function(e){var t=this;return this._ensureNotDead(),this._stateManager.update(function(n){var r=!1;if(n.ready&&e instanceof o.NotSupportedError&&(e=new s.PlayerFatalError("Invalid NotSupportedError."),r=!0),e instanceof s.PlayerFatalError){e instanceof o.NotSupportedError?t._logger.info("NotSupportedError occurred.",e):t._logger.error("Fatal error occurred.",e),n.fatalError?t._logger.warn("A fatal error already occurred."):n.fatalError=e,t._errors.push(e),n.errorOccurred=Object.create(null);try{t._positionWhenKilled=t.getPosition()}catch(i){t._logger.error("Tried to get position before player was killed but got exception.",i)}n.dead=!0}else t._logger.warn("Non-fatal error occurred.",e),t._errors.push(e),n.errorOccurred=Object.create(null);if(r)throw new Error("Not supported errors are only valid before the player is ready.")})},e.prototype._buildEventHandle=function(e){var t=this;return{subscribe:function(n){var r=function(e){return n(e,l.now())};return t._stateManager.subscribe(function(t){e(r,t)})}}},e.prototype._finalizeState=function(e){e.dead?(this._lastPlayError=new Error("Player was killed."),e.loading=!1,this._clearLoadingDelay(),e.stalled=!0,e.actuallyPlaying=!1,e.playing=!1,e.state=c.State.DEAD):(e.stalled=!e.ended&&(!e.ready||this._stalled||!!e.seek&&"IN_PROGRESS"===e.seek.state),!e.ended&&(e.playing||e.actuallyPlaying)&&(e.stalled||e.playing!==e.actuallyPlaying)?this._loadingDelay?this._scheduleLoadingDelay():e.loading=!0:(e.loading=!1,this._clearLoadingDelay()),e.state=this._calculateState(e))},e.prototype._scheduleLoadingDelay=function(){var e=this;this._loadingDelayTimer||(this._loadingDelayTimer=window.setTimeout(function(){e._stateManager.update(function(e){return e.loading=!0})},this._loadingDelay))},e.prototype._clearLoadingDelay=function(){this._loadingDelayTimer&&(window.clearTimeout(this._loadingDelayTimer),this._loadingDelayTimer=null)},e.prototype._getPositionOrPositionSeekingTo=function(){var e=this;return this._stateManager.update(function(t){if(t.seek&&"IN_PROGRESS"===t.seek.state)return t.seek.position;if(!t.ready||null===t.duration)return 0;var n=e._getPosition();if(t.seek&&"IN_PROGRESS"===t.seek.state)return t.seek.position;var r=t.duration;if(n<0)throw e._logger.error("Player provided invalid position.",n,r),e._triggerError(new s.PlayerFatalError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");if(null!==r&&n>r)throw e._logger.error("Player provided invalid position.",n,r),e._triggerError(new s.PlayerFatalError("Player provided a position that was invalid.")),new Error("Player provided invalid position.");return n})},e.prototype._updateEnded=function(e){return this._stateManager.update(function(t){var n=t.duration,r=e===n&&t.ready;t.ended=r})},e.prototype._calculateState=function(e){var t=e.dead,n=e.loading,r=e.playing,i=e.ended;return t?c.State.DEAD:n?c.State.LOADING:r&&!i?c.State.PLAYING:c.State.PAUSED},e.prototype._registerMediaSessionActionHandlers=function(){var e=this;this._mediaSessionEnabled&&m&&(m.setActionHandler("play",function(){e.isDead()||e.play()}),m.setActionHandler("pause",function(){e.isDead()||e.pause()}),m.setActionHandler("seekbackward",function(){e.isDead()||e.seek(Math.max(0,e.getPosition()-5e3))}),m.setActionHandler("seekforward",function(){e.isDead()||e.seek(Math.min(e.getDuration()||0,e.getPosition()+5e3))}))},e.prototype._notifyMediaSessionPlaying=function(){this._mediaSessionEnabled&&m&&(m.playbackState="playing")},e.prototype._notifyMediaSessionPaused=function(){this._mediaSessionEnabled&&m&&(m.playbackState="paused")},e.prototype._afterUpdate=function(e){this._finalizeState(e)},e.prototype._afterDispatches=function(){var e=this,t=this._errors;this._errors=[],t.forEach(function(t){return e._onError.dispatch(t)})},e.prototype._onChange=function(e,t){var n=this,r=e.ready,i=e.dead,s=e.fatalError,o=e.playing,u=e.actuallyPlaying,a=e.ended;if(!1===u&&(this._positionWhenStoppedPlaying=this._pendingPositionWhenStoppedPlaying),!0===r&&(this._logger.debug("Resolving ready deferred."),this._readyDeferred.resolve(void 0)),!0===u&&this._registerMediaSessionActionHandlers(),!0===o?this._notifyMediaSessionPlaying():!1===o&&this._notifyMediaSessionPaused(),t.pauseDeferred&&!t.pauseDeferred.isSettled()&&t.playing){var f=this._lastPauseError||new Error("Pause request aborted.");this._logger.debug("Rejecting pause deferred.",f),t.pauseDeferred.reject(f)}if(t.playDeferred&&!t.playDeferred.isSettled()&&!t.playing){var f=this._lastPlayError||new Error("Play request aborted.");this._logger.debug("Rejecting play deferred.",f),t.playDeferred.reject(f)}if(t.playDeferred&&!t.playDeferred.isSettled()&&t.actuallyPlaying&&(this._logger.debug("Resolving play deferred."),t.playDeferred.resolve(void 0)),!t.pauseDeferred||t.pauseDeferred.isSettled()||t.actuallyPlaying||(this._logger.debug("Resolving pause deferred."),t.pauseDeferred.resolve(void 0)),!0===u&&!t.ended||!1===a&&t.actuallyPlaying?this._timePlaybackStarted=l.now():(!1===u&&!t.ended||!0===a&&t.actuallyPlaying)&&(this._listenTimeBase+=l.now()-this._timePlaybackStarted,this._timePlaybackStarted=null),this._queuedSeekDeferreds=this._queuedSeekDeferreds.filter(function(e){var r=e.position,i=e.deferred;if(t.seek)if("IN_PROGRESS"!==t.seek.state){if(!t.stalled||"ERROR"===t.seek.state)return"ERROR"!==t.seek.state?(n._logger.debug("Resolving seek()."),i.resolve(void 0)):(n._logger.debug("Rejecting seek().",t.seek.error),i.reject(t.seek.error)),!1}else if("IN_PROGRESS"!==t.seek.state||t.seek.position!==r)return n._logger.debug("Rejecting seek() because another seek was requested.",r),i.reject(new Error("Seek request aborted because another seek was requested to a different position.")),!1;return!0}),!0===i){if(this._logger.debug("Calling _kill() on player."),this._kill(),this._logger.info("Player killed."),!t.ready){var f=s||new Error("Player was killed.");this._logger.debug("Rejecting whenReady."),this._readyDeferred.reject(f)}this._queuedSeekDeferreds.forEach(function(e){var t=e.position,r=e.deferred,i=s||new Error("Seek aborted as player killed.");n._logger.debug("Rejecting seek().",t),r.reject(i)}),this._stateManager.kill(),this._logger.debug("Player dead.")}},e}();t.BasePlayer=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7),s=n(4),o=n(0),u=n(3),a=function(e){function t(t){var n=e.call(this,t)||this;return n._errorHandler=null,n._changeHandler=null,n._player=null,n._instanceLock=null,n._position=0,n._volume=1,n._muted=!1,n._unsynced=!1,n._logger=u.prefixLogger(n._logger,"ProxyPlayerBase"),n}return r(t,e),t.prototype.getVolume=function(){return this._player&&!this._unsynced?this._player.getVolume():this._volume},t.prototype.getMuted=function(){return this._player&&!this._unsynced?this._player.getMuted():this._muted},t.prototype.setMuted=function(e){if(this._player&&!this._unsynced)return this._player.setMuted(e);this._muted=e},t.prototype.getBufferedTimeRanges=function(){return this._player&&!this._unsynced?this._player.getBufferedTimeRanges():[]},t.prototype.getCurrentBufferedTimeRange=function(){return this._player&&!this._unsynced?this._player.getCurrentBufferedTimeRange():null},t.prototype.getMaxBufferLength=function(){return this._player&&!this._unsynced?this._player.getMaxBufferLength():null},t.prototype._providePlayer=function(e,t){if(void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._ensureNotDead(),this._player)throw new Error("A player has already been provided.");this._logger.debug("providePlayer() called."),this._instanceLock=Object.create(null),this._player=e,this._sync(t)},t.prototype._removePlayer=function(){if(this._ensureNotDead(),!this._player)throw new Error("There is no player to remove.");this._logger.debug("removePlayer() called."),this._unsync(),this._instanceLock=null,this._player=null},t.prototype._setInitialDuration=function(e){var t=this;if(this._ensureNotDead(),e<0)throw new Error("Cannot set duration to a value < 0.");null===this.getDuration()&&this._atomic(function(){t._fixPosition(e),t._provideDuration(e),t.isReady()||t._signalReady()})},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype._getPlayer=function(){return this.isDead()?null:this._player},t.prototype._setVolume=function(e){if(this._player&&!this._unsynced)return this._player.setVolume(e);this._volume=e},t.prototype._handlePlayPauseChange=function(e){var t=this._player;t&&(e?this._playAndHandleAbort(t):this._pauseAndHandleAbort(t))},t.prototype._handleSeekChange=function(e){var t=this._player;t?t.seek(e):this._position=e},t.prototype._getPosition=function(){if(this._player&&!this._unsynced){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._player)return this._player.getPosition()}return this._position},t.prototype._kill=function(){if(this._player&&!this._player.isDead()){if(!this._changeHandler)throw new Error("Handler should exist.");if(this._changeHandler.retrieve(),this._player&&(this._player.kill(),!this._unsynced))throw new Error("Unsync should have happened.")}this._player=null},t.prototype._fixPosition=function(e){this._position>e&&(this._logger.debug("A duration was provided that was less than the current position. Changing position to the duration.",e),this._position=e,this._signalPositionJump())},t.prototype._sync=function(e){var t=this,n=this._player;if(!n)throw new Error("Player should have become available by now.");if(this._unsynced=!1,this._logger.debug("Syncing...",this.isPlaying(),this.isActuallyPlaying()),n.isDead())return void this._logger.debug("Provided player is dead.");this._errorHandler=n.onError.subscribe(function(e){e instanceof o.PlayerFatalError||t._triggerError(e)}),this._changeHandler=n.onChange.subscribe(function(e){t._atomic(function(){if(e.dead)return t._logger.debug("Player has gone to DEAD state."),t._unsync(),void (t.isDead()||e.fatalError&&t._handleFatalError(e.fatalError));if(void 0!==e.duration&&(t._fixPosition(e.duration),t._provideDuration(e.duration),t.isReady()||(t._signalReady(),t._notifyStalled(n.isStalled()))),e.seek){var r=t.getSeekState();r&&"IN_PROGRESS"===r.state?"COMPLETED"===e.seek.state&&r.position===e.seek.position?t._signalSeekComplete():"COMPLETED"===e.seek.state&&r.position!==e.seek.position?t._notifySeekRejection(new Error("Another seek occurred to a different position.")):"IN_PROGRESS"===e.seek.state&&r.position!==e.seek.position?t.seek(e.seek.position):"ERROR"===e.seek.state&&t._notifySeekRejection(e.seek.error):"COMPLETED"===e.seek.state&&t._signalPositionJump()}!0===e.ended&&t._signalEnded(),!1===e.ended&&t._signalNotEnded(),void 0!==e.stalled&&t._notifyStalled(e.stalled),!1===e.playing&&e.playRejection?t.isActuallyPlaying()?(t._triggerError(new s.PlayerError("Paused because a player was provided that refused to play.")),t._notifyPlaying(!1)):t._notifyPlayRejection(e.playRejection):!1===e.playing&&(n.isActuallyPlaying()?t.pause():void 0===e.actuallyPlaying&&t.isReady()&&t._notifyPlaying(!1)),!0===e.playing&&e.pauseRejection?t._notifyPauseRejection(e.pauseRejection):!0===e.playing&&t.play(),void 0!==e.actuallyPlaying&&t._notifyPlaying(e.actuallyPlaying),e.positionJumped&&t._signalPositionJump()})}),this._atomic(function(){try{if(!t.isReady()&&n.isReady()){t._logger.debug("Provided player is already ready. Making proxy player ready.");var r=n.getDuration();t._fixPosition(r),t._provideDuration(r),t._signalReady()}if(e.syncVolume&&(n.setVolume(t._volume),n.setMuted(t._muted)),e.syncPosition)t._logger.debug("Seeking to match position."),n.seek(t._position);else{var i=t.getSeekState();if(i&&"IN_PROGRESS"===i.state)t._logger.debug("Seeking to match position because a seek has been queued."),n.seek(t._position);else{var s=n.getSeekState();s&&"IN_PROGRESS"===s.state&&(t._logger.debug("Seeking on proxy to match seek that is in progress on provided player."),t.seek(s.position))}}t._position!==n.getPosition()&&t._signalPositionJump(),n.isActuallyPlaying()?(t._logger.debug("Provided player is already playing."),t._notifyPlaying(!0)):n.isPlaying()?(t._logger.debug("Provided player is preparing to play."),t.play()):t.isPlaying()?(t._logger.debug("Calling play() on provided player to match proxy."),t._playAndHandleAbort(n)):t.isReady()&&t.isActuallyPlaying()&&(t._logger.debug("Switching to paused state, as provided player and proxy intended state is paused."),t._notifyPlaying(!1))}catch(u){t._triggerError(new o.PlayerFatalError("Unexpected error occurred whilst syncing.",u))}})},t.prototype._playAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling play() on provided player."),e.play(),this._instanceLock===t&&!e.isPlaying()&&this.isPlaying()&&(this._logger.debug("Provided player was not playing after play() call completed."),this.isActuallyPlaying()?(this._triggerError(new s.PlayerError("Paused because a player was provided that refused to play.")),this._notifyPlaying(!1)):this.pause())},t.prototype._pauseAndHandleAbort=function(e){var t=this._instanceLock;this._logger.debug("Calling pause() on provided player."),e.pause(),this._instanceLock===t&&e.isPlaying()&&!this.isPlaying()&&(this._logger.debug("Provided player was not paused after pause() call completed."),this.play())},t.prototype._unsync=function(){if(!this._unsynced){this._unsynced=!0,this._logger.debug("Unsyncing...");var e=this._player;if(e)try{this._volume=e.getVolume(),this._muted=e.getMuted(),this._position=e.getPosition()}catch(t){this._logger.error("Error whilst unsyncing.",t)}this._changeHandler&&(this._changeHandler.remove(),this._changeHandler=null),this._errorHandler&&(this._errorHandler.remove(),this._errorHandler=null),this._logger.debug("Unsynced.",this.isPlaying(),this.isActuallyPlaying()),this.isReady()&&!this.isDead()&&this._notifyStalled(!0)}},t}(i.BasePlayer);t.ProxyPlayerBase=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e){e[e.LOADING=0]="LOADING",e[e.PLAYING=1]="PLAYING",e[e.PAUSED=2]="PAUSED",e[e.DEAD=3]="DEAD"}(t.State||(t.State={}))},function(e,t,n){(function(t,r){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function i(e){return"function"==typeof e}function s(e){X=e}function o(e){V=e}function u(){return void 0!==W?function(){W(f)}:a()}function a(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<z;e+=2)(0,Y[e])(Y[e+1]),Y[e]=void 0,Y[e+1]=void 0;z=0}function l(e,t){var n=arguments,r=this,i=new this.constructor(h);void 0===i[et]&&M(i);var s=r._state;return s?function(){var e=n[s-1];V(function(){return L(s,i,e,r._result)})}():T(r,i,e,t),i}function c(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(h);return w(n,e),n}function h(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function d(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(t){return it.error=t,it}}function m(e,t,n,r){try{e.call(t,n,r)}catch(i){return i}}function g(e,t,n){V(function(e){var r=!1,i=m(n,t,function(n){r||(r=!0,t!==n?w(e,n):S(e,n))},function(t){r||(r=!0,x(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,x(e,i))},e)}function y(e,t){t._state===nt?S(e,t._result):t._state===rt?x(e,t._result):T(t,void 0,function(t){return w(e,t)},function(t){return x(e,t)})}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===c?y(e,t):n===it?x(e,it.error):void 0===n?S(e,t):i(n)?g(e,t,n):S(e,t)}function w(t,n){t===n?x(t,p()):e(n)?b(t,n,v(n)):S(t,n)}function E(e){e._onerror&&e._onerror(e._result),N(e)}function S(e,t){e._state===tt&&(e._result=t,e._state=nt,0!==e._subscribers.length&&V(N,e))}function x(e,t){e._state===tt&&(e._state=rt,e._result=t,V(E,e))}function T(e,t,n,r){var i=e._subscribers,s=i.length;e._onerror=null,i[s]=t,i[s+nt]=n,i[s+rt]=r,0===s&&e._state&&V(N,e)}function N(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,i=void 0,s=e._result,o=0;o<t.length;o+=3)r=t[o],i=t[o+n],r?L(n,r,i,s):i(s);e._subscribers.length=0}}function C(){this.error=null}function k(e,t){try{return e(t)}catch(n){return st.error=n,st}}function L(e,t,n,r){var s=i(n),o=void 0,u=void 0,a=void 0,f=void 0;if(s){if(o=k(n,r),o===st?(f=!0,u=o.error,o=null):a=!0,t===o)return void x(t,d())}else o=r,a=!0;t._state!==tt||(s&&a?w(t,o):f?x(t,u):e===nt?S(t,o):e===rt&&x(t,o))}function A(e,t){try{t(function(t){w(e,t)},function(t){x(e,t)})}catch(n){x(e,n)}}function O(){return ot++}function M(e){e[et]=ot++,e._state=void 0,e._result=void 0,e._subscribers=[]}function _(e,t){this._instanceConstructor=e,this.promise=new e(h),this.promise[et]||M(this.promise),U(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):x(this.promise,D())}function D(){return new Error("Array Methods must be provided an Array")}function P(e){return(new _(this,e)).promise}function H(e){var t=this;return new t(U(e)?function(n,r){for(var i=e.length,s=0;s<i;s++)t.resolve(e[s]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function B(e){var t=this,n=new t(h);return x(n,e),n}function j(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function I(e){this[et]=O(),this._result=this._state=void 0,this._subscribers=[],h!==e&&("function"!=typeof e&&j(),this instanceof I?A(this,e):F())}function q(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=e.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===i&&!n.cast)return}e.Promise=I}var R=void 0;R=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U=R,z=0,W=void 0,X=void 0,V=function(e,t){Y[z]=e,Y[z+1]=t,2===(z+=2)&&(X?X(f):Z())},$="undefined"!=typeof window?window:void 0,J=$||{},K=J.MutationObserver||J.WebKitMutationObserver,Q="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Y=new Array(1e3),Z=void 0;Z=Q?function(){return function(){return t.nextTick(f)}}():K?function(){var e=0,t=new K(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():G?function(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}():void 0===$?function(){try{var e=n(34);return W=e.runOnLoop||e.runOnContext,u()}catch(t){return a()}}():a();var et=Math.random().toString(36).substring(16),tt=void 0,nt=1,rt=2,it=new C,st=new C,ot=0;return _.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===tt&&n<e;n++)this._eachEntry(t[n],n)},_.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===c){var i=v(e);if(i===l&&e._state!==tt)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===I){var s=new n(h);b(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},_.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===tt&&(this._remaining--,e===rt?x(r,n):this._result[t]=n),0===this._remaining&&S(r,this._result)},_.prototype._willSettleAt=function(e,t){var n=this;T(e,void 0,function(e){return n._settledAt(nt,t,e)},function(e){return n._settledAt(rt,t,e)})},I.all=P,I.race=H,I.resolve=c,I.reject=B,I._setScheduler=s,I._setAsap=o,I._asap=V,I.prototype={constructor:I,then:l,"catch":function(e){return this.then(null,e)}},I.polyfill=q,I.Promise=I,I})}).call(t,n(25),n(33))},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"DEPENDENCY_ERROR"},t}(i.PlayerFatalError);t.DependencyError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(t){return e.call(this,t||"The player cannot play the provided descriptor.")||this}return r(t,e),t.prototype.getCode=function(){return"NOT_SUPPORTED_ERROR"},t}(i.PlayerFatalError);t.NotSupportedError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),s=function(e){function t(t){var n=e.call(this,"The player that the proxy was controlling had a fatal error.")||this;return n._providedPlayerError=t,n}return r(t,e),t.prototype.getCode=function(){return"PROXY_PLAYER_PROVIDED_PLAYER_FATAL_ERROR"},t.prototype.getProvidedPlayerFatalError=function(){return this._providedPlayerError},t}(i.PlayerError);t.ProxyProvidedPlayerFatalError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(15);t.abortedError=new Error("Job aborted.");var s=function(){function e(e,t){void 0===t&&(t={}),this._job=e,this._opts=t,this._counter=0,this._jobControl=null,this._promise=null,this._jobCompleted=!1}return e.prototype.run=function(){var e=this;this._jobControl||(this._jobControl=this._job(),this._promise=this._jobControl.result,i.always(this._promise,function(){e._jobCompleted=!0,!1===e._opts.storeResult&&(e._jobCompleted=!1,e._promise=null,e._jobControl=null)}));var n=this._promise;this._counter++;var s=r.buildDeferred(),o=!1,u=!1,a=[],f=[],l=function(){u||(o=!0,e._counter--)};return i.always(n,l),n.then(function(e){u||(a.forEach(function(t){try{t(e)}catch(n){window.setTimeout(function(){throw n},0)}}),s.resolve(e))},function(e){u||(f.forEach(function(t){return t(e)}),s.reject(e))}),{whenComplete:function(){return s.promise},onCompletion:function(e){a.push(e)},onError:function(e){f.push(e)},hasCompleted:function(){return o},abort:function(n){u||o||(u=!0,0==--e._counter&&!e._jobCompleted&&e._jobControl&&e._jobControl.abort&&(e._jobControl.abort(n),e._promise=null,e._jobControl=null),f.forEach(function(e){return e(t.abortedError)}),s.reject(t.abortedError))}}},e}();t.AbortableJob=s},function(e,t,n){"use strict";function r(e,t){return e.then(t,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.always=r},function(e,t,n){"use strict";function r(){return u}function i(){var e=navigator.appVersion.match(f);if(e&&e.length>=3){var t=parseInt(e[1],10),n=parseInt(e[2],10);if(!isNaN(t)&&!isNaN(n))return{major:t,minor:n}}return null}function s(){return a}Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!=typeof navigator?navigator.userAgent:"",u=!/chrome|opera/i.test(o)&&/safari/i.test(o),a=o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0,f=/version\/(\d+)\.(\d+)/i;t.isSafari=r,t.getSafariVersion=i,t.isIE=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._counter=0,this._onExit=e,this._onEnter=t||null}return e.prototype.enter=function(e){1===++this._counter&&this._onEnter&&(this._enterReturnVal=this._onEnter());try{return e?e(this._enterReturnVal):void 0}finally{this._counter--,0===this._counter&&this._onExit(this._enterReturnVal)}},e}();t.OnExit=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.Promise=r.Promise},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.url=e,this.protocol=t,this.format=n}return e.prototype.getUrl=function(){return this.url},e.prototype.getProtocol=function(){return this.protocol},e.prototype.getFormat=function(){return this.format},e}();t.Descriptor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(12),s=n(26),o=n(13),u=n(4),a=n(0);!function(e){e.PlayerError=u.PlayerError,e.PlayerFatalError=a.PlayerFatalError,e.DependencyError=r.DependencyError,e.NotSupportedError=i.NotSupportedError,e.URLUpdateError=s.URLUpdateError,e.ProxyProvidedPlayerFatalError=o.ProxyProvidedPlayerFatalError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(14),s=n(29),o=n(17),u=n(5),a=n(27),f=n(6),l=n(18),c=n(15),h=n(28),p=n(16),d=n(30);!function(e){e.OnExit=o.OnExit,e.find=u.find,e.Promise=l.Promise,e.always=c.always,e.compact=h.compact,!function(e){e.buildCache=a.buildCache}(e.cache||(e.cache={})),!function(e){e.buildDeferred=r.buildDeferred}(e.deferred||(e.deferred={})),!function(e){e.getExtension=d.getExtension,e.buildAbsoluteUrl=d.buildAbsoluteUrl}(e.url||(e.url={})),!function(e){e.AbortableJob=i.AbortableJob,e.abortedError=i.abortedError}(e.abortableJob||(e.abortableJob={})),!function(e){e.noMoreAttemptsError=s.noMoreAttemptsError,e.retry=s.retry,e.buildExponentialDelayCalculator=s.buildExponentialDelayCalculator}(e.retry||(e.retry={})),!function(e){e.isSafari=p.isSafari,e.getSafariVersion=p.getSafariVersion,e.isIE=p.isIE}(e.browser||(e.browser={})),!function(e){e.now=f.now}(e.time||(e.time={}))}(t.helpers||(t.helpers={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),s=function(){function e(){this._aborted=!1,this._requestStarted=!1,this._response=null,this._responseDeferred=r.buildDeferred(),this._requestStartedDeferred=r.buildDeferred(),this._onRequestStart=new i.EventDispatcher,this.onRequestStart=this._onRequestStart.getHandle(),this.whenRequestStarted=this._requestStartedDeferred.promise}return e.prototype.getResponse=function(){return this._responseDeferred.promise},e.prototype.hasRequestStarted=function(){return this._requestStarted},e.prototype.abort=function(){if(!this._aborted){if(this._aborted=!0,this._response)throw new Error("Already have a response.");this._abort(),this._responseDeferred.reject(new Error("Aborted.")),this._requestStarted||this._requestStartedDeferred.reject(new Error("Aborted."))}},e.prototype._provideResponse=function(e){if(this._aborted)throw new Error("Response aborted.");if(this._response)throw new Error("Response already provided.");if(e instanceof Error)this._aborted=!0,this._responseDeferred.reject(e);else{if(!this._requestStarted)throw new Error("Request hasn't started yet.");this._response=e,this._responseDeferred.resolve(e)}},e.prototype._signalRequestStart=function(){if(this._aborted)throw new Error("Response aborted.");if(this._requestStarted)throw new Error("Request already started.");this._requestStarted=!0,this._requestStartedDeferred.resolve(void 0),this._onRequestStart.dispatch(void 0)},e}();t.LoaderRequest=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(3),o=n(8),u=n(13),a=function(e){function t(t){var n=e.call(this,t)||this;return n._onPlayerProvided=new i.EventDispatcher,n._onPlayerRemoved=new i.EventDispatcher,n._shouldPassThroughFatalErrors=!!t.shouldPassThroughFatalErrors,n.onPlayerProvided=n._onPlayerProvided.getHandle(),n.onPlayerRemoved=n._onPlayerRemoved.getHandle(),n._logger=s.prefixLogger(n._logger,"ProxyPlayer"),n}return r(t,e),t.prototype.providePlayer=function(e,t){void 0===t&&(t={syncPosition:!0,syncVolume:!0}),this._providePlayer(e,t),this._onPlayerProvided.dispatch(e)},t.prototype.removePlayer=function(){var e=this._getPlayer();if(!e)throw new Error("There is no player to remove.");this._removePlayer(),this._onPlayerRemoved.dispatch(e)},t.prototype.setInitialDuration=function(e){this._setInitialDuration(e)},t.prototype.getPlayer=function(){return this._getPlayer()},t.prototype._handleFatalError=function(e){this._shouldPassThroughFatalErrors?this._triggerError(e):this._triggerError(new u.ProxyProvidedPlayerFatalError(e))},t}(o.ProxyPlayerBase);t.ProxyPlayer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){if(this.start=e,this.duration=t,t<0)throw new RangeError("Duration must be >= 0.");this.end=e+t}return e.prototype.containsTime=function(e){return this.start<=e&&this.end>e},e}();t.TimeRange=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function s(e){if(c===clearTimeout)return clearTimeout(e);if((c===r||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(e);try{return c(e)}catch(t){try{return c.call(null,e)}catch(t){return c.call(this,e)}}}function o(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&u())}function u(){if(!v){var e=i(o);v=!0;for(var t=d.length;t;){for(p=d,d=[];++m<t;)p&&p[m].run();m=-1,t=d.length}p=null,v=!1,s(e)}}function a(e,t){this.fun=e,this.array=t}function f(){}var l,c,h=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}}();var p,d=[],v=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];d.push(new a(e,t)),1!==d.length||v||i(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=f,h.addListener=f,h.once=f,h.off=f,h.removeListener=f,h.removeAllListeners=f,h.emit=f,h.prependListener=f,h.prependOnceListener=f,h.listeners=function(e){return[]},h.binding=function(e){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(e){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(t,n){return e.call(this,t||"The URL update failed for some reason.",n)||this}return r(t,e),t.prototype.getCode=function(){return"URL_UPDATE_ERROR"},t}(i.PlayerFatalError);t.URLUpdateError=s},function(e,t,n){"use strict";function r(){return s?new window.Map:new o}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),s="undefined"!=typeof window&&"map"in window;t.buildCache=r;var o=function(){function e(){this._store=[]}return e.prototype.set=function(e,t){var n=i.find(this._store,function(t){return t.key===e});n?n.val=t:this._store.push({key:e,val:t})},e.prototype.get=function(e){var t=i.find(this._store,function(t){return t.key===e});if(t)return t.val},e}()},function(e,t,n){"use strict";function r(e){return e.filter(function(e){return null!=e})}Object.defineProperty(t,"__esModule",{value:!0}),t.compact=r},function(e,t,n){"use strict";function r(e,n,r,i){return void 0===r&&(r=window.setTimeout),void 0===i&&(i=window.clearTimeout),(new s.AbortableJob(function(){var s=o.buildDeferred(),u=0,a=null,f=null,l=function(){a=e(u).run(),a.onCompletion(function(e){if(a=null,e.success)s.resolve(e.result);else{var i=n(++u);null!==i&&i<0?s.reject(new Error("Delay must be null or >= 0.")):null===i?s.reject(t.noMoreAttemptsError):f=r(function(){f=null,l()},i)}}),a.onError(function(e){a=null,s.reject(e)})};return l(),{result:s.promise,abort:function(){a&&a.abort(),f&&i(f)}}})).run()}function i(e){var t=void 0===e?{}:e,n=t.timeBase,r=void 0===n?500:n,i=t.threshold,s=void 0===i?3:i,o=t.delayCap,u=void 0===o?45e3:o,a=t.jitter,f=void 0===a?200:a,l=t.maxAttempts,c=void 0===l?null:l;if(r<=0)throw new Error("Time base must be > 0.");if(s<=0)throw new Error("Threshold must be > 0.");if(0===u)throw new Error("Delay cap must be null or > 0.");if(null!==c&&c<1)throw new Error("Max attempts must be >= 1.");return function(e){if(null!==c&&e>=c)return null;var t=e>0?Math.pow(2,e/s-1):0;return Math.min(t*r,u||1/0)+Math.round(Math.random()*f)}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(14),o=n(1);t.noMoreAttemptsError=new Error("No more attempts remaining."),t.retry=r,t.buildExponentialDelayCalculator=i},function(e,t,n){"use strict";function r(e){var t=o.exec(e);return t?t[1].toLowerCase():null}function i(e,t){return s.buildAbsoluteURL(e,t,{alwaysNormalize:!0})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(32),o=/^.*\.([^\.;\?#]*).*$/;t.getExtension=r,t.buildAbsoluteUrl=i},function(e,t,n){"use strict";function r(e){var t=Object.create(null);return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),s=function(){},o=function(){function e(e,t){void 0===t&&(t={});var n=this;this._subscribers=[],this._onExit=new i.OnExit(function(){return n._after()}),this._dead=!1,this._state=r(e),this._initialState=r(e),this._afterUpdate=t.afterUpdate||s,this._afterDispatches=t.afterDispatches||s}return e.prototype.subscribe=function(e,t){var n=this;if(void 0===t&&(t=!0),this._dead){var i=!1;return{retrieve:function(){},remove:function(){return!i&&(i=!0)}}}var s=function(){var i={callback:e,localState:t?r(n._state):n._initialState};return n._subscribers.push(i),{remove:function(){var t=n._subscribers.map(function(e){return e.callback}).indexOf(e);return t>=0&&(n._subscribers.splice(t,1),!0)},retrieve:function(){n._updateSubscriber(i)}}};return t?s():this._onExit.enter(s)},e.prototype.subscribeIndividual=function(e,t,n){return this.subscribe(function(n){var r=n[e];void 0!==r&&t(r)},n)},e.prototype.getHandle=function(){return{subscribe:this.subscribe.bind(this)}},e.prototype.getIndividualHandle=function(e){var t=this;return{subscribe:function(n){return t.subscribeIndividual(e,n)}}},e.prototype.update=function(e){var t=this;return this._onExit.enter(function(){return e(t._state)})},e.prototype.getState=function(){return this._state},e.prototype.kill=function(){var e=this;this._dead||this._onExit.enter(function(){e._dead=!0})},e.prototype._after=function(){var e=this;try{this._afterUpdate(this._state)}finally{this._subscribers.forEach(function(t){return e._updateSubscriber(t)}),this._afterDispatches(this._state)}this._dead&&this._subscribers.splice(0)},e.prototype._updateSubscriber=function(e){var t=this._calculateDiff(e.localState);if(Object.keys(t).length){e.localState=r(this._state);try{e.callback(t,e.localState)}catch(n){window.setTimeout(function(){throw n},0)}}},e.prototype._calculateDiff=function(e){var t=this,n=Object.create(null);return Object.keys(this._state).forEach(function(r){var i=t._state[r];i!==e[r]&&(n[r]=i)}),n},e}();t.StateManager=o},function(e,t,n){!function(t){var n=/^((?:[^\/;?#]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,r=/^([^\/;?#]*)(.*)$/,i=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=this.parseURL(e);if(!u)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var s=this.parseURL(t);if(!s)throw new Error("Error trying to parse relative URL.");if(s.scheme)return n.alwaysNormalize?(s.path=o.normalizePath(s.path),o.buildURLFromParts(s)):t;var u=this.parseURL(e);if(!u)throw new Error("Error trying to parse base URL.");if(!u.netLoc&&u.path&&"/"!==u.path[0]){var a=r.exec(u.path);u.netLoc=a[1],u.path=a[2]}u.netLoc&&!u.path&&(u.path="/");var f={scheme:u.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc&&(f.netLoc=u.netLoc,"/"!==s.path[0]))if(s.path){var l=u.path,c=l.substring(0,l.lastIndexOf("/")+1)+s.path;f.path=o.normalizePath(c)}else f.path=u.path,s.params||(f.params=u.params,s.query||(f.query=u.query));return null===f.path&&(f.path=n.alwaysNormalize?o.normalizePath(s.path):s.path),o.buildURLFromParts(f)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=o}()},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var r=n(2),i=n(22),s=n(3),o=n(23);t.ProxyPlayer=o.ProxyPlayer;var u=n(8);t.ProxyPlayerBase=u.ProxyPlayerBase;var a=n(20);t.errors=a.errors;var f=n(21);t.helpers=f.helpers;var l=n(7);t.BasePlayer=l.BasePlayer;var c=n(19);t.Descriptor=c.Descriptor;var h=n(9);t.State=h.State;var p=n(24);t.TimeRange=p.TimeRange,!function(e){e.EventDispatcher=r.EventDispatcher}(t.eventDispatcher||(t.eventDispatcher={})),!function(e){e.LoaderRequest=i.LoaderRequest}(t.loader||(t.loader={})),!function(e){e.noOpLogger=s.noOpLogger,e.consoleLogger=s.consoleLogger,e.prefixLogger=s.prefixLogger,e.cloneLogger=s.cloneLogger}(t.logger||(t.logger={}))}])})},function(e,t,n){!function(t,r){e.exports=r(n(0))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return e.call(this,"An unrecoverable error occurred whilst decoding.")||this}return r(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.DECODE_ERROR"},t}(i.errors.PlayerFatalError);t.DecodeError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return e.call(this,"An unrecoverable network error occurred.")||this}return r(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.NETWORK_ERROR"},t}(i.errors.PlayerFatalError);t.NetworkError=s},function(e,t,n){"use strict";function r(e){return e.slice(0).sort(function(e,t){return e.start-t.start}).reduce(function(e,t,n){var r=e.length-1;return n>0&&e[r].end>=t.start?e[r].end=t.end:e.push(t),e},[])}function i(e){for(var t=[],n=e.length,i=0;i<n;i++)t.push({end:1e3*e.end(i),start:1e3*e.start(i)});return r(t).map(function(e){return new a.TimeRange(e.start,e.end-e.start)})}function s(e,t){return t.some(function(t){return t.containsTime(e)})}function o(e){return r(e.map(function(e){return{start:e.start,end:e.end}})).map(function(e){return new a.TimeRange(e.start,e.end-e.start)})}function u(e){if(0===e.length)return new a.TimeRange(0,0);var t=1/0,n=0;return e.forEach(function(e){e.start<t&&(t=e.start),e.end>n&&(n=e.end)}),new a.TimeRange(t,n-t)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0);t.normalizeRawTimeRanges=r,t.buildTimeRanges=i,t.containsTime=s,t.normalizeTimeRanges=o,t.getCoverage=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2);!function(e){e.DecodeError=r.DecodeError,e.NetworkError=i.NetworkError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){!function(e){e.buildTimeRanges=r.buildTimeRanges,e.containsTime=r.containsTime,e.getCoverage=r.getCoverage,e.normalizeTimeRanges=r.normalizeTimeRanges}(e.timeRanges||(e.timeRanges={}))}(t.helpers||(t.helpers={}))},function(e,t,n){"use strict";function r(e){e.load()}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n(1),u=n(2),a=n(3),f=n(7),l=s.helpers.deferred.buildDeferred,c=s.helpers.url.getExtension,h=s.helpers.Promise,p=s.logger.prefixLogger,d=s.errors.NotSupportedError,v=s.errors.PlayerFatalError,m=new Error("Media element was revoked."),g=function(e){function t(t,n){var r=this.constructor,i=e.call(this,n)||this;i._duration=null,i._stallDetected=!1,i._initialized=!1,i._deferredProvideMediaElementCallback=null,i._playInProgress={inProgress:!1},i._lastStallCheckPos=null,i._stallCheckTimerId=null,i._endedOverride=!1,i._volume=1,i._muted=!1,i._positionWhenMediaElementRevoked=0,i._playingWhenMediaElementRevoked=!1,i._provideMediaElementDeferred=null,i._mediaElementAndState=null,i._listeners=[],i._currentSeekCallback=null,i._logger=p(i._logger,"HTML5Player"),i._descriptor=t,i._playerDependencies=n,i._mimeType=t.getFormat().mimeType||r.inferMimeType(t.getUrl());var o=void 0!==n.mediaElement?n.mediaElement:i._createDefaultMediaElement();return o&&i.provideMediaElement(o).catch(function(e){if(e===m)return void i._logger.debug("Initial provideMediaElement() call was aborted.");i._triggerError(new f.InitializeError(e))}),i._logger.info("Checking if the player can play the provided descriptor."),i._canPlayTimer=window.setTimeout(function(){i._canPlay().then(function(e){if(!i.isDead())return e instanceof s.errors.NotSupportedError?(i._logger.info("Player not supported.",e),void i._triggerError(e)):e?(i._logger.info("Player supported."),void i._initialize()):(i._logger.info("Player not supported."),void i._triggerError(new d))}).catch(function(e){i._logger.error("Unexpected error during can play check.",e),i._triggerError(new v("An unexpected error occured during initialization.",e))})},0),i}return i(t,e),t.inferMimeType=function(e){switch(c(e)){case"mp3":return"audio/mpeg";case"mp4":return"video/mp4";case"m3u8":return"application/x-mpegURL";default:return null}},t.prototype.getMediaElement=function(){return this._mediaElementAndState&&this._mediaElementAndState.element},t.prototype.provideMediaElement=function(e){var t=this;if(this._ensureNotDead(),this._mediaElementAndState)throw new Error("Already have a media element.");this._logger.debug("provideMediaElement() called.",e),this._initMediaElementLocal(e,null);var n=this._provideMediaElementDeferred=l(),r=this._mediaElementAndState={element:e,state:"INITIALIZING"},i=function(){t._logger.debug("Initializing media element."),t._initMediaElement(e,t._descriptor.getUrl()),t._attachListeners();var i=t._listenToOnce("error",function(){t._provideMediaElementDeferred=null;var r=e.error.code+" = "+(e.error.message||"[unknown]");t._logger.error("Error whilst initializing media element.",r),t.revokeMediaElement(),n.reject(new Error("Error when initializing media element. Error: "+r))},{earlyAttach:!0});t._listenToOnce("loadeddata",function(){t._logger.debug("Got loadeddata event from media element."),s()},{earlyAttach:!0});var s=function(){t._logger.debug("Putting media element in the state that is expected..."),o()},o=function(){null===t._getQueuedSeekPosition()&&t._positionWhenMediaElementRevoked>0?(t._logger.debug("Seeking to expected position..."),t._performSeek(t._positionWhenMediaElementRevoked,function(e){if(void 0!==e)return t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to seek to the expected position."),t.revokeMediaElement(),void n.reject(new Error("An error occurred when trying to restore the position."));t._logger.debug("Seeked to expected position."),u()})):u()},u=function(){t.isPlaying()===t.isActuallyPlaying()&&t._playingWhenMediaElementRevoked?(t._logger.debug("Calling play to match previous state..."),t._play().catch(function(){t._provideMediaElementDeferred=null,t._logger.error("An error occurred when trying to play."),r===t._mediaElementAndState&&t.revokeMediaElement(),n.reject(new Error("Browser refused play() request on media element."))}),t._listenToOnce("play",function(){t._logger.debug("Play succeeded."),a()},{earlyAttach:!0})):a()},a=function(){if(t._mediaElementAndState!==r)return void t._triggerError(new v("Media element switched unexpectedly."));t._provideMediaElementDeferred=null,i.remove(),n.resolve(void 0),t._mediaElementAndState.state="STABLE",t._logger.debug("Finished putting element in expected state."),null!==t._duration&&t._atomic(function(){t.isReady()||t._signalReady(),t._handleDefferredPauseAndSeek()})}};return this._initialized?i():this._deferredProvideMediaElementCallback=i,this._provideMediaElementDeferred.promise},t.prototype.revokeMediaElement=function(){if(!this._mediaElementAndState)throw new Error("There is no media element to revoke.");this._deferredProvideMediaElementCallback=null,this._provideMediaElementDeferred&&(this._provideMediaElementDeferred.reject(m),this._provideMediaElementDeferred=null),this._logger.debug("revokeMediaElement() called."),this._detachListeners();var e=this._mediaElementAndState.element;this.isDead()||(this._positionWhenMediaElementRevoked=this.getPosition(),this._playingWhenMediaElementRevoked=this.isPlaying()),this._mediaElementAndState=null,this._initMediaElement(e,null),this.isDead()||this._handleStalled()},t.prototype.getVolume=function(){return this._volume},t.prototype.getMuted=function(){return this._muted},t.prototype.setMuted=function(e){this._muted=e,this._mediaElementAndState&&(this._mediaElementAndState.element.muted=e)},t.prototype.getBufferedTimeRanges=function(){return this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state?a.buildTimeRanges(this._mediaElementAndState.element.buffered):[]},t.prototype.getMaxBufferLength=function(){return null},t.prototype._setVolume=function(e){this._volume=e,this._mediaElementAndState&&(this._mediaElementAndState.element.volume=e)},t.prototype._getResolvedMimeType=function(){return this._mimeType},t.prototype._canPlay=function(){return this._mimeType&&this._canPlayProtocol(this._descriptor.getProtocol())&&this._canPlayType(this._mimeType)?h.resolve(!0):h.resolve(!1)},t.prototype._canPlayProtocol=function(e){return["http","hls"].indexOf(e.name)>=0},t.prototype._canPlayType=function(e){try{return!!document.createElement("audio").canPlayType(e)}catch(t){return!1}},t.prototype._initialize=function(){var e=this;this._initialized=!0,this._listenTo("error",function(){if("INITIALIZING"===e._mediaElementAndState.state)return void e._logger.debug("An error occurred, but the media element is initializing, so ignoring...");switch(e._mediaElementAndState.element.error.code){case 2:e._triggerError(new u.NetworkError);break;case 3:e._triggerError(new o.DecodeError);break;default:e._triggerError(new s.errors.PlayerFatalError("An unexpected error occurred."))}},{earlyAttach:!0}),this._listenTo("playing",function(){e._logger.debug("Media element playing event."),e._mediaElementAndState&&!e._mediaElementAndState.element.paused?e._handlePlayingEvent():e._logger.debug("Ignoring playing event because media element is reporting it is paused.")}),this._listenTo("pause",function(){e._logger.debug("Media element pause event."),e._mediaElementAndState&&e._mediaElementAndState.element.paused?e._handlePauseEvent():e._logger.debug("Ignoring pause event because media element is reporting it is not paused.")}),this._listenTo("ended",function(){e._logger.debug("Media element ended event."),e._mediaElementAndState&&!e._mediaElementAndState.element.ended?e._handleEndedEvent():e._logger.debug("Ignoring ended event because media element is reporting it is not ended.")}),this._listenTo("stalled",function(){e._logger.debug("Media element stalled event."),e._checkIfStalled()}),this._stallCheckTimerId=window.setInterval(function(){return e._checkIfStalled()},400),this._retrieveDuration().then(function(t){e._logger.debug("Duration retrieved.",t),e._duration=t,e._atomic(function(){e._provideDuration(t),e._mediaElementAndState&&"STABLE"===e._mediaElementAndState.state&&(e._signalReady(),e._handleDefferredPauseAndSeek())})}).catch(function(t){e._triggerError(new s.errors.PlayerFatalError("An unexpected error occurred when attempting to retrieve the duration.",t))}),this._deferredProvideMediaElementCallback&&this._deferredProvideMediaElementCallback()},t.prototype._createDefaultMediaElement=function(){return document.createElement(this._playerDependencies.mediaElementType||"audio")},t.prototype._handlePauseEvent=function(){var e=this;this._atomic(function(){e._shouldBeEnded()?e._signalEnded():(e._notifyNotStalled(),e._notifyPlaying(!1))})},t.prototype._handlePlayingEvent=function(){var e=this,t=this._duration;if(null===t)throw new Error("Expecting duration to exist.");var n=this._getTruePosition();return n>=t?void this._logger.warn("Got a media element playing event and the positon was >= the duration.",n,t):this.isEnded()||this._shouldBeEnded()?void this._logger.warn("Got a media element playing event when the player is/should be ended."):void this._atomic(function(){e._endedOverride=!1,e._notifyNotStalled(),e._signalNotEnded(),e._notifyPlaying(!0)})},t.prototype._handleEndedEvent=function(){var e=this;if(null!==this._getQueuedSeekPosition())return void this._logger.warn("Got a media element ended event but ignoring because a seek is in progress.");this._atomic(function(){e._endedOverride=!0,e._signalEnded()})},t.prototype._shouldBeEnded=function(){return this._endedOverride||this._mediaElementReportingEnded()},t.prototype._mediaElementReportingEnded=function(){return!!this._mediaElementAndState&&!!this._mediaElementAndState.element.ended},t.prototype._signalNotEnded=function(){if(this._shouldBeEnded())throw new Error("Attempt to signal not ended when it should be.");e.prototype._signalNotEnded.call(this)},t.prototype._retrieveDuration=function(){var e=this;return new h(function(t){e._listenToOnce("loadedmetadata",function(){var n=e._mediaElementAndState;n&&t(1e3*n.element.duration)},{reattach:!0,earlyAttach:!0})})},t.prototype._handlePlayPauseChange=function(e){var t=this;if(this.isEnded())return void this._notifyPlaying(e);if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var n=this._mediaElementAndState.element;if((this._playInProgress.inProgress||!n.paused)!==e)if(e){var r={inProgress:!0};this._playInProgress=r,this._play().then(function(){return r.inProgress=!1}).catch(function(e){r.inProgress=!1,t._notifyPlayRejection(e)})}else this._playInProgress={inProgress:!1},n.pause(),this._notifyPlaying(!1);else this._playInProgress.inProgress||this._notifyPlaying(e)}},t.prototype._handleSeekChange=function(e){var t=this,n=this._mediaElementAndState;n&&"USABLE"===n.state&&(this._endedOverride=!1,this._performSeek(e,function(n){if(void 0!==n)return void t._triggerError(new s.errors.PlayerFatalError("An error occurred when trying to seek.",n));e===t._duration&&(t._endedOverride=!0),t._atomic(function(){t._signalSeekComplete(),t.isEnded()||t._handlePlayPauseChange(t.isPlaying())})}))},t.prototype._performSeek=function(e,t){var n=this,r=this._mediaElementAndState;if(!r)throw new Error("Media element does not exist.");var i=this._currentSeekCallback;if(i&&(this._currentSeekCallback=null,i.listenerHandle.remove()),r.element.currentTime===e/1e3)return void t();r.element.currentTime=e/1e3;var s=this._listenToOnce("seeked",function(){n._currentSeekCallback=null,t()},{earlyAttach:!0});this._currentSeekCallback={listenerHandle:s,callback:t}},t.prototype._getPosition=function(){var e=null!==this._duration?this._duration:1/0;if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)return this._positionWhenMediaElementRevoked;var t=Math.min(this._getTruePosition(),e);return this._shouldBeEnded()?e:t},t.prototype._getTruePosition=function(){if(!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)throw new Error("Media element does not exist or is in invalid state.");return 1e3*this._mediaElementAndState.element.currentTime},t.prototype._kill=function(){window.clearTimeout(this._canPlayTimer),this._mediaElementAndState&&this.revokeMediaElement(),this._stallCheckTimerId&&window.clearInterval(this._stallCheckTimerId),this._listeners=[]},t.prototype._listenToOnce=function(e,t,n){void 0===n&&(n={});var r=n.reattach,i=n.earlyAttach;void 0===r&&(r=!1),void 0===i&&(i=!1);var s=function(e){o.remove(),t(e)},o=this._listenTo(e,s,{reattach:r,earlyAttach:i});return o},t.prototype._listenTo=function(e,t,n){var r=this;void 0===n&&(n={});var i=n.reattach,s=n.earlyAttach;void 0===i&&(i=!0),void 0===s&&(s=!1);var o=function(e){u.attached?t(e):r._logger.warn("Got media element event after handler was removed. Ignoring.",e)},u={attached:!1,handler:o,eventType:e,once:!1,reattach:i,earlyAttach:s};if(this._listeners.push(u),!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state&&!s)return{remove:function(){var e=r._listeners.indexOf(u);e>=0&&r._listeners.splice(e,1)}};var a=this._mediaElementAndState.element;return a.addEventListener(e,o,!1),u.attached=!0,{remove:function(){var t=r._listeners.indexOf(u);t>=0&&(r._listeners.splice(t,1),u.attached=!1,a.removeEventListener(e,o,!1))}}},t.prototype._notifyNotStalled=function(){this._stallDetected=!1,this._lastStallCheckPos=null,this._handleStalled()},t.prototype._initMediaElement=function(e,t){this._initMediaElementLocal(e,t)},t.prototype._initMediaElementLocal=function(e,t){e.setAttribute("msAudioCategory","BackgroundCapableMedia"),e.mozAudioChannelType="content",e.removeAttribute("src"),r(e),t&&(this._logger.debug("Setting media element src.",t),e.src=t),e.volume=this._volume,e.muted=this._muted,e.playbackRate=1,e.setAttribute("preload","metadata"),e.load()},t.prototype._checkIfStalled=function(){if(this._mediaElementAndState&&"USABLE"===this._mediaElementAndState.state){var e=this._mediaElementAndState.element;if(!e.paused&&this.isActuallyPlaying()){var t=e.currentTime;this._stallDetected=e.readyState<=2||this._lastStallCheckPos===t,this._lastStallCheckPos=t,this._handleStalled()}}},t.prototype._handleStalled=function(){this._shouldBeEnded()&&null===this._getQueuedSeekPosition()?this.isEnded()||(this._logger.debug("Signalling ended because stalled near end."),this._signalEnded()):this._notifyStalled(this._stallDetected||!this._mediaElementAndState||"USABLE"!==this._mediaElementAndState.state)},t.prototype._play=function(){var e=this;if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");if(this._mediaElementAndState.element.ended)return this._logger.debug("Not calling play() because we are at the end. It will be called after a seek."),h.resolve();var t=this._mediaElementAndState.element.play();return new h(function(n,r){t?t.then(function(){n()}).catch(function(t){"AbortError"===t.name?(e._logger.debug("Media element play() promise rejected with AbortError."),n()):r(t)}):n()})},t.prototype._handleDefferredPauseAndSeek=function(){var e=this;if(!this._mediaElementAndState||"STABLE"!==this._mediaElementAndState.state)throw new Error("Media element must be in the STABLE state.");this._logger.debug("Handling deferred pause and seek..."),this._mediaElementAndState.state="USABLE",this._attachListeners(),this._atomic(function(){e._handleStalled();var t=e._getQueuedSeekPosition();null!==t&&e._handleSeekChange(t),e.isPlaying()!==e.isActuallyPlaying()&&e._handlePlayPauseChange(e.isPlaying())})},t.prototype._detachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");var e=this._mediaElementAndState.element;this._listeners.forEach(function(t){t.attached&&(t.attached=!1,e.removeEventListener(t.eventType,t.handler,!1))}),this._listeners=this._listeners.filter(function(e){return e.reattach})},t.prototype._attachListeners=function(){if(!this._mediaElementAndState)throw new Error("Media element doesn't exist.");this._logger.debug("Attaching listeners...");var e=this._mediaElementAndState,t=e.element,n=e.state;this._listeners.forEach(function(e){e.attached||!e.reattach||"USABLE"!==n&&!e.earlyAttach||(t.addEventListener(e.eventType,e.handler,!1),e.attached=!0)}),this._logger.debug("Attached listeners.")},t}(s.BasePlayer);t.HTML5Player=g},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(t){return e.call(this,"An error occurred when initializing the media element.",t)||this}return r(t,e),t.prototype.getCode=function(){return"HTML5_PLAYER.INITIALIZE_ERROR"},t}(i.errors.PlayerFatalError);t.InitializeError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var r=n(6);t.HTML5Player=r.HTML5Player;var i=n(4);t.errors=i.errors;var s=n(5);t.helpers=s.helpers}])})},function(e,t,n){!function(t,r){e.exports=r(n(0),function(){try{return n(!function(){var e=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return n(!function(){var e=new Error('Cannot find module "@sc/maestro-flipper-player"');throw e.code="MODULE_NOT_FOUND",e}())}catch(e){}}(),function(){try{return n(3)}catch(e){}}(),function(){try{return n(1)}catch(e){}}(),n(4))}(0,function(e,t,n,r,i,s){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}([function(t,n){t.exports=e},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(t,n){void 0===n&&(n="API error.");var r=e.call(this,n)||this;return r.statusCode=t,r}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.API_ERROR."+(this.statusCode||"TIMEOUT")},t.prototype.getStatusCode=function(){return this.statusCode},t}(i.errors.PlayerFatalError);t.ApiError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(t){return e.call(this,t||"There was no format available that a player was able to play.")||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.NOT_SUPPORTED_ERROR"},t}(i.errors.PlayerFatalError);t.NotSupportedError=s},function(e,t,n){"use strict";function r(e){return new s({startPos:0,endPos:e,startLevel:0,endLevel:1,fromEnd:!1})}function i(e){return new s({startPos:e,endPos:0,startLevel:1,endLevel:0,fromEnd:!0})}Object.defineProperty(t,"__esModule",{value:!0}),t.buildFadeIn=r,t.buildFadeOut=i;var s=function(){function e(e){var t=e.startPos,n=e.endPos,r=e.startLevel,i=e.endLevel,s=e.fromEnd,o=void 0!==s&&s;if(t<0)throw new Error("startPos invalid.");if(n<0||!o&&n<t||o&&t<n)throw new Error("endPos invalid.");if(r<0||r>1)throw new Error("startLevel invalid.");if(i<0||i>1)throw new Error("endLevel invalid.");this._startPos=t,this._endPos=n,this._startLevel=r,this._endLevel=i,this._fromEnd=o}return e.prototype.calculate=function(e,t){var n=this._fromEnd?t-500-this._startPos:this._startPos,r=this._fromEnd?t-500-this._endPos:this._endPos;if(e<n)return{level:this._startLevel,nextCalculatePosition:n-e};if(e<=r){var i=(e-n)/(r-n),s=Math.cos(i*Math.PI)/-2+.5;return{level:this._startLevel+(this._endLevel-this._startLevel)*s,nextCalculatePosition:e}}return{level:this._endLevel,nextCalculatePosition:1/0}},e}();t.Fade=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e}();t.BaseStreamUrlRetriever=r},function(e,t,n){"use strict";function r(e,t,n){return Math.min(t,Math.max(e,n))}var i=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n(3),u=s.eventDispatcher.EventDispatcher,a=s.helpers.Promise,f=s.helpers.deferred.buildDeferred,l=function(e){function t(t,n){var r=e.call(this,t)||this;return r._onPreloadingEnabled=new u,r._onPreloadingDisabled=new u,r._onConnectionRequired=new u,r._onConnectionRecovered=new u,r._volumeAutomators=[],r._volumeScale=1,r._userVolume=1,r._volumeAutomationSupported=!1,r._timer=null,r._pauseFadeTimer=null,r._pauseFadeDeferred=null,r._pauseFade=null,r._connectionRequired=!1,r._connectionLossTimer=null,r.onPreloadingEnabled=r._onPreloadingEnabled.getHandle(),r.onPreloadingDisabled=r._onPreloadingDisabled.getHandle(),r.onConnectionRequired=r._onConnectionRequired.getHandle(),r.onConnectionRecovered=r._onConnectionRecovered.getHandle(),r._reloadStreamUrls=n,r._pausedMaxBufferLength=t.pausedMaxBufferLength,r._playingMaxBufferLength=t.playingMaxBufferLength,r._preloadingEnabled=t.preloadingEnabled,r.onPlayerProvided.subscribe(function(){return r._updateMaxBufferLength()}),r.onChange.subscribe(function(e){r.isDead()||((!1===e.playing||e.positionJumped||e.stalled||e.ended)&&r._completePauseFade(),r._pauseFade&&(!1===e.actuallyPlaying||e.ended)&&(r.removeVolumeAutomator(r._pauseFade),r._pauseFade=null),(e.positionJumped||void 0!==e.actuallyPlaying||void 0!==e.stalled)&&r._updateVolume(),void 0!==e.playing&&r._updateMaxBufferLength(),void 0!==e.loading&&r._calculateIfConnectionRequired())}),window.addEventListener("online",function(){return r._calculateIfConnectionRequired()}),window.addEventListener("offline",function(){return r._calculateIfConnectionRequired()}),r._calculateIfConnectionRequired(),r}return i(t,e),t.prototype.reload=function(){this._ensureNotDead(),this._reloadStreamUrls()},t.prototype.enablePreloading=function(){this.isDead()||this._preloadingEnabled||(this._preloadingEnabled=!0,this._updateMaxBufferLength(),this._onPreloadingEnabled.dispatch(void 0))},t.prototype.disablePreloading=function(){this.isDead()||this._preloadingEnabled&&(this._preloadingEnabled=!1,this._updateMaxBufferLength(),this._onPreloadingDisabled.dispatch(void 0))},t.prototype.isPreloadingEnabled=function(){return this._preloadingEnabled},t.prototype.pauseAfterFade=function(e){var t=this;if(this._ensureNotDead(),this._pauseFadeDeferred)return this._pauseFadeDeferred.promise;if(!this.isPlaying()||!this.isActuallyPlaying())return a.resolve(this.pause());var n=f();this._pauseFadeDeferred=n;var r=this.getPosition();if(this._pauseFade)throw new Error("Fade should not already be assigned.");return this._pauseFade=new o.Fade({startPos:r,endPos:r+e,startLevel:1,endLevel:0}),this.addVolumeAutomator(this._pauseFade),this._pauseFadeTimer=window.setTimeout(function(){t._pauseFadeDeferred=null,n.resolve(t.pause())},e+50),n.promise},t.prototype.isConnectionRequired=function(){return this._connectionRequired},t.prototype.getVolume=function(){return this._volumeAutomationSupported?this._userVolume:e.prototype.getVolume.call(this)},t.prototype.addVolumeAutomator=function(e){this._volumeAutomators.indexOf(e)<0&&(this._volumeAutomators.push(e),this._updateVolume())},t.prototype.removeVolumeAutomator=function(e){var t=this._volumeAutomators.indexOf(e);t>=0&&(this._volumeAutomators.splice(t,1),this._updateVolume())},t.prototype._triggerError=function(t){e.prototype._triggerError.call(this,t)},t.prototype.providePlayer=function(t,n,r){void 0===r&&(r=!0),this._volumeAutomationSupported=r,e.prototype.providePlayer.call(this,t,n)},t.prototype._setVolume=function(e){this._userVolume=e,this._calculateAndSetVolume()},t.prototype._kill=function(){this._timer&&window.clearTimeout(this._timer),null!==this._connectionLossTimer&&window.clearTimeout(this._connectionLossTimer),this._abortPauseFade(),e.prototype._kill.call(this)},t.prototype._calculateIfConnectionRequired=function(){var e=this;this.isLoading()&&"navigator"in window&&!window.navigator.onLine?null===this._connectionLossTimer&&(this._connectionLossTimer=window.setTimeout(function(){e._connectionLossTimer=null,e._connectionRequired=!0,e._onConnectionRequired.dispatch(void 0)},1500)):this._connectionRequired?(this._connectionRequired=!1,this._onConnectionRecovered.dispatch(void 0)):null!==this._connectionLossTimer&&(window.clearTimeout(this._connectionLossTimer),this._connectionLossTimer=null)},t.prototype._completePauseFade=function(){if(this._pauseFadeDeferred){this._pauseFadeTimer&&window.clearTimeout(this._pauseFadeTimer);var e=this._pauseFadeDeferred;this._pauseFadeDeferred=null,e.resolve(this.pause())}},t.prototype._abortPauseFade=function(){this._pauseFadeTimer&&(window.clearTimeout(this._pauseFadeTimer),this._pauseFadeTimer=null),this._pauseFadeDeferred&&(this._pauseFadeDeferred.reject(new Error("Player was killed.")),this._pauseFadeDeferred=null)},t.prototype._updateVolume=function(){var e=this;if(this._volumeAutomationSupported){this._ensureNotDead(),this._timer&&(window.clearTimeout(this._timer),this._timer=null);var t=this.getDuration();if(null!==t){var n=this._volumeAutomators,i=this.getPosition(),s=1/0,o=1;n.forEach(function(e){var n=e.calculate(i,t),u=n.nextCalculatePosition,a=n.level;o*=r(0,1,a),u<s&&(s=u)}),this._volumeScale!==o&&(this._volumeScale=o,this._calculateAndSetVolume()),s<1/0&&this.isActuallyPlaying()&&!this.isStalled()&&(this._timer=window.setTimeout(function(){e._timer=null,e._updateVolume()},r(100,5e3,s-this.getPosition())))}}},t.prototype._calculateAndSetVolume=function(){this._volumeAutomationSupported?e.prototype._setVolume.call(this,this._userVolume*this._volumeScale):e.prototype._setVolume.call(this,this._userVolume)},t.prototype._updateMaxBufferLength=function(){var e=this.getPlayer(),t=e&&e.getBufferController();t&&(this.isPlaying()?t.setMaxBufferLength(this._playingMaxBufferLength):t.setMaxBufferLength(this._preloadingEnabled?this._pausedMaxBufferLength:0))},t}(s.ProxyPlayer);t.Player=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29);t.renditions=r.renditions},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.statusCode=e}return e.prototype.getStatusCode=function(){return this.statusCode},e}();t.RequestError=r},function(e,t,n){"use strict";function r(e){return e.match(u)[0]}function i(e,t){if(t instanceof e.errors.RetrievalError){var n=t.getCause();if(n instanceof e.retrievalErrors.UnacceptableResponseStatusCodeError)return 403===n.getStatusCode()}return!1}function s(e,t,n,s,u,a,f,l,c){c=o.logger.prefixLogger(c,"HLSMSEPlayer Controller");var h=null,p=!1,d=r(l);n.onError.subscribe(function(t){if(!(t instanceof o.errors.NotSupportedError)){if(s){if(t instanceof o.errors.URLUpdateError)return c.error("URL refresh failed for some reason.",t),void u({retryPlayer:!0});if(i(e,t)){if(p)return;return c.info("Got a 403 status code. Peforming a URL refresh..."),p=!0,h=f.getUrl(),void h.whenComplete().then(function(e){if(e){var t=e.url,i=e.rendition;r(t)!==d||JSON.stringify(a)!==JSON.stringify(i)?(c.warn("Got a new URL but the rendition did not match the original."),u({retryPlayer:!1})):(p=!1,c.info("Got a new URL. Updating..."),n.getUrlController().updateUrl(t))}else c.warn("Could not get a new URL."),u({retryPlayer:!1})}).catch(function(e){c.error("Unexpected error when trying to retrieve a new URL.",e),u({retryPlayer:!1})})}}c.error("Unexpected player error.",t),u({retryPlayer:!1})}}),t.providePlayer(n)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=/^[^\?#]*/;t.isErrorWhichShouldTriggerURLRefresh=i,t.takeControlHLSMSEPlayer=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.GEOBLOCKED_ERROR"},t}(i.ApiError);t.GeoBlockedError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=function(e){function t(){return e.call(this,"There were no stream URLs.")||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.NO_STREAMS"},t}(i.NotSupportedError);t.NoStreamsError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(){return e.call(this,null,"Request timed out too many times.")||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.TIMED_OUT_ERROR"},t}(i.ApiError);t.TimedOutError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"SCAUDIO.UNAVAILABLE_ERROR"},t}(i.ApiError);t.UnavailableError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(9),s=n(2),o=n(11),u=n(12),a=n(10);!function(e){e.ApiError=r.ApiError,e.GeoBlockedError=i.GeoBlockedError,e.NotSupportedError=s.NotSupportedError,e.TimedOutError=o.TimedOutError,e.UnavailableError=u.UnavailableError,e.NoStreamsError=a.NoStreamsError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";function r(){return rt||(rt=document.createElement("audio"),i(rt),rt)}function i(e){e.load()}function s(e){return e===G||e===Y}function o(e){return e.constructor===Y}function u(e){return e.constructor===G}function a(e){return e.constructor===Z}function f(e){return e.constructor===et}function l(e){var t=e.split("//",2);return 1===t.length?t[0].split("/",1)[0]:t[1]?t[1].split("/",1)[0]:""}function c(e){var t=tt.exec(e);return t&&t[0]||""}function h(e,t){var n=u(e)?"MaestroHTML5":o(e)?"MaestroHLSMSE":a(e)?"MaestroFlipper":f(e)?"MaestroChromecast":null;if(!n)throw new Error("Unknown player.");return{name:n,bitrate:t.bitrate,protocol:t.rendition.scProtocol,host:l(t.url),url:c(t.url),format:t.rendition.scFormat}}function p(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function d(e){if("number"!=typeof e)throw new Error("level must be a number.");if(e<0||e>1)throw new Error("Invalid volume level.");at=e,ut.forEach(function(t){return t.setVolume(e)})}function v(){return at}function m(e){if("boolean"!=typeof e)throw new Error("muteEnabled must be a boolean.");ft=e,ut.forEach(function(t){return t.setMuted(e)})}function g(){return ft}function y(){r()}function b(e){function t(){return kt&&Lt?h(kt,Lt):null}function n(){if(Mt&&window.clearTimeout(Mt),xt.debug("Performing retrieve."),At)throw new Error("Player job already running. Only one instance of the job is allowed at once.");if(Nt.isDead())throw new Error("Proxy is dead.");var e=new R(function(){function e(){function t(e){if(e!==w.helpers.abortableJob.abortedError)if(e instanceof k.RequestError){var t=e.getStatusCode();switch(t){case 401:Nt._triggerError(new L.GeoBlockedError(t,"Geoblocked (logged out)."));break;case 403:Nt._triggerError(new L.GeoBlockedError(t,"Geoblocked (logged in)."));break;case 404:Nt._triggerError(new O.UnavailableError(t,"Track unavailable."));break;case null:throw new Error("Status code should not be null.");default:Nt._triggerError(new A.ApiError(t))}}else e===w.helpers.retry.noMoreAttemptsError?Nt._triggerError(new _.TimedOutError):(xt.error("Unexpected error.",e),Nt._triggerError(new w.errors.PlayerFatalError("An unexpected error occurred.",e)))}u=i(),u.onCompletion(function(n){if(n)try{Lt=n,Ct||(Ct=o()),Ct[0]?r():(xt.debug("Excluding rendition.",n.rendition),l.excludeRendition(n.rendition),Ct=null,e())}catch(i){t(i)}else Lt?(xt.error("There were no stream formats that were supported."),Nt._triggerError(new M.NotSupportedError)):(xt.error("There were no streams available."),Nt._triggerError(new X.NoStreamsError))}),u.onError(t)}function r(){function e(e){if(!a&&!s&&(a=!0,xt.debug("Player releasing control.",e),t.abort(e),!Nt.isDead()))if(e&&e.retryPlayer){var r=_t.getDelay();r>0?(xt.debug("Waiting "+r+" ms."),Mt=window.setTimeout(function(){return n()},r)):n()}else n()}var r=Ct&&Ct[0];if(!r)throw new Error("No player to build.");if(!Lt)throw new Error("No rendition.");var i=Lt.url,o=Lt.rendition,u=new w.Descriptor(i,o.maestroProtocol,o.maestroFormat),a=!1;xt.debug("Building player...");var f=void 0,l=void 0;try{l=r(u,Lt,e)}catch(c){f=c}void 0===l?(xt.error("Exception occurred whilst building player.",f),e()):null===l?(xt.debug("Player not supported for current descriptor."),e()):(kt=l,xt.debug("Built player."),kt.isDead()?(xt.debug("Player died during construction."),e()):(lt.addPlayer(kt),kt.onChange.subscribe(function(t){t.dead&&(xt.debug("Player died."),e())})))}var s=!1,u=null;return e(),{result:w.helpers.deferred.buildDeferred().promise,abort:function(e){s=!0,xt.info("Player job aborted.",e),At=null,u&&u.abort(),Ct&&(e&&e.retryPlayer?xt.debug("Player might be used again for current rendition."):(xt.debug("Player will not be used again for current rendition."),Ct.shift()),Nt.getPlayer()&&Nt.removePlayer(),kt&&(kt.kill(),kt=null),Lt=null)}}}),t=e.run();return At=t}function i(){return z(function(){return new R(function(){var e=l.getUrl();return xt.debug("Retrieving a URL..."),{result:e.whenComplete().then(function(e){return e?xt.debug("Retrieved URL.",{rendition:e.rendition,bitrate:e.bitrate}):xt.debug("No URL provided."),e&&nt.indexOf(e.rendition)<0?(xt.warn("Unknown rendition. Skipping...",e.rendition),{success:!1}):{result:e,success:!0}}).catch(function(e){if(e instanceof k.RequestError){var t=e.getStatusCode();if(null===t||0===t)return null===t?xt.warn("Timed out when retrieving URL. Will retry."):xt.warn("Network error when retrieving URL. Will retry."),{success:!1}}throw e!==w.helpers.abortableJob.abortedError&&xt.error("Error retrieving URL.",e),e}),abort:function(){return e.abort()}}})},mt)}function o(){var e=[];return et&&f.indexOf(et)>=0&&(xt.debug("ChromecastPlayer found.",Q.version),bt?e.push(function(e){var t=new et(e,{name:wt,castContext:bt,logger:tt});return Nt.providePlayer(t,{syncPosition:!1,syncVolume:!1},!1),t}):xt.warn("Could not construct chromecast player because context not provided.")),Z&&f.indexOf(Z)>=0&&(xt.debug("FlipperPlayer found.",K.version),e.push(function(e){var t=new Z(e,{name:wt,logger:tt});return H.takeControlFlipperPlayer(Nt,t,xt,Ot||void 0),t})),Y&&f.indexOf(Y)>=0&&(xt.debug("HLSMSEPlayer found.",J.version),e.push(function(e,t,n){var r=new Y(e,{name:wt,playlistLoader:E.stringLoader,segmentLoader:E.arrayBufferLoader,keyLoader:E.arrayBufferLoader,expectedSegmentFormat:{mimeType:"audio/mpeg"},logger:tt});return a(r,function(){return n()}),P.takeControlHLSMSEPlayer(J,Nt,r,yt,n,t.rendition,l,t.url,xt),r})),G&&f.indexOf(G)>=0&&(xt.debug("HTML5Player found.",V.version),e.push(function(e,t,n){var r=t.timeRetrieved;if(!yt||"hls"!==e.getProtocol().name&&void 0!==r){var i;if(yt){if(void 0===r)throw new Error("Expecting timeUrlRetrieved to be set.");i={urlExpires:!0,timeUrlRetrieved:r}}else i={urlExpires:!1};var s=new G(e,{name:wt,logger:tt});return a(s,function(){return n()}),D.takeControlHTML5Player(V,Nt,s,i,n,xt),s}return null})),e}function u(){At?(xt.debug("Reloading stream URLs..."),xt.debug("Aborting player job that is in progress."),At.abort(),Ct=null,n()):xt.debug("Reload requested, but not reloading as there is nothing to reload.")}function a(e,t){function n(){var t=e.getMediaElement();t&&t!==r()&&(xt.debug("Revoking audio element that was created internally because player is ready now."),e.revokeMediaElement())}function i(){var n=e.getMediaElement();if(n&&n!==r()&&(xt.debug("Revoking audio element that was created internally, even though player is not ready."),e.revokeMediaElement()),!e.getMediaElement()){it&&!it.isDead()&&(xt.info("Revoking audio element from a player."),it.isPlaying()&&xt.warn("The audio element is being revoked from a player which is playing. Only one player should be playing at once."),it.revokeMediaElement()),it=e,xt.info("Providing audio element to a different player.");var i=st={};e.provideMediaElement(r()).catch(function(n){e.isDead()||st!==i||(xt.error("An unexpected error occurred when trying to provide the audio element to a player.",n),t())})}}e.isReady()?n():e.onReady.subscribe(n),Nt.onPlayIntent.subscribe(function(){e.isDead()||i()}),Nt.isPlaying()&&(e.isDead()||i()),it||i()}var f=e.playerClasses,l=e.streamUrlRetriever,c=e.duration,d=void 0===c?null:c,v=e.preloadingEnabled,m=void 0!==v&&v,g=e.pausedMaxBufferLength,y=void 0===g?2e3:g,b=e.playingMaxBufferLength,B=void 0===b?9e4:b,q=e.fadeOutDuration,U=void 0===q?0:q,$=e.logger,tt=void 0===$?w.logger.noOpLogger:$,rt=e.audioPerformanceReporter,ct=e.audioReporter,ht=e.audioCheckpointInterval,pt=void 0===ht?3e4:ht,dt=e.errorReporter,vt=e.urlProviderRetryDelayCalculator,mt=void 0===vt?W():vt,gt=e.streamUrlsExpire,yt=void 0===gt||gt,bt=e.chromecastContext;if(l instanceof S.BaseStreamUrlRetriever){if(null!==d&&("number"!=typeof d||d<0))throw new Error("duration invalid.");if("boolean"!=typeof m)throw new Error("preloadingEnabled invalid.");if(null!==y&&("number"!=typeof y||y<0))throw new Error("pausedMaxBufferLength invalid.");if(null!==B&&("number"!=typeof B||B<0))throw new Error("playingMaxBufferLength invalid.");if(null!==U&&("number"!=typeof U||U<0))throw new Error("fadeOutDuration invalid.");if(null!==tt&&"function"!=typeof tt&&"object"!=typeof tt)throw new Error("logger invalid.");if(void 0!==ct&&"function"!=typeof ct)throw new Error("audioReporter invalid.");if(null!==pt&&("number"!=typeof pt||pt<0))throw new Error("audioCheckpointInterval invalid.");if(void 0!==rt&&"function"!=typeof rt)throw new Error("audioPerformanceReporter invalid.");if(void 0!==dt&&"function"!=typeof dt)throw new Error("errorReporter invalid.");if(void 0!==mt&&"function"!=typeof mt)throw new Error("retryDelayCalculator invalid.");var wt="SCAudio-"+ ++ot,Et=l.getTrackId();null!==Et&&(wt+="-"+Et);var St=new F.LogCollector;tt=w.logger.cloneLogger(St,tt);var xt=w.logger.prefixLogger(tt,wt),Tt=p();xt.info("Building player...",{ua:navigator.userAgent,logId:Tt});var Nt=new C.Player({name:wt+"-Proxy",logger:tt,mediaSessionEnabled:!0,pausedMaxBufferLength:y,playingMaxBufferLength:B,preloadingEnabled:m},u);ut.push(Nt),Nt.setVolume(at),Nt.setMuted(ft),U>0&&Nt.addVolumeAutomator(x.buildFadeOut(U));var Ct=null,kt=null,Lt=null,At=null,Ot=null,Mt=null,_t=new j.DecayingExponentialDelayCalculator;if(rt&&(Ot=new T.AudioPerformanceEventGenerator(Nt,rt,xt,t,Y)),ct&&new I.AudioEventGenerator(Nt,ct,pt,xt),dt&&N.generateErrorEvents(Nt,St,Tt,Et,dt,xt,t,J||null,yt),Nt.onChange.subscribe(function(e){var t=e.dead,n=e.playing;if(t)xt.info("Player killed."),ut.splice(ut.indexOf(Nt),1),At&&At.abort(),Mt&&window.clearTimeout(Mt);else if(!0===n){var i=f.some(function(e){return s(e)});i&&r()}}),null!==d&&(xt.debug("Setting initial duration.",d),Nt.setInitialDuration(d)),m)xt.debug("Preloading is enabled, so performing retrieve immediately."),n();else{xt.debug("Preloading is disabled, so deferring retrieve until either a play intent or preloading is enabled.");var Dt=function(){Pt.remove(),Ht.remove(),xt.debug("Preloading now enabled or received a play request. Peforming retrieve."),n()},Pt=Nt.onPreloadingEnabled.subscribe(Dt),Ht=Nt.onPlayIntent.subscribe(Dt)}return Nt}throw new Error("StreamUrlRetriever invalid.")}Object.defineProperty(t,"__esModule",{value:!0});var w=n(0),E=n(35),S=n(4),x=n(3),T=n(17),N=n(22),C=n(5),k=n(7),L=n(9),A=n(1),O=n(12),M=n(2),_=n(11),D=n(20),P=n(8),H=n(19),B=n(6),j=n(21),F=n(23),I=n(16),q=n(18),R=w.helpers.abortableJob.AbortableJob,U=w.helpers.retry,z=U.retry,W=U.buildExponentialDelayCalculator,X=n(10),V=void 0;try{V=n(34)}catch($){}var J=void 0;try{J=n(33)}catch($){}var K=void 0;try{K=n(32)}catch($){}var Q=void 0;try{Q=n(31)}catch($){}var G=V?V.HTML5Player:null,Y=J?J.HLSMSEPlayer:null,Z=K?K.FlipperPlayer:null,et=Q?Q.ChromecastPlayer:null,tt=/^[^?#]*/,nt=Object.keys(B.renditions).map(function(e){return B.renditions[e]}),rt=null,it=null,st={},ot=-1,ut=[],at=1,ft=!1,lt=new q.CacheManager(15e7,w.logger.noOpLogger);t.setGlobalVolume=d,t.getGlobalVolume=v,t.setGlobalMuted=m,t.getGlobalMuted=g,t.activateAudioElement=y,t.buildPlayer=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){e.Fade=r.Fade,e.buildFadeIn=r.buildFadeIn,e.buildFadeOut=r.buildFadeOut}(t.volumeAutomation||(t.volumeAutomation={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=1e3,s=function(){function e(e,t,n,s){this._checkpointTimer=null,this._logger=r.logger.prefixLogger(s,"AudioEventGenerator"),this._player=e,this._eventReporter=t,this._checkpointInterval=null!==n?Math.max(i,n):null,this._startReporting()}return e.prototype._startReporting=function(){var e=this,t=this._player;t.onChange.subscribe(function(n){var r=n.actuallyPlaying,i=n.ended;!0===r&&!t.isEnded()||!1===i&&t.isActuallyPlaying()?(null===e._checkpointInterval||e._checkpointTimer||(e._checkpointTimer=window.setInterval(function(){e._reportEvent("checkpoint")},e._checkpointInterval)),e._reportEvent("play")):(!1===r&&!t.isEnded()||!0===i&&t.isActuallyPlaying())&&(e._checkpointTimer&&(window.clearInterval(e._checkpointTimer),e._checkpointTimer=null),e._reportEvent("pause"))})},e.prototype._reportEvent=function(e){var t=this._player.getDuration();if(null===t)throw new Error("Duration should exist now.");var n={type:e,position:this._player.getPosition(),duration:t};this._logger.debug("Generated audio event.",n),this._eventReporter(n)},e}();t.AudioEventGenerator=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(30),s=function(){function e(e,t,n,i,s){this._logger=r.logger.prefixLogger(n,"AudioPerformanceEventGenerator"),this._player=e,this._eventReporter=t,this._getPlayerDetails=i,this._HLSMSEPlayer=s,this._measureGeneralEvents()}return e.prototype.reportManualEvent=function(e){this._logger.debug("Reporting manual audio performance event.",e),this._eventReporter(e)},e.prototype._measureGeneralEvents=function(){var e=this,t=this._player,n=new i.Timer,r=null,s=null;t.onChange.subscribe(function(o){var u=o.dead,a=o.playing,f=o.actuallyPlaying,l=o.seeking,c=o.loading;u||(!0===a&&(n.isComplete()||n.start()),!0===f&&(n.isComplete()||(n.stop(),e._reportEvent("play",n.getTime()))),!0===l&&t.isReady()&&(r=new i.Timer,r.start()),!1===l&&r&&(r.stop(),e._reportEvent("seek",r.getTime())),!0===c&&n.isComplete()&&(s=new i.Timer,s.start()),!1===c&&s&&(s.stop(),e._reportEvent("buffer",s.getTime())))})},e.prototype._reportEvent=function(e,t,n){var r=n||this._getPlayerDetails();if(!r)return void this._logger.warn("Cannot report event because there is no player.",e,t);var i={type:e,latency:t,protocol:r.protocol,playerType:r.name,host:r.host,bitrate:r.bitrate,format:r.format||void 0};this._logger.debug("Generated audio performance event.",i),this._eventReporter(i)},e}();t.AudioPerformanceEventGenerator=s},function(e,t,n){"use strict";function r(e,t){var n=e.getMemoryCacheController();n&&n.setMaxCacheSize(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(){function e(e,t){this._maxCacheSize=e,this._players=[],this._updateTimer=null,this._logger=i.logger.prefixLogger(t,"CacheManager"),this._logger.debug("Initialized with cache size "+e+" bytes.")}return e.prototype.addPlayer=function(e){var t=this;if(this._logger.debug("Adding player to cache manager."),e.isDead())return void this._logger.debug("Player was dead.");var n=this._players;e.onChange.subscribe(function(r){var i=r.playing;!0===r.dead?(t._logger.debug("Removing player that became dead."),n.splice(n.indexOf(e),1),t._update()):!0===i?(t._logger.debug("Updating because player started playing."),n.splice(n.indexOf(e),1),n.unshift(e),t._update()):!1===i&&(t._logger.debug("Updating because player became paused."),t._update())}),e.isPlaying()?n.unshift(e):n.push(e),this._update()},e.prototype._update=function(){var e=this;if(this._updateTimer&&(window.clearTimeout(this._updateTimer),this._updateTimer=null),0===this._players.length)return void this._logger.debug("There are no longer any players to manage.");var t=this._players.reduce(function(e,t){return t.isPlaying()?e.playingPlayers.push(t):e.pausedPlayers.push(t),e},{playingPlayers:[],pausedPlayers:[]}),n=t.playingPlayers,i=t.pausedPlayers,s=n.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0),o=i.reduce(function(e,t){return e+(t.getMemoryCacheUsage()||0)},0);if(s>this._maxCacheSize){this._logger.debug("All playing players are using more than the max cache size. Cleaning...",s,this._maxCacheSize);var u=this._maxCacheSize/n.length;n.forEach(function(e){return r(e,u)}),i.forEach(function(e){return r(e,0)})}else this._logger.debug("Recalculating cache sizes...",s+o,this._maxCacheSize),n.concat(i).reduce(function(t,n){return r(n,Math.max(0,e._maxCacheSize-t)),t+(n.getMemoryCacheUsage()||0)},0);this._updateTimer=window.setTimeout(function(){return e._update()},2e4)},e}();t.CacheManager=s},function(e,t,n){"use strict";function r(e,t,n,r){n=i.logger.prefixLogger(n,"FlipperPlayer Controller"),r&&t.onAudioPerformanceEvent.subscribe(function(e){var t=e.protocol,i=e.type,s=e.latency,o=e.player_type,u=e.host,a=e.bitrate,f=e.format;if("Flipper"!==o)return void n.warn("Ignoring audio performance event from flipper because the player_type was incorrect.",o);var l={protocol:t,type:i,latency:s,playerType:"Flipper",host:u,bitrate:a,format:f};r.reportManualEvent(l)}),e.providePlayer(t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.takeControlFlipperPlayer=r},function(e,t,n){"use strict";function r(e,t,n,r,o,u){function a(){var e=n.getDuration(),t=f();if(null!==e&&null!==t){var r=e-n.getPosition();s()+r>t&&(u.info("Releasing control because stream URL would expire before reaching end."),o({retryPlayer:!0}))}}function f(){if(!r.urlExpires)return null;var e=n.getDuration();return null===e?null:r.timeUrlRetrieved+e+105e3}function l(){var e=f();return null!==e&&e<=s()}u=i.logger.prefixLogger(u,"HTML5Player Controller"),n.onError.subscribe(function(t){t instanceof i.errors.NotSupportedError||(t instanceof e.errors.NetworkError&&l()?(u.info("Releasing control as a network error occurred, and the URL has expired."),o({retryPlayer:!0})):(u.error("Unexpected player error.",t),o({retryPlayer:!1})))}),r.urlExpires&&(n.onPlayIntent.subscribe(function(){return a()}),n.onSeekIntent.subscribe(function(){return a()})),t.providePlayer(n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=i.helpers.time.now;t.takeControlHTML5Player=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this._delayFactor=0,this._lastRequestTime=0}return e.prototype.getDelay=function(){var e=Date.now()-this._lastRequestTime;return this._lastRequestTime=Date.now(),this._delayFactor=Math.max(0,this._delayFactor-e/15e3),this._delayFactor+=1,Math.pow(2,this._delayFactor)},e}();t.DecayingExponentialDelayCalculator=r},function(e,t,n){"use strict";function r(e,t,n,r,o,u,a,f,l){function c(e){var i=a()||void 0,s={errorCode:e,log:t.getLog(),logId:n,trackId:r,protocol:i&&i.protocol,playerType:i?i.name:"MaestroUnknown",host:i&&i.host,bitrate:i&&i.bitrate,format:i&&(i.format||void 0),url:i&&i.url};u.debug("Generated audio error event.",s),o(s)}u=i.logger.prefixLogger(u,"ErrorGenerator"),e.onError.subscribe(function(e){if(!(l&&f&&s.isErrorWhichShouldTriggerURLRefresh(f,e))){var t,n;n=e instanceof i.errors.ProxyProvidedPlayerFatalError?e.getProvidedPlayerFatalError():e,t=n.getCode(),n instanceof i.errors.NotSupportedError||c(t)}})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(8);t.generateErrorEvents=r},function(e,t,n){"use strict";function r(e){return e.map(function(e){try{return JSON.stringify(e)}catch(t){return"<unavailable>"}})}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){void 0===e&&(e=200),this._bufferSize=e,this._log=[]}return e.prototype.getLog=function(){return this._log},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"debug",msg:e,data:r(t),time:Date.now()})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"info",msg:e,data:r(t),time:Date.now()})},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"warn",msg:e,data:r(t),time:Date.now()})},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this._push({level:"error",msg:e,data:r(t),time:Date.now()})},e.prototype._push=function(e){this._log.push(e)>this._bufferSize&&this._log.shift()},e}();t.LogCollector=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiMobile={scProtocol:"sc.api-mobile",maestroProtocol:{name:"sc.api-mobile"},maestroFormat:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encryptedHlsMp3={scProtocol:"encrypted-hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hlsMp3={scProtocol:"hls",scFormat:"mp3",maestroProtocol:{name:"hls"},maestroFormat:{mimeType:"application/x-mpegURL"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.httpMp3={scProtocol:"http",scFormat:"mp3",maestroProtocol:{name:"http"},maestroFormat:{mimeType:"audio/mpeg"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maestroChromecast={scProtocol:"maestro.chromecast",maestroProtocol:{name:"maestro.chromecast"},maestroFormat:{}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),i=n(26),s=n(25),o=n(24),u=n(28);t.renditions={httpMp3:r.httpMp3,hlsMp3:i.hlsMp3,encryptedHlsMp3:s.encryptedHlsMp3,apiMobile:o.apiMobile,maestroChromecast:u.maestroChromecast}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.helpers.time.now,s=function(){function e(){this._start=null,this._end=null}return e.prototype.start=function(){if(this.isComplete())throw new Error("Timer completed.");this._start=i()},e.prototype.isComplete=function(){return null!==this._end},e.prototype.stop=function(){if(null===this._start)throw new Error("Not started.");this._end=i()},e.prototype.getTime=function(){if(null===this._end)throw new Error("Not completed.");return this._end-this._start},e}();t.Timer=s},function(e,n){if(void 0===t){var r=new Error('Cannot find module "@sc/maestro-chromecast-player"');throw r.code="MODULE_NOT_FOUND",r}e.exports=t},function(e,t){if(void 0===n){var r=new Error('Cannot find module "@sc/maestro-flipper-player"');throw r.code="MODULE_NOT_FOUND",r}e.exports=n},function(e,t){if(void 0===r){var n=new Error('Cannot find module "@sc/maestro-hls-mse-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=r},function(e,t){if(void 0===i){var n=new Error('Cannot find module "@sc/maestro-html5-player"');throw n.code="MODULE_NOT_FOUND",n}e.exports=i},function(e,t){e.exports=s},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.1",t.buildNumber=315;var i=n(15);t.volumeAutomation=i.volumeAutomation;var s=n(4);t.BaseStreamUrlRetriever=s.BaseStreamUrlRetriever;var o=n(7);t.RequestError=o.RequestError;var u=n(5);t.Player=u.Player;var a=n(6);t.renditions=a.renditions,r(n(13)),r(n(14))}])})},function(e,t,n){!function(t,r){e.exports=r(n(0),n(1))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=36)}([function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.getCode=function(){return"GENERIC"},e}();t.RetrievalError=r},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.MSE_ERROR"},t}(i.errors.PlayerFatalError);t.MSEError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(t){var n=e.call(this)||this;return n._statusCode=t,n}return r(t,e),t.prototype.getStatusCode=function(){return this._statusCode},t.prototype.getCode=function(){return"UNACCEPTABLE_RESPONSE_STATUS_CODE"},t}(i.RetrievalError);t.UnacceptableResponseStatusCodeError=s},function(e,n){e.exports=t},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=function(e){function t(t){return e.call(this,"An error occurred trying to append to the buffer.",t)||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.APPEND_ERROR"},t}(i.MSEError);t.AppendError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=function(e){function t(t){return e.call(this,"An error occurred trying to initialize the buffer.",t)||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.INITIALIZE_ERROR"},t}(i.MSEError);t.InitializeError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return e.call(this,"A format could not be determined.")||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_FORMAT_DETERMINED_ERROR"},t}(i.errors.NotSupportedError);t.NoFormatDeterminedError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return e.call(this,"A transmuxer could not be found.")||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.NO_TRANSMUXER_ERROR"},t}(i.errors.NotSupportedError);t.NoTransmuxerError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(t){var n=e.call(this,"An error occurred when trying to retrieve a segment.",t)||this;return n._internalRetrievalError=t,n}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.RETRIEVAL_ERROR."+this._internalRetrievalError.getCode()},t}(i.errors.PlayerError);t.RetrievalError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return e.call(this,"The playlist type is not supported.")||this}return r(t,e),t.prototype.getCode=function(){return"HLS_MSE_PLAYER.UNSUPPORTED_PLAYLIST_TYPE_ERROR"},t}(i.errors.PlayerFatalError);t.UnsupportedPlaylistTypeError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"NO_DECRYPTOR"},t}(i.RetrievalError);t.NoDecryptorError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(t){var n=e.call(this)||this;return n._details=t,n}return r(t,e),t.prototype.getDetails=function(){return this._details},t.prototype.getCode=function(){return"PLAYLIST_PARSE"},t}(i.RetrievalError);t.PlaylistParseError=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getCode=function(){return"UNSUPPORTED_ENCRYPTION_ERROR"},t}(i.RetrievalError);t.UnsupportedEncryptionError=s},function(e,t,n){"use strict";function r(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=n(19),o=n(20),u=i.helpers.Promise,a={rate:44100,id:3},f=a.rate;t.MP3ToMP4={getInputFormat:function(){return{mimeType:"audio/mpeg",audioCodec:{id:"mp3"}}},getOutputFormat:function(){return{mimeType:"audio/mp4",audioCodec:{id:"mp3"}}},transmux:function(e){return new u(function(t,n){function i(e){u||(u=!0,n(e))}var u=!1;try{var l=[],c=new s.MP3Parser,h=new o.MP4Mux({audioTrackId:0,videoTrackId:-1,tracks:[{codecId:2,channels:2,samplerate:a.rate,samplesize:16,timescale:f}]});if(h.ondata=function(e){return l.push(e)},c.onFrame=function(e){try{var t=new Uint8Array(e.length+1),n=32;n|=a.id<<2,n|=2,n|=1,t[0]=n,t.set(e,1),h.pushPacket(8,t,0)}catch(r){i(r)}},c.push(e),c.close(),h.flush(),0===l.length)i(new Error("There was no output."));else{var p=l.shift();p?function(e){u||t(e)}({initData:p,data:r(l)}):i(new Error("No init data."))}}catch(d){i(d)}})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),i=n(6),s=n(2),o=n(7),u=n(8),a=n(9),f=n(10);!function(e){e.AppendError=r.AppendError,e.InitializeError=i.InitializeError,e.MSEError=s.MSEError,e.NoFormatDeterminedError=o.NoFormatDeterminedError,e.NoTransmuxerError=u.NoTransmuxerError,e.RetrievalError=a.RetrievalError,e.UnsupportedPlaylistTypeError=f.UnsupportedPlaylistTypeError}(t.errors||(t.errors={}))},function(e,t,n){"use strict";function r(e){return void 0!==e.mimeType}function i(e,t){void 0===t&&(t={});var n=e.mimeType||t.mimeType,r=e.audioCodec||t.audioCodec,i=e.videoCodec||t.videoCodec,s=x([r,i]);return n+(s.length>0?'; codecs="'+s.map(function(e){return e.id}).join(",")+'"':"")}var s=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),u=n(4),a=n(35),f=n(14),l=n(28),c=n(32),h=n(30),p=n(29),d=n(10),v=n(5),m=n(6),g=n(9),y=n(8),b=n(7),w=n(1),E=o.helpers.find,S=o.helpers.Promise,x=o.helpers.compact,T=o.helpers.time.now,N=o.helpers.deferred.buildDeferred,C=u.helpers.timeRanges.normalizeTimeRanges,k=o.errors.DependencyError,L=o.errors.PlayerFatalError,A=o.errors.URLUpdateError,O=o.eventDispatcher.EventDispatcher,M=o.logger.prefixLogger,_=o.helpers.abortableJob.abortedError,D=o.helpers.browser.getSafariVersion(),P=o.helpers.browser.isSafari(),H=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._onPlaylistRequestQueued=new O,r._onPlaylistRequestStart=new O,r._onPlaylistRetrieved=new O,r._onPlaylistRequestFailed=new O,r._onKeyRequestQueued=new O,r._onKeyRequestStart=new O,r._onKeyRetrieved=new O,r._onKeyRequestFailed=new O,r._onPlaylistParseStart=new O,r._onPlaylistParseEnd=new O,r._onSegmentRequestQueued=new O,r._onSegmentRequestStart=new O,r._onSegmentRetrieved=new O,r._onSegmentRequestFailed=new O,r._onSegmentTransmuxStart=new O,r._onSegmentTransmuxEnd=new O,r._onSegmentDecryptionStart=new O,r._onSegmentDecryptionEnd=new O,r._onSegmentReady=new O,r._onSegmentAppendQueued=new O,r._onSegmentAppendEnd=new O,r._playlist=null,r._playlistSegmentRetriever=null,r._initialPlaylistRetrieveCompleted=!1,r._mse=null,r._simpleMSE=null,r._retrieveDurationDeferred=N(),r._html5PlayerReady=!1,r._startPositionOffset=0,r._transmuxerAndMSEType=null,r._lastSegmentAppended=null,r._maxBufferLength=null,r._cacheSize=null,r._onFirstSegmentRetrieved=null,r._seekAttemptTimer=null,r._seekMetadataEventHandle=null,r._playlistDuration=null,r._logger=M(r._logger,"HLSMSEPlayer"),r.onPlaylistRequestQueued=r._onPlaylistRequestQueued.getHandle(),r.onPlaylistRequestStart=r._onPlaylistRequestStart.getHandle(),r.onPlaylistRetrieved=r._onPlaylistRetrieved.getHandle(),r.onPlaylistRequestFailed=r._onPlaylistRequestFailed.getHandle(),r.onKeyRequestQueued=r._onKeyRequestQueued.getHandle(),r.onKeyRequestStart=r._onKeyRequestStart.getHandle(),r.onKeyRetrieved=r._onKeyRetrieved.getHandle(),r.onKeyRequestFailed=r._onKeyRequestFailed.getHandle(),r.onPlaylistParseStart=r._onPlaylistParseStart.getHandle(),r.onPlaylistParseEnd=r._onPlaylistParseEnd.getHandle(),r.onSegmentRequestQueued=r._onSegmentRequestQueued.getHandle(),r.onSegmentRequestStart=r._onSegmentRequestStart.getHandle(),r.onSegmentRetrieved=r._onSegmentRetrieved.getHandle(),r.onSegmentRequestFailed=r._onSegmentRequestFailed.getHandle(),r.onSegmentTransmuxStart=r._onSegmentTransmuxStart.getHandle(),r.onSegmentTransmuxEnd=r._onSegmentTransmuxEnd.getHandle(),r.onSegmentDecryptionStart=r._onSegmentDecryptionStart.getHandle(),r.onSegmentDecryptionEnd=r._onSegmentDecryptionEnd.getHandle(),r.onSegmentReady=r._onSegmentReady.getHandle(),r.onSegmentAppendQueued=r._onSegmentAppendQueued.getHandle(),r.onSegmentAppendEnd=r._onSegmentAppendEnd.getHandle(),r.__descriptor=t,r.__playerDependencies=n,r._url=t.getUrl(),r}return s(t,e),t.prototype.getBufferedTimeRanges=function(){var e=this._playlistSegmentRetriever;return e?C(e.getSegmentsWithData().map(function(e){return e.segment.getTimeRange()})):[]},t.prototype.getMaxBufferLength=function(){return this._maxBufferLength},t.prototype.getBufferController=function(){var e=this;return{setMaxBufferLength:function(t){if(t<0)throw new Error("Max buffer length cannot be < 0.");e._logger.debug("Updating max buffer length.",t),e._maxBufferLength=t,e._playlistSegmentRetriever?e._playlistSegmentRetriever.updateMaxBufferLength(t):e._logger.debug("Cannot update right now. Playlist segment retriever doesn't exist.")}}},t.prototype.getUrlController=function(){var e=this;return{updateUrl:function(t){if(e._logger.debug("Updating URL.",t),e._url=t,!e._playlist)return void e._logger.debug("Cannot update right now. Playlist doesn't exist yet.");e._playlistRetrieveJob&&(e._playlistRetrieveJob.abort(),e._playlistRetrieveJob=null,e._logger.debug("Aborted playlist retrieve job.")),e._playlistSegmentRetriever&&(e._playlistSegmentRetriever.switchPlaylist(null),e._logger.debug("Removed current URL.")),e._playlist=null,e._retrievePlaylist()}}},t.prototype.getMemoryCacheMaxSize=function(){return null!==this._cacheSize?this._cacheSize:1e8},t.prototype.getMemoryCacheUsage=function(){return this._playlistSegmentRetriever?this._playlistSegmentRetriever.getCacheUsage():0},t.prototype.getMemoryCacheController=function(){var e=this;return{setMaxCacheSize:function(t){if(t<0)throw new Error("Max size cannot be < 0.");e._logger.debug("Updating maximum cache size.",t),e._cacheSize=t,e._playlistSegmentRetriever&&e._playlistSegmentRetriever.updateCacheSize(t)}}},t.prototype._canPlay=function(){var t=this;return l.MSE.isSupported()?e.prototype._canPlay.call(this).then(function(e){if(!0!==e)return S.resolve(e);var n=t.__playerDependencies.expectedSegmentFormat;if(!n||!r(n))return t._logger.debug("Format could not be determined."),S.resolve(new b.NoFormatDeterminedError);var s=t._findTransmuxer(n);if(!s)return t._logger.debug("No transmuxer found."),S.resolve(new y.NoTransmuxerError);var o=s.getOutputFormat(),u=n;return t._transmuxerAndMSEType={transmuxer:s,mseType:i(o,u)},S.resolve(!0)}):(this._logger.debug("MSE not supported."),S.resolve(!1))},t.prototype._canPlayProtocol=function(e){return"hls"===e.name},t.prototype._canPlayType=function(e){return"application/x-mpegURL"===e},t.prototype._retrieveDuration=function(){return this._retrieveDurationDeferred.promise},t.prototype._signalReady=function(){this._html5PlayerReady=!0,this._initialPlaylistRetrieveCompleted&&e.prototype._signalReady.call(this)},t.prototype._initialize=function(){var t=this.__playerDependencies;if(null===this._maxBufferLength)if(void 0!==t.maxBufferLength){if(t.maxBufferLength<0)return void this._triggerError(new k("maxBufferLength cannot be < 0."));this._maxBufferLength=t.maxBufferLength}else this._maxBufferLength=3e4;if(this._logger.debug("Initialized max buffer length.",this._maxBufferLength),null===this._cacheSize)if(void 0!==t.memoryCacheSize){if(t.memoryCacheSize<0)return void this._triggerError(new k("memoryCacheSize cannot be < 0."));this._cacheSize=t.memoryCacheSize}else this._cacheSize=1e8;this._logger.debug("Initialized cache size.",this._cacheSize),e.prototype._initialize.call(this),this._retrievePlaylist()},t.prototype._initMediaElement=function(t,n){if(this._simpleMSE&&(this._simpleMSE.kill(),this._simpleMSE=null,this._logger.debug("Killed SimpleMSE.")),this._mse&&(this._mse.kill(),this._mse=null,this._logger.debug("Killed MSE.")),null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled seek attempt timer.")),this._onFirstSegmentRetrieved=null,this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null),null===n)e.prototype._initMediaElement.call(this,t,null);else{this._initMSE();var r=this._mse.getUrl();this._logger.debug("Setting MSE url.",r),e.prototype._initMediaElement.call(this,t,r)}},t.prototype._handleEndedEvent=function(){},t.prototype._shouldBeEnded=function(){if(e.prototype._shouldBeEnded.call(this))return!0;if(!this.getMediaElement())return!1;var t=this._duration;return this._stallDetected&&null!==t&&this._getTruePosition()>=t-400},t.prototype._getTruePosition=function(){if(!this.getMediaElement())throw new Error("Media element should exist.");return this._startPositionOffset+this._getMediaElementPosition()},t.prototype._handleSeekChange=function(t){this._playlistSegmentRetriever&&(this._logger.debug("Explicitly updating playlist segment retriever, as seek requested."),this._playlistSegmentRetriever.update()),e.prototype._handleSeekChange.call(this,t)},t.prototype._performSeek=function(t,n){var r=this,i=this,s=i._simpleMSE,o=i._mse,u=this.getMediaElement();if(!s)throw new Error("SimpleMSE should exist.");if(!o)throw new Error("MSE should exist.");if(!u)throw new Error("Media element should exist.");var a=!u.paused;null!==this._seekAttemptTimer&&(window.clearTimeout(this._seekAttemptTimer),this._seekAttemptTimer=null,this._logger.debug("Cancelled previous seek attempt timer.")),this._seekMetadataEventHandle&&(this._seekMetadataEventHandle.remove(),this._seekMetadataEventHandle=null,this._logger.debug("Removed previous loaded metadata event handler.")),s.kill(),o.kill(),this._logger.debug("SimpleMSE and MSE destroyed."),this._startPositionOffset=t;var f=null;this._onFirstSegmentRetrieved=function(e){return f=e},this._logger.debug("Initializing MSE and SimpleMSE for new position."),this._initMSE();var l=this._mse.getUrl();if(this._logger.debug("Updated media element MSE src.",l),e.prototype._initMediaElement.call(this,u,l),a){this._logger.debug("Calling play() on media element as it was playing previously.");var c=u.play();c&&c.catch&&c.catch(function(e){"AbortError"!==e.name&&(r._logger.error("Unexpected play() error.",e),r._triggerError(new L("Exception from calling play() after seek.",e)))})}var h=function(e){P&&e<50&&(r._logger.debug("Tweaking offset to fix issue in Safari."),e=50);var t=function(){r._startPositionOffset=Math.max(0,r._startPositionOffset-e),r._logger.debug("Updated start position offset.",r._startPositionOffset,e);var t=function(){r._seekAttemptTimer=null,r._logger.debug("Attempting to seek to the required offset.",e),u.currentTime=e/1e3;var i=1e3*u.currentTime;Math.abs(i-e)<=100?(r._logger.debug("Seeked to the required offset.",i),n()):(r._logger.warn("Seek attempt failed. Trying again shortly.",i),r._seekAttemptTimer=window.setTimeout(t,50))};t()};r._onFirstSegmentRetrieved=null,u.readyState===u.HAVE_METADATA?(r._logger.debug("Media element has metadata. Seeking to offset."),t()):(r._logger.debug("Media element has not loaded metadata. Waiting for metadata..."),r._seekMetadataEventHandle=r._listenToOnce("loadedmetadata",function(){r._seekMetadataEventHandle=null,r._logger.debug("Got metadata. Seeking to offset."),t()},{earlyAttach:!0}))};null!==f?(this._logger.debug("First segment already retrieved. Preparing to seek to initial offset."),h(f)):(this._logger.debug("Waiting for first segment to be retrieved."),this._onFirstSegmentRetrieved=function(e){r._logger.debug("First segment retrieved. Preparing to seek to initial offset."),h(e)})},t.prototype._kill=function(){this._simpleMSE&&(this._logger.debug("Killing SimpleMSE."),this._simpleMSE.kill()),this._mse&&(this._logger.debug("Killing MSE."),this._mse.kill()),this._playlistRetrieveJob&&(this._logger.debug("Aborting playlist retrieve job."),this._playlistRetrieveJob.abort()),this._playlistSegmentRetriever&&(this._logger.debug("Killing playlist segment retriever."),this._playlistSegmentRetriever.kill()),e.prototype._kill.call(this)},t.prototype._initMSE=function(){var e=this;if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");this._lastSegmentAppended=null;var t=!1;D&&D.major<10&&this._transmuxerAndMSEType.transmuxer===f.MP3ToMP4&&(t=!0);var n=new l.MSE(this._transmuxerAndMSEType.mseType,this._logger,t),r=new c.SimpleMSE(n,function(){return e.getSegmentDataToAppendNext()},function(){return e._getMediaElementPosition()},function(t){e._triggerError(new v.AppendError(t))},this._logger);r.onAppendQueued.subscribe(this._onSegmentAppendQueued.dispatch),r.onAppendEnd.subscribe(this._onSegmentAppendEnd.dispatch),this._simpleMSE=r,r.start(),this._mse=n,n.whenInitialized().catch(function(t){t!==l.killedError&&(e._logger.error("Error during mse initialization.",t),e._triggerError(new m.InitializeError(t)))})},t.prototype._getMediaElementPosition=function(){var e=this.getMediaElement();if(!e)throw new Error("No media element.");return 1e3*e.currentTime},t.prototype._whenPlaylistRetrieved=function(){var t=this,n=this._playlist;if(!n)throw new Error("Playlist should have been retrieved.");var r=!this._initialPlaylistRetrieveCompleted;if(r)this._initialPlaylistRetrieveCompleted=!0,this._playlistDuration=n.getTotalDuration(),this._retrieveDurationDeferred.resolve(this._playlistDuration);else{var i=n.getTotalDuration();if(this._playlistDuration!==i)return this._logger.error("The duration from the new URL did not match the previous one."),void this._triggerError(new A("The duration from the new URL did not match the previous one.",{oldDuration:this._playlistDuration,newDuration:i}))}if(!this._transmuxerAndMSEType)throw new Error("Transmuxer should have been configured.");if(this._playlistSegmentRetriever)this._logger.debug("Switching playlist for playlist segment retriever."),this._playlistSegmentRetriever.switchPlaylist(n);else{var s=this._maxBufferLength;if(null===s)throw new Error("maxBufferLength should have been initiaized by now.");this._logger.debug("Creating playlist segment retriever.");var o=this._cacheSize;if(null===o)throw new Error("cacheSize should be set.");var u=new p.PlaylistSegmentRetriever({playlist:n,getPosition:function(){return t.getPosition()},maxBufferLength:s,cacheSize:o,transmuxer:this._transmuxerAndMSEType.transmuxer,logger:this._logger});u.onSegmentRequestQueued.subscribe(this._onSegmentRequestQueued.dispatch),u.onSegmentRequestStart.subscribe(this._onSegmentRequestStart.dispatch),u.onSegmentRetrieved.subscribe(this._onSegmentRetrieved.dispatch),u.onSegmentRequestFailed.subscribe(this._onSegmentRequestFailed.dispatch),u.onSegmentDecryptionStart.subscribe(this._onSegmentDecryptionStart.dispatch),u.onSegmentDecryptionEnd.subscribe(this._onSegmentDecryptionEnd.dispatch),u.onSegmentTransmuxStart.subscribe(this._onSegmentTransmuxStart.dispatch),u.onSegmentTransmuxEnd.subscribe(this._onSegmentTransmuxEnd.dispatch),this._playlistSegmentRetriever=u,u.onError.subscribe(function(e){t._logger.error("Error from playlist segment retriever.",e),e instanceof w.RetrievalError?t._triggerError(new g.RetrievalError(e)):t._triggerError(new L("Unexpected error when trying to retrieve segment.",e))}),u.onSegmentReady.subscribe(function(e){var n=e.eventRepresentation,r=T();t._logger.debug("Segment ready.",n),function(){var e=t._simpleMSE;if(e&&e.waitingForSegmentData()){var r=t.getSegmentDataToAppendNext();r&&(t._logger.debug("Providing segment to SimpleMSE.",n),e.provideNextSegmentData(r))}}(),t._onSegmentReady.dispatch({segment:n},{time:r})})}this._initialPlaylistRetrieveCompleted=!0,r&&this._html5PlayerReady&&e.prototype._signalReady.call(this)},t.prototype._retrievePlaylist=function(){var e=this;if(this._playlist)throw new Error("Playlist already exists.");var t=this.__playerDependencies,n=t.playlistLoader,r=t.segmentLoader,i=t.keyLoader,s=t.expectedSegmentFormat,o=t.isPlaylistResponseCodeAcceptable,u=t.isPlaylistResponseCodeRetryable,a=t.isSegmentResponseCodeAcceptable,f=t.isSegmentResponseCodeRetryable,l=t.isKeyResponseCodeAcceptable,c=t.isKeyResponseCodeRetryable;this._logger.debug("Creating playlist.",this._url);var p=new h.Playlist({url:this._url,segmentFormat:s,playlistLoader:n,segmentLoader:r,keyLoader:i,isPlaylistResponseCodeAcceptable:o,isPlaylistResponseCodeRetryable:u,isSegmentResponseCodeAcceptable:a,isSegmentResponseCodeRetryable:f,isKeyResponseCodeAcceptable:l,isKeyResponseCodeRetryable:c,logger:this._logger});p.onPlaylistRequestQueued.subscribe(this._onPlaylistRequestQueued.dispatch),p.onPlaylistRequestStart.subscribe(this._onPlaylistRequestStart.dispatch),p.onPlaylistRetrieved.subscribe(this._onPlaylistRetrieved.dispatch),p.onPlaylistRequestFailed.subscribe(this._onPlaylistRequestFailed.dispatch),p.onKeyRequestQueued.subscribe(this._onKeyRequestQueued.dispatch),p.onKeyRequestStart.subscribe(this._onKeyRequestStart.dispatch),p.onKeyRetrieved.subscribe(this._onKeyRetrieved.dispatch),p.onKeyRequestFailed.subscribe(this._onKeyRequestFailed.dispatch),p.onPlaylistParseStart.subscribe(this._onPlaylistParseStart.dispatch),p.onPlaylistParseEnd.subscribe(this._onPlaylistParseEnd.dispatch),this._playlist=p,this._playlistRetrieveJob=this._playlist.retrieve(),this._playlistRetrieveJob.onCompletion(function(){var t=e._playlist.getType();t!==h.PlaylistType.VOD?(e._logger.error("Unsupported playlist type.",t),e._triggerError(new d.UnsupportedPlaylistTypeError)):(e._logger.debug("Playlist retrieved."),e._whenPlaylistRetrieved())}),this._playlistRetrieveJob.onError(function(t){t!==_&&(e._logger.error("Error when retrieving playlist.",t),t instanceof w.RetrievalError?e._triggerError(new g.RetrievalError(t)):e._triggerError(new L("Unexpected error when retrieving playlist.",t)))})},t.prototype._findTransmuxer=function(e){var t=a.TransmuxerFactory.retrieveTransmuxers(e);this._logger.info("Finding a transmuxer...");var n=E(t,function(t){return l.MSE.isSupported(i(t.getOutputFormat(),e))})||null;return n?this._logger.info("Transmuxer found."):this._logger.warn("No transmuxer found."),n},t.prototype.getSegmentDataToAppendNext=function(){this._logger.debug("Looking for segment to append next.");var e=this._playlistSegmentRetriever;if(!e)return this._logger.debug("No segment retriever."),null;var t=this._lastSegmentAppended;if(t){var n=e.getSegmentsWithData(),r=n[n.map(function(e){return e.segment}).indexOf(t)+1];return r?(this._logger.debug("Found segment.",r.eventRepresentation),this._lastSegmentAppended=r.segment,{data:r.data,eventRepresentation:r.eventRepresentation}):(this._logger.debug("No segment found."),null)}var i=this.getPosition(),r=E(e.getSegmentsWithData(),function(e){return e.segment.getTimeRange().containsTime(i)});if(!r)return this._logger.debug("No segment found."),null;var s=i-r.segment.getTimeRange().start;if(!this.getMediaElement())throw new Error("Media element should exist.");this._logger.debug("Found initial segment.",r.eventRepresentation),this._lastSegmentAppended=r.segment,this._onFirstSegmentRetrieved&&this._onFirstSegmentRetrieved(s);var o=r.data,u=r.initData,a=o;return u&&(this._logger.debug("Prepending init data."),a=new Uint8Array(u.length+o.length),a.set(u,0),a.set(o,u.length)),{data:a,eventRepresentation:r.eventRepresentation}},t}(u.HTML5Player);t.HLSMSEPlayer=H},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),i=n(12),s=n(1),o=n(3),u=n(13);!function(e){e.NoDecryptorError=r.NoDecryptorError,e.PlaylistParseError=i.PlaylistParseError,e.RetrievalError=s.RetrievalError,e.UnacceptableResponseStatusCodeError=o.UnacceptableResponseStatusCodeError,e.UnsupportedEncryptionError=u.UnsupportedEncryptionError}(t.retrievalErrors||(t.retrievalErrors={}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.AESDecryptor=function(){function e(){r(this,e),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return i(e,[{key:"uint8ArrayToUint32Array_",value:function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<n.length;r++)n[r]=t.getUint32(4*r);return n}},{key:"initTable",value:function(){var e=this.sBox,t=this.invSBox,n=this.subMix[0],r=this.subMix[1],i=this.subMix[2],s=this.subMix[3],o=this.invSubMix[0],u=this.invSubMix[1],a=this.invSubMix[2],f=this.invSubMix[3],l=new Uint32Array(256),c=0,h=0,p=0;for(p=0;p<256;p++)l[p]=p<128?p<<1:p<<1^283;for(p=0;p<256;p++){var d=h^h<<1^h<<2^h<<3^h<<4;d=d>>>8^255&d^99,e[c]=d,t[d]=c;var v=l[c],m=l[v],g=l[m],y=257*l[d]^16843008*d;n[c]=y<<24|y>>>8,r[c]=y<<16|y>>>16,i[c]=y<<8|y>>>24,s[c]=y,y=16843009*g^65537*m^257*v^16843008*c,o[d]=y<<24|y>>>8,u[d]=y<<16|y>>>16,a[d]=y<<8|y>>>24,f[d]=y,c?(c=v^l[l[l[g^v]]],h^=l[l[h]]):c=h=1}}},{key:"expandKey",value:function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var s=this.ksRows=4*(i+6+1),o=void 0,u=void 0,a=this.keySchedule=new Uint32Array(this.ksRows),f=this.invKeySchedule=new Uint32Array(this.ksRows),l=this.sBox,c=this.rcon,h=this.invSubMix[0],p=this.invSubMix[1],d=this.invSubMix[2],v=this.invSubMix[3],m=void 0,g=void 0;for(o=0;o<s;o++)o<i?m=a[o]=t[o]:(g=m,o%i==0?(g=g<<8|g>>>24,g=l[g>>>24]<<24|l[g>>>16&255]<<16|l[g>>>8&255]<<8|l[255&g],g^=c[o/i|0]<<24):i>6&&o%i==4&&(g=l[g>>>24]<<24|l[g>>>16&255]<<16|l[g>>>8&255]<<8|l[255&g]),a[o]=m=(a[o-i]^g)>>>0);for(u=0;u<s;u++)o=s-u,g=3&u?a[o]:a[o-4],f[u]=u<4||o<=4?g:h[l[g>>>24]]^p[l[g>>>16&255]]^d[l[g>>>8&255]]^v[l[255&g]],f[u]=f[u]>>>0}}},{key:"networkToHostOrderSwap",value:function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24}},{key:"decrypt",value:function(e,t,n){for(var r,i,s=this.keySize+6,o=this.invKeySchedule,u=this.invSBox,a=this.invSubMix[0],f=this.invSubMix[1],l=this.invSubMix[2],c=this.invSubMix[3],h=this.uint8ArrayToUint32Array_(n),p=h[0],d=h[1],v=h[2],m=h[3],g=new Int32Array(e),y=new Int32Array(g.length),b=void 0,w=void 0,E=void 0,S=void 0,x=void 0,T=void 0,N=void 0,C=void 0,k=void 0,L=void 0,A=void 0,O=void 0;t<g.length;){for(k=this.networkToHostOrderSwap(g[t]),L=this.networkToHostOrderSwap(g[t+1]),A=this.networkToHostOrderSwap(g[t+2]),O=this.networkToHostOrderSwap(g[t+3]),x=k^o[0],T=O^o[1],N=A^o[2],C=L^o[3],r=4,i=1;i<s;i++)b=a[x>>>24]^f[T>>16&255]^l[N>>8&255]^c[255&C]^o[r],w=a[T>>>24]^f[N>>16&255]^l[C>>8&255]^c[255&x]^o[r+1],E=a[N>>>24]^f[C>>16&255]^l[x>>8&255]^c[255&T]^o[r+2],S=a[C>>>24]^f[x>>16&255]^l[T>>8&255]^c[255&N]^o[r+3],x=b,T=w,N=E,C=S,r+=4;b=u[x>>>24]<<24^u[T>>16&255]<<16^u[N>>8&255]<<8^u[255&C]^o[r],w=u[T>>>24]<<24^u[N>>16&255]<<16^u[C>>8&255]<<8^u[255&x]^o[r+1],E=u[N>>>24]<<24^u[C>>16&255]<<16^u[x>>8&255]<<8^u[255&T]^o[r+2],S=u[C>>>24]<<24^u[x>>16&255]<<16^u[T>>8&255]<<8^u[255&N]^o[r+3],r+=3,y[t]=this.networkToHostOrderSwap(b^p),y[t+1]=this.networkToHostOrderSwap(S^d),y[t+2]=this.networkToHostOrderSwap(E^v),y[t+3]=this.networkToHostOrderSwap(w^m),p=k,d=L,v=A,m=O,t+=4}return y.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),e}()},function(e,t,n){"use strict";function r(){this.buffer=null,this.bufferSize=0}t.__esModule=!0,t.MP3Parser=r;var i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],s=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];r.prototype.push=function(e){var t;if(this.bufferSize>0){var n=e.length+this.bufferSize;if(!this.buffer||this.buffer.length<n){var r=new Uint8Array(n);this.bufferSize>0&&r.set(this.buffer.subarray(0,this.bufferSize)),this.buffer=r}this.buffer.set(e,this.bufferSize),this.bufferSize=n,e=this.buffer,t=n}else t=e.length;for(var i,s=0;s<t&&(i=this._parse(e,s,t))>0;)s+=i;var o=t-s;o>0&&(!this.buffer||this.buffer.length<o?this.buffer=new Uint8Array(e.subarray(s,t)):this.buffer.set(e.subarray(s,t))),this.bufferSize=o},r.prototype._parse=function(e,t,n){if(t+2>n)return-1;if(255===e[t]||224==(224&e[t+1])){if(t+24>n)return-1;var r=e[t+1]>>3&3,o=e[t+1]>>1&3,u=e[t+2]>>4&15,a=e[t+2]>>2&3,f=!!(2&e[t+2]);if(1!==r&&0!==u&&15!==u&&3!==a){var l=3===r?3-o:3===o?3:4,c=1e3*i[14*l+u-1],h=3===r?0:2===r?1:2,p=s[3*h+a],d=f?1:0,v=3===o?(3===r?12:6)*c/p+d<<2:(3===r?144:72)*c/p+d|0;return t+v>n?-1:(this.onFrame&&this.onFrame(e.subarray(t,t+v)),v)}}for(var m=t+2;m<n;){if(255===e[m-1]&&224==(224&e[m]))return this.onNoise&&this.onNoise(e.subarray(t,m-1)),m-t-1;m++}return-1},r.prototype.close=function(){this.bufferSize>0&&this.onNoise&&this.onNoise(this.buffer.subarray(0,this.bufferSize)),this.buffer=null,this.bufferSize=0,this.onClose&&this.onClose()}},function(e,t,n){"use strict";t.__esModule=!0;var r,i,s=function(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)};!function(e){!function(e){function t(e){for(var t=new Uint8Array(4*e.length),n=0,r=0,i=e.length;r<i;r++){var s=e.charCodeAt(r);if(s<=127)t[n++]=s;else{if(55296<=s&&s<=56319){var o=e.charCodeAt(r+1);56320<=o&&o<=57343&&(s=((1023&s)<<10)+(1023&o)+65536,++r)}0!=(4292870144&s)?(t[n++]=248|s>>>24&3,t[n++]=128|s>>>18&63,t[n++]=128|s>>>12&63,t[n++]=128|s>>>6&63,t[n++]=128|63&s):0!=(4294901760&s)?(t[n++]=240|s>>>18&7,t[n++]=128|s>>>12&63,t[n++]=128|s>>>6&63,t[n++]=128|63&s):0!=(4294965248&s)?(t[n++]=224|s>>>12&15,t[n++]=128|s>>>6&63,t[n++]=128|63&s):(t[n++]=192|s>>>6&31,t[n++]=128|63&s)}}return t.subarray(0,n)}function n(e){for(var t=0,n="";t<e.length;){var r=255&e[t++];if(r<=127)n+=String.fromCharCode(r);else{var i=192,s=5;do{if((r&(i>>1|128))===i)break;i=i>>1|128,--s}while(s>=0);if(s<=0)throw new Error("Invalid UTF8 character");for(var o=r&(1<<s)-1,u=5;u>=s;--u){var a=e[t++];if(128!=(192&a))throw new Error("Invalid UTF8 character sequence");o=o<<6|63&a}n+=o>=65536?String.fromCharCode(o-65536>>10&1023|55296,1023&o|56320):String.fromCharCode(o)}}return n}e.utf8decode=t,e.utf8encode=n}(e.StringUtilities||(e.StringUtilities={}))}(i||(i={})),function(e){!function(e){function t(e){for(var t=e.length>>1,n=new Uint8Array(t),r=0;r<t;r++)n[r]=parseInt(e.substr(2*r,2),16);return n}function n(e){var t,n=0,r=o.RAW,i=e[n],s=i>>4,c=i>>2&3,h=2&i?16:8,p=1&i?2:1;switch(n++,s){case l:r=e[n++],t=1024;break;case f:var d=e[n+1]>>3&3,v=e[n+1]>>1&3;t=1===v?3===d?1152:576:3===v?384:1152}return{codecDescription:a[s],codecId:s,data:e.subarray(n),rate:u[c],size:h,channels:p,samples:t,packetType:r}}function r(e){var t=0,n=e[t]>>4,r=15&e[t];t++;var i={frameType:n,codecId:r,codecDescription:h[r]};switch(r){case d:var s=e[t++];i.packetType=s,i.compositionTime=(e[t]<<24|e[t+1]<<16|e[t+2]<<8)>>8,t+=3;break;case p:i.packetType=v.NALU,i.horizontalOffset=e[t]>>4&15,i.verticalOffset=15&e[t],i.compositionTime=0,t++}return i.data=e.subarray(t),i}function i(e){var t,n,r=[],i=-1,s=-1,o=+e.asGetPublicProperty("duration"),u=e.asGetPublicProperty("audiocodecid");switch(u){case f:case"mp3":t="mp3",n=f;break;case l:case"mp4a":t="mp4a",n=l;break;default:if(!isNaN(u))throw new Error("Unsupported audio codec: "+u);t=null,n=-1}var a,c,h=e.asGetPublicProperty("videocodecid");switch(h){case p:case"vp6f":a="vp6f",c=p;break;case d:case"avc1":a="avc1",c=d;break;default:if(!isNaN(h))throw new Error("Unsupported video codec: "+h);a=null,c=-1}var v=null===t?null:{codecDescription:t,codecId:n,language:"und",timescale:+e.asGetPublicProperty("audiosamplerate")||44100,samplerate:+e.asGetPublicProperty("audiosamplerate")||44100,channels:+e.asGetPublicProperty("audiochannels")||2,samplesize:16},m=null===a?null:{codecDescription:a,codecId:c,language:"und",timescale:6e4,framerate:+e.asGetPublicProperty("videoframerate")||+e.asGetPublicProperty("framerate"),width:+e.asGetPublicProperty("width"),height:+e.asGetPublicProperty("height")},g=e.asGetPublicProperty("trackinfo");if(g)for(var y=0;y<g.length;y++){var b=g[y],w=b.asGetPublicProperty("sampledescription")[0];w.asGetPublicProperty("sampletype")===u?(v.language=b.asGetPublicProperty("language"),v.timescale=+b.asGetPublicProperty("timescale")):w.asGetPublicProperty("sampletype")===h&&(m.language=b.asGetPublicProperty("language"),m.timescale=+b.asGetPublicProperty("timescale"))}return m&&(s=r.length,r.push(m)),v&&(i=r.length,r.push(v)),{tracks:r,duration:o,audioTrackId:i,videoTrackId:s}}function s(e){var t=[];return e.audioTrackId>=0&&t.push({tracks:[e.tracks[e.audioTrackId]],duration:e.duration,audioTrackId:0,videoTrackId:-1}),e.videoTrackId>=0&&t.push({tracks:[e.tracks[e.videoTrackId]],duration:e.duration,audioTrackId:-1,videoTrackId:0}),t}var o,u=[5500,11025,22050,44100],a=["PCM","ADPCM","MP3","PCM le","Nellymouser16","Nellymouser8","Nellymouser","G.711 A-law","G.711 mu-law",null,"AAC","Speex","MP3 8khz"],f=2,l=10;!function(e){e[e.HEADER=0]="HEADER",e[e.RAW=1]="RAW"}(o||(o={}));var c,h=[null,"JPEG","Sorenson","Screen","VP6","VP6 alpha","Screen2","AVC"],p=4,d=7;!function(e){e[e.KEY=1]="KEY",e[e.INNER=2]="INNER",e[e.DISPOSABLE=3]="DISPOSABLE",e[e.GENERATED=4]="GENERATED",e[e.INFO=5]="INFO"}(c||(c={}));var v;!function(e){e[e.HEADER=0]="HEADER",e[e.NALU=1]="NALU",e[e.END=2]="END"}(v||(v={}));var m;!function(e){e[e.CAN_GENERATE_HEADER=0]="CAN_GENERATE_HEADER",e[e.NEED_HEADER_DATA=1]="NEED_HEADER_DATA",e[e.MAIN_PACKETS=2]="MAIN_PACKETS"}(m||(m={}));var g=function(){function i(e){var t=this;this.oncodecinfo=function(e){},this.ondata=function(e){throw new Error("MP4Mux.ondata is not set")},this.metadata=e,this.trackStates=this.metadata.tracks.map(function(e,n){var r={trackId:n+1,trackInfo:e,cachedDuration:0,samplesProcessed:0,initializationData:[]};return t.metadata.audioTrackId===n&&(t.audioTrackState=r),t.metadata.videoTrackId===n&&(t.videoTrackState=r),r},this),this._checkIfNeedHeaderData(),this.filePos=0,this.cachedPackets=[],this.chunkIndex=0}return i.prototype.pushPacket=function(e,t,i){switch(this.state===m.CAN_GENERATE_HEADER&&this._tryGenerateHeader(),e){case 8:var s=this.audioTrackState,u=n(t);if(!s||s.trackInfo.codecId!==u.codecId)throw new Error("Unexpected audio packet codec: "+u.codecDescription);switch(u.codecId){default:throw new Error("Unsupported audio codec: "+u.codecDescription);case f:break;case l:if(u.packetType===o.HEADER)return void s.initializationData.push(u.data)}this.cachedPackets.push({packet:u,timestamp:i,trackId:s.trackId});break;case 9:var a=this.videoTrackState,c=r(t);if(!a||a.trackInfo.codecId!==c.codecId)throw new Error("Unexpected video packet codec: "+c.codecDescription);switch(c.codecId){default:throw new Error("unsupported video codec: "+c.codecDescription);case p:break;case d:if(c.packetType===v.HEADER)return void a.initializationData.push(c.data)}this.cachedPackets.push({packet:c,timestamp:i,trackId:a.trackId});break;default:throw new Error("unknown packet type: "+e)}this.state===m.NEED_HEADER_DATA&&this._tryGenerateHeader(),this.cachedPackets.length>=50&&this.state===m.MAIN_PACKETS&&this._chunk()},i.prototype.flush=function(){this.cachedPackets.length>0&&this._chunk()},i.prototype._checkIfNeedHeaderData=function(){this.trackStates.some(function(e){return e.trackInfo.codecId===l||e.trackInfo.codecId===d})?this.state=m.NEED_HEADER_DATA:this.state=m.CAN_GENERATE_HEADER},i.prototype._tryGenerateHeader=function(){if(this.trackStates.every(function(e){switch(e.trackInfo.codecId){case l:case d:return e.initializationData.length>0;default:return!0}})){for(var n=["isom"],r=[],i=0;i<this.trackStates.length;i++){var s,o=this.trackStates[i],u=o.trackInfo;switch(u.codecId){case l:var a=o.initializationData[0];s=new e.Iso.AudioSampleEntry("mp4a",1,u.channels,u.samplesize,u.samplerate);var c=new Uint8Array(41+a.length);c.set(t("0000000003808080"),0),c[8]=32+a.length,c.set(t("00020004808080"),9),c[16]=18+a.length,c.set(t("40150000000000FA000000000005808080"),17),c[34]=a.length,c.set(a,35),c.set(t("068080800102"),35+a.length),s.otherBoxes=[new e.Iso.RawTag("esds",c)];var h=a[0]>>3;o.mimeTypeCodec="mp4a.40."+h;break;case f:s=new e.Iso.AudioSampleEntry(".mp3",1,u.channels,u.samplesize,u.samplerate),o.mimeTypeCodec="mp3";break;case d:var v=o.initializationData[0];s=new e.Iso.VideoSampleEntry("avc1",1,u.width,u.height),s.otherBoxes=[new e.Iso.RawTag("avcC",v)];var g=v[1]<<16|v[2]<<8|v[3];o.mimeTypeCodec="avc1."+(16777216|g).toString(16).substr(1),n.push("iso2","avc1","mp41");break;case p:s=new e.Iso.VideoSampleEntry("VP6F",1,u.width,u.height),s.otherBoxes=[new e.Iso.RawTag("glbl",t("00"))],o.mimeTypeCodec="avc1.42001E";break;default:throw new Error("not supported track type")}var y,b=e.Iso.TrackHeaderFlags.TRACK_ENABLED|e.Iso.TrackHeaderFlags.TRACK_IN_MOVIE;o===this.audioTrackState?y=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(b,o.trackId,-1,0,0,1,i),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(u.timescale,-1,u.language),new e.Iso.HandlerBox("soun","SoundHandler"),new e.Iso.MediaInformationBox(new e.Iso.SoundMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([s]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000")))))):o===this.videoTrackState&&(y=new e.Iso.TrackBox(new e.Iso.TrackHeaderBox(b,o.trackId,-1,u.width,u.height,0,i),new e.Iso.MediaBox(new e.Iso.MediaHeaderBox(u.timescale,-1,u.language),new e.Iso.HandlerBox("vide","VideoHandler"),new e.Iso.MediaInformationBox(new e.Iso.VideoMediaHeaderBox,new e.Iso.DataInformationBox(new e.Iso.DataReferenceBox([new e.Iso.DataEntryUrlBox(e.Iso.SELF_CONTAINED_DATA_REFERENCE_FLAG)])),new e.Iso.SampleTableBox(new e.Iso.SampleDescriptionBox([s]),new e.Iso.RawTag("stts",t("0000000000000000")),new e.Iso.RawTag("stsc",t("0000000000000000")),new e.Iso.RawTag("stsz",t("000000000000000000000000")),new e.Iso.RawTag("stco",t("0000000000000000"))))))),r.push(y)}var w=new e.Iso.MovieExtendsBox(null,[new e.Iso.TrackExtendsBox(1,1,0,0,0),new e.Iso.TrackExtendsBox(2,1,0,0,0)],null),E=new e.Iso.BoxContainerBox("udat",[new e.Iso.MetaBox(new e.Iso.RawTag("hdlr",t("00000000000000006D6469726170706C000000000000000000")),[new e.Iso.RawTag("ilst",t("00000025A9746F6F0000001D6461746100000001000000004C61766635342E36332E313034"))])]),S=new e.Iso.MovieHeaderBox(1e3,0,this.trackStates.length+1),x=new e.Iso.MovieBox(S,r,w,E),T=new e.Iso.FileTypeBox("isom",512,n),N=T.layout(0),C=x.layout(N),k=new Uint8Array(N+C);T.write(k),x.write(k),this.oncodecinfo(this.trackStates.map(function(e){return e.mimeTypeCodec})),this.ondata(k),this.filePos+=k.length,this.state=m.MAIN_PACKETS}},i.prototype._chunk=function(){var t=this.cachedPackets;if(this.videoTrackState){for(var n=t.length-1,r=this.videoTrackState.trackId;n>0&&(t[n].trackId!==r||t[n].packet.frameType!==c.KEY);)n--;n>0&&(t=t.slice(0,n))}if(0!==t.length){for(var i=[],s=0,o=[],u=[],a=0;a<this.trackStates.length;a++){var h=this.trackStates[a],v=h.trackInfo,m=h.trackId,g=t.filter(function(e){return e.trackId===m});if(0!==g.length){var y,b,w,E=new e.Iso.TrackFragmentBaseMediaDecodeTimeBox(h.cachedDuration);switch(u.push(s),v.codecId){case l:case f:w=[];for(var n=0;n<g.length;n++){var S=g[n].packet,x=Math.round(S.samples*v.timescale/v.samplerate);i.push(S.data),s+=S.data.length,w.push({duration:x,size:S.data.length}),h.samplesProcessed+=S.samples}var T=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;y=new e.Iso.TrackFragmentHeaderBox(T,m,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var N=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT;b=new e.Iso.TrackRunBox(N,w,0,0),h.cachedDuration=Math.round(h.samplesProcessed*v.timescale/v.samplerate);break;case d:case p:w=[];for(var C=h.samplesProcessed,k=C*v.timescale/v.framerate,L=Math.round(k),n=0;n<g.length;n++){var A=g[n].packet;C++;var O=Math.round(C*v.timescale/v.framerate),M=O-L;L=O;var _=Math.round(C*v.timescale/v.framerate+A.compositionTime*v.timescale/1e3);i.push(A.data),s+=A.data.length;var D=A.frameType===c.KEY?e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS:e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_OTHER|e.Iso.SampleFlags.SAMPLE_IS_NOT_SYNC;w.push({duration:M,size:A.data.length,flags:D,compositionTimeOffset:_-O})}var T=e.Iso.TrackFragmentFlags.DEFAULT_SAMPLE_FLAGS_PRESENT;y=new e.Iso.TrackFragmentHeaderBox(T,m,0,0,0,0,e.Iso.SampleFlags.SAMPLE_DEPENDS_ON_NO_OTHERS);var N=e.Iso.TrackRunFlags.DATA_OFFSET_PRESENT|e.Iso.TrackRunFlags.SAMPLE_DURATION_PRESENT|e.Iso.TrackRunFlags.SAMPLE_SIZE_PRESENT|e.Iso.TrackRunFlags.SAMPLE_FLAGS_PRESENT|e.Iso.TrackRunFlags.SAMPLE_COMPOSITION_TIME_OFFSET;b=new e.Iso.TrackRunBox(N,w,0,0),h.cachedDuration=L,h.samplesProcessed=C;break;default:throw new Error("Un codec")}var P=new e.Iso.TrackFragmentBox(y,E,b);o.push(P)}}this.cachedPackets.splice(0,t.length);for(var H=new e.Iso.MovieFragmentHeaderBox(++this.chunkIndex),B=new e.Iso.MovieFragmentBox(H,o),j=B.layout(0),F=new e.Iso.MediaDataBox(i),I=F.layout(j),q=j+8,a=0;a<o.length;a++)o[a].run.dataOffset=q+u[a];var R=new Uint8Array(j+I);B.write(R),F.write(R),this.ondata(R),this.filePos+=R.length}},i}();e.MP4Mux=g,e.parseFLVMetadata=i,e.splitMetadata=s}(e.MP4||(e.MP4={}))}(r||(r={})),function(e){!function(e){!function(e){function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return Array.prototype.concat.apply(e,t)}function n(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function r(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}function o(e){return(e-h)/1e3|0}function u(e){return 65536*e|0}function a(e){return 1073741824*e|0}function f(e){return 256*e|0}function l(e){return(31&e.charCodeAt(0))<<10|(31&e.charCodeAt(1))<<5|31&e.charCodeAt(2)}var c=i.StringUtilities.utf8decode,h=-20828448e5,p=[1,0,0,0,1,0,0,0,1],d=[0,0,0],v=function(){function e(e,t){this.boxtype=e,"uuid"===e&&(this.userType=t)}return e.prototype.layout=function(e){this.offset=e;var t=8;return this.userType&&(t+=16),this.size=t,t},e.prototype.write=function(e){return n(e,this.offset,this.size),n(e,this.offset+4,r(this.boxtype)),this.userType?(e.set(this.userType,this.offset+8),24):8},e.prototype.toUint8Array=function(){var e=this.layout(0),t=new Uint8Array(e);return this.write(t),t},e}();e.Box=v;var m=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=e.call(this,t)||this;return i.version=n,i.flags=r,i}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.version<<24|this.flags),r+4},t}(v);e.FullBox=m;var g=function(e){function t(t,n,r){var i=e.call(this,"ftype")||this;return i.majorBrand=t,i.minorVersion=n,i.compatibleBrands=r,i}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4*(2+this.compatibleBrands.length),this.size},t.prototype.write=function(t){var i=this,s=e.prototype.write.call(this,t);return n(t,this.offset+s,r(this.majorBrand)),n(t,this.offset+s+4,this.minorVersion),s+=8,this.compatibleBrands.forEach(function(e){n(t,i.offset+s,r(e)),s+=4},this),s},t}(v);e.FileTypeBox=g;var y=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.children.forEach(function(e){e&&(n+=e.layout(t+n))}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return this.children.forEach(function(e){e&&(n+=e.write(t))}),n},t}(v);e.BoxContainerBox=y;var b=function(e){function n(n,r,i,s){var o=e.call(this,"moov",t([n],r,[i,s]))||this;return o.header=n,o.tracks=r,o.extendsBox=i,o.userData=s,o}return s(n,e),n}(y);e.MovieBox=b;var w=function(e){function t(t,n,r,i,s,o,u,a){void 0===i&&(i=1),void 0===s&&(s=1),void 0===o&&(o=p),void 0===u&&(u=h),void 0===a&&(a=h);var f=e.call(this,"mvhd",0,0)||this;return f.timescale=t,f.duration=n,f.nextTrackId=r,f.rate=i,f.volume=s,f.matrix=o,f.creationTime=u,f.modificationTime=a,f}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4+2+2+8+36+24+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,o(this.creationTime)),n(t,this.offset+r+4,o(this.modificationTime)),n(t,this.offset+r+8,this.timescale),n(t,this.offset+r+12,this.duration),r+=16,n(t,this.offset+r,u(this.rate)),n(t,this.offset+r+4,f(this.volume)<<16),n(t,this.offset+r+8,0),n(t,this.offset+r+12,0),r+=16,n(t,this.offset+r,u(this.matrix[0])),n(t,this.offset+r+4,u(this.matrix[1])),n(t,this.offset+r+8,u(this.matrix[2])),n(t,this.offset+r+12,u(this.matrix[3])),n(t,this.offset+r+16,u(this.matrix[4])),n(t,this.offset+r+20,u(this.matrix[5])),n(t,this.offset+r+24,a(this.matrix[6])),n(t,this.offset+r+28,a(this.matrix[7])),n(t,this.offset+r+32,a(this.matrix[8])),r+=36,n(t,this.offset+r,0),n(t,this.offset+r+4,0),n(t,this.offset+r+8,0),n(t,this.offset+r+12,0),n(t,this.offset+r+16,0),n(t,this.offset+r+20,0),r+=24,n(t,this.offset+r,this.nextTrackId),r+=4},t}(m);e.MovieHeaderBox=w,!function(e){e[e.TRACK_ENABLED=1]="TRACK_ENABLED",e[e.TRACK_IN_MOVIE=2]="TRACK_IN_MOVIE",e[e.TRACK_IN_PREVIEW=4]="TRACK_IN_PREVIEW"}(e.TrackHeaderFlags||(e.TrackHeaderFlags={}));var E=function(e){function t(t,n,r,i,s,o,u,a,f,l,c){void 0===u&&(u=0),void 0===a&&(a=0),void 0===f&&(f=p),void 0===l&&(l=h),void 0===c&&(c=h);var d=e.call(this,"tkhd",0,t)||this;return d.trackId=n,d.duration=r,d.width=i,d.height=s,d.volume=o,d.alternateGroup=u,d.layer=a,d.matrix=f,d.creationTime=l,d.modificationTime=c,d}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20+8+6+2+36+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,o(this.creationTime)),n(t,this.offset+r+4,o(this.modificationTime)),n(t,this.offset+r+8,this.trackId),n(t,this.offset+r+12,0),n(t,this.offset+r+16,this.duration),r+=20,n(t,this.offset+r,0),n(t,this.offset+r+4,0),n(t,this.offset+r+8,this.layer<<16|this.alternateGroup),n(t,this.offset+r+12,f(this.volume)<<16),r+=16,n(t,this.offset+r,u(this.matrix[0])),n(t,this.offset+r+4,u(this.matrix[1])),n(t,this.offset+r+8,u(this.matrix[2])),n(t,this.offset+r+12,u(this.matrix[3])),n(t,this.offset+r+16,u(this.matrix[4])),n(t,this.offset+r+20,u(this.matrix[5])),n(t,this.offset+r+24,a(this.matrix[6])),n(t,this.offset+r+28,a(this.matrix[7])),n(t,this.offset+r+32,a(this.matrix[8])),r+=36,n(t,this.offset+r,u(this.width)),n(t,this.offset+r+4,u(this.height)),r+=8},t}(m);e.TrackHeaderBox=E;var S=function(e){function t(t,n,r,i,s){void 0===r&&(r="unk"),void 0===i&&(i=h),void 0===s&&(s=h);var o=e.call(this,"mdhd",0,0)||this;return o.timescale=t,o.duration=n,o.language=r,o.creationTime=i,o.modificationTime=s,o}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+16+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,o(this.creationTime)),n(t,this.offset+r+4,o(this.modificationTime)),n(t,this.offset+r+8,this.timescale),n(t,this.offset+r+12,this.duration),n(t,this.offset+r+16,l(this.language)<<16),r+20},t}(m);e.MediaHeaderBox=S;var x=function(e){function t(t,n){var r=e.call(this,"hdlr",0,0)||this;return r.handlerType=t,r.name=n,r._encodedName=c(r.name),r}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8+12+(this._encodedName.length+1),this.size},t.prototype.write=function(t){var i=e.prototype.write.call(this,t);return n(t,this.offset+i,0),n(t,this.offset+i+4,r(this.handlerType)),n(t,this.offset+i+8,0),n(t,this.offset+i+12,0),n(t,this.offset+i+16,0),i+=20,t.set(this._encodedName,this.offset+i),t[this.offset+i+this._encodedName.length]=0,i+=this._encodedName.length+1},t}(m);e.HandlerBox=x;var T=function(e){function t(t){void 0===t&&(t=0);var n=e.call(this,"smhd",0,0)||this;return n.balance=t,n}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,f(this.balance)<<16),r+4},t}(m);e.SoundMediaHeaderBox=T;var N=function(e){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=d);var r=e.call(this,"vmhd",0,0)||this;return r.graphicsMode=t,r.opColor=n,r}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.graphicsMode<<16|this.opColor[0]),n(t,this.offset+r+4,this.opColor[1]<<16|this.opColor[2]),r+8},t}(m);e.VideoMediaHeaderBox=N,e.SELF_CONTAINED_DATA_REFERENCE_FLAG=1;var C=function(t){function n(n,r){void 0===r&&(r=null);var i=t.call(this,"url ",0,n)||this;return i.location=r,n&e.SELF_CONTAINED_DATA_REFERENCE_FLAG||(i._encodedLocation=c(r)),i}return s(n,t),n.prototype.layout=function(e){var n=t.prototype.layout.call(this,e);return this._encodedLocation&&(n+=this._encodedLocation.length+1),this.size=n},n.prototype.write=function(e){var n=t.prototype.write.call(this,e);return this._encodedLocation&&(e.set(this._encodedLocation,this.offset+n),e[this.offset+n+this._encodedLocation.length]=0,n+=this._encodedLocation.length),n},n}(m);e.DataEntryUrlBox=C;var k=function(e){function t(t){var n=e.call(this,"dref",0,0)||this;return n.entries=t,n}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4;return this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.entries.length),this.entries.forEach(function(e){r+=e.write(t)}),r},t}(m);e.DataReferenceBox=k;var L=function(e){function t(t){var n=e.call(this,"dinf",[t])||this;return n.dataReference=t,n}return s(t,e),t}(y);e.DataInformationBox=L;var A=function(e){function t(t){var n=e.call(this,"stsd",0,0)||this;return n.entries=t,n}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=4,this.entries.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.entries.length),r+=4,this.entries.forEach(function(e){r+=e.write(t)}),r},t}(m);e.SampleDescriptionBox=A;var O=function(e){function t(t,n,r,i,s){var o=e.call(this,"stbl",[t,n,r,i,s])||this;return o.sampleDescriptions=t,o.timeToSample=n,o.sampleToChunk=r,o.sampleSizes=i,o.chunkOffset=s,o}return s(t,e),t}(y);e.SampleTableBox=O;var M=function(e){function t(t,n,r){var i=e.call(this,"minf",[t,n,r])||this;return i.header=t,i.info=n,i.sampleTable=r,i}return s(t,e),t}(y);e.MediaInformationBox=M;var _=function(e){function t(t,n,r){var i=e.call(this,"mdia",[t,n,r])||this;return i.header=t,i.handler=n,i.info=r,i}return s(t,e),t}(y);e.MediaBox=_;var D=function(e){function t(t,n){var r=e.call(this,"trak",[t,n])||this;return r.header=t,r.media=n,r}return s(t,e),t}(y);e.TrackBox=D;var P=function(e){function t(t,n,r,i,s){var o=e.call(this,"trex",0,0)||this;return o.trackId=t,o.defaultSampleDescriptionIndex=n,o.defaultSampleDuration=r,o.defaultSampleSize=i,o.defaultSampleFlags=s,o}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+20,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.trackId),n(t,this.offset+r+4,this.defaultSampleDescriptionIndex),n(t,this.offset+r+8,this.defaultSampleDuration),n(t,this.offset+r+12,this.defaultSampleSize),n(t,this.offset+r+16,this.defaultSampleFlags),r+20},t}(m);e.TrackExtendsBox=P;var H=function(e){function n(n,r,i){var s=e.call(this,"mvex",t([n],r,[i]))||this;return s.header=n,s.tracDefaults=r,s.levels=i,s}return s(n,e),n}(y);e.MovieExtendsBox=H;var B=function(e){function t(t,n){var r=e.call(this,"meta",0,0)||this;return r.handler=t,r.otherBoxes=n,r}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return n+=this.handler.layout(t+n),this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return n+=this.handler.write(t),this.otherBoxes.forEach(function(e){n+=e.write(t)}),n},t}(m);e.MetaBox=B;var j=function(e){function t(t){var n=e.call(this,"mfhd",0,0)||this;return n.sequenceNumber=t,n}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.sequenceNumber),r+4},t}(m);e.MovieFragmentHeaderBox=j;var F;!function(e){e[e.BASE_DATA_OFFSET_PRESENT=1]="BASE_DATA_OFFSET_PRESENT",e[e.SAMPLE_DESCRIPTION_INDEX_PRESENT=2]="SAMPLE_DESCRIPTION_INDEX_PRESENT",e[e.DEFAULT_SAMPLE_DURATION_PRESENT=8]="DEFAULT_SAMPLE_DURATION_PRESENT",e[e.DEFAULT_SAMPLE_SIZE_PRESENT=16]="DEFAULT_SAMPLE_SIZE_PRESENT",e[e.DEFAULT_SAMPLE_FLAGS_PRESENT=32]="DEFAULT_SAMPLE_FLAGS_PRESENT"}(F=e.TrackFragmentFlags||(e.TrackFragmentFlags={}));var I=function(e){function t(t,n,r,i,s,o,u){var a=e.call(this,"tfhd",0,t)||this;return a.trackId=n,a.baseDataOffset=r,a.sampleDescriptionIndex=i,a.defaultSampleDuration=s,a.defaultSampleSize=o,a.defaultSampleFlags=u,a}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,r=this.flags;return r&F.BASE_DATA_OFFSET_PRESENT&&(n+=8),r&F.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n+=4),r&F.DEFAULT_SAMPLE_DURATION_PRESENT&&(n+=4),r&F.DEFAULT_SAMPLE_SIZE_PRESENT&&(n+=4),r&F.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n+=4),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),i=this.flags;return n(t,this.offset+r,this.trackId),r+=4,i&F.BASE_DATA_OFFSET_PRESENT&&(n(t,this.offset+r,0),n(t,this.offset+r+4,this.baseDataOffset),r+=8),i&F.SAMPLE_DESCRIPTION_INDEX_PRESENT&&(n(t,this.offset+r,this.sampleDescriptionIndex),r+=4),i&F.DEFAULT_SAMPLE_DURATION_PRESENT&&(n(t,this.offset+r,this.defaultSampleDuration),r+=4),i&F.DEFAULT_SAMPLE_SIZE_PRESENT&&(n(t,this.offset+r,this.defaultSampleSize),r+=4),i&F.DEFAULT_SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+r,this.defaultSampleFlags),r+=4),r},t}(m);e.TrackFragmentHeaderBox=I;var q=function(e){function t(t){var n=e.call(this,"tfdt",0,0)||this;return n.baseMediaDecodeTime=t,n}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+4,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,this.baseMediaDecodeTime),r+4},t}(m);e.TrackFragmentBaseMediaDecodeTimeBox=q;var R=function(e){function t(t,n,r){var i=e.call(this,"traf",[t,n,r])||this;return i.header=t,i.decodeTime=n,i.run=r,i}return s(t,e),t}(y);e.TrackFragmentBox=R,!function(e){e[e.IS_LEADING_MASK=201326592]="IS_LEADING_MASK",e[e.SAMPLE_DEPENDS_ON_MASK=50331648]="SAMPLE_DEPENDS_ON_MASK",e[e.SAMPLE_DEPENDS_ON_OTHER=16777216]="SAMPLE_DEPENDS_ON_OTHER",e[e.SAMPLE_DEPENDS_ON_NO_OTHERS=33554432]="SAMPLE_DEPENDS_ON_NO_OTHERS",e[e.SAMPLE_IS_DEPENDED_ON_MASK=12582912]="SAMPLE_IS_DEPENDED_ON_MASK",e[e.SAMPLE_HAS_REDUNDANCY_MASK=3145728]="SAMPLE_HAS_REDUNDANCY_MASK",e[e.SAMPLE_PADDING_VALUE_MASK=917504]="SAMPLE_PADDING_VALUE_MASK",e[e.SAMPLE_IS_NOT_SYNC=65536]="SAMPLE_IS_NOT_SYNC",e[e.SAMPLE_DEGRADATION_PRIORITY_MASK=65535]="SAMPLE_DEGRADATION_PRIORITY_MASK"}(e.SampleFlags||(e.SampleFlags={}));var U;!function(e){e[e.DATA_OFFSET_PRESENT=1]="DATA_OFFSET_PRESENT",e[e.FIRST_SAMPLE_FLAGS_PRESENT=4]="FIRST_SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_DURATION_PRESENT=256]="SAMPLE_DURATION_PRESENT",e[e.SAMPLE_SIZE_PRESENT=512]="SAMPLE_SIZE_PRESENT",e[e.SAMPLE_FLAGS_PRESENT=1024]="SAMPLE_FLAGS_PRESENT",e[e.SAMPLE_COMPOSITION_TIME_OFFSET=2048]="SAMPLE_COMPOSITION_TIME_OFFSET"}(U=e.TrackRunFlags||(e.TrackRunFlags={}));var z=function(e){function t(t,n,r,i){var s=e.call(this,"trun",1,t)||this;return s.samples=n,s.dataOffset=r,s.firstSampleFlags=i,s}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+4,r=this.samples.length,i=this.flags;return i&U.DATA_OFFSET_PRESENT&&(n+=4),i&U.FIRST_SAMPLE_FLAGS_PRESENT&&(n+=4),i&U.SAMPLE_DURATION_PRESENT&&(n+=4*r),i&U.SAMPLE_SIZE_PRESENT&&(n+=4*r),i&U.SAMPLE_FLAGS_PRESENT&&(n+=4*r),i&U.SAMPLE_COMPOSITION_TIME_OFFSET&&(n+=4*r),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t),i=this.samples.length,s=this.flags;n(t,this.offset+r,i),r+=4,s&U.DATA_OFFSET_PRESENT&&(n(t,this.offset+r,this.dataOffset),r+=4),s&U.FIRST_SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+r,this.firstSampleFlags),r+=4);for(var o=0;o<i;o++){var u=this.samples[o];s&U.SAMPLE_DURATION_PRESENT&&(n(t,this.offset+r,u.duration),r+=4),s&U.SAMPLE_SIZE_PRESENT&&(n(t,this.offset+r,u.size),r+=4),s&U.SAMPLE_FLAGS_PRESENT&&(n(t,this.offset+r,u.flags),r+=4),s&U.SAMPLE_COMPOSITION_TIME_OFFSET&&(n(t,this.offset+r,u.compositionTimeOffset),r+=4)}return r},t}(m);e.TrackRunBox=z;var W=function(e){function n(n,r){var i=e.call(this,"moof",t([n],r))||this;return i.header=n,i.trafs=r,i}return s(n,e),n}(y);e.MovieFragmentBox=W;var X=function(e){function t(t){var n=e.call(this,"mdat")||this;return n.chunks=t,n}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t);return this.chunks.forEach(function(e){n+=e.length}),this.size=n},t.prototype.write=function(t){var n=this,r=e.prototype.write.call(this,t);return this.chunks.forEach(function(e){t.set(e,n.offset+r),r+=e.length},this),r},t}(v);e.MediaDataBox=X;var V=function(e){function t(t,n){var r=e.call(this,t)||this;return r.dataReferenceIndex=n,r}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+8,this.size},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,0),n(t,this.offset+r+4,this.dataReferenceIndex),r+8},t}(v);e.SampleEntry=V;var $=function(e){function t(t,n,r,i,s,o){void 0===r&&(r=2),void 0===i&&(i=16),void 0===s&&(s=44100),void 0===o&&(o=null);var u=e.call(this,t,n)||this;return u.channelCount=r,u.sampleSize=i,u.sampleRate=s,u.otherBoxes=o,u}return s(t,e),t.prototype.layout=function(t){var n=e.prototype.layout.call(this,t)+20;return this.otherBoxes&&this.otherBoxes.forEach(function(e){n+=e.layout(t+n)}),this.size=n},t.prototype.write=function(t){var r=e.prototype.write.call(this,t);return n(t,this.offset+r,0),n(t,this.offset+r+4,0),n(t,this.offset+r+8,this.channelCount<<16|this.sampleSize),n(t,this.offset+r+12,0),n(t,this.offset+r+16,this.sampleRate<<16),r+=20,this.otherBoxes&&this.otherBoxes.forEach(function(e){r+=e.write(t)}),r},t}(V);e.AudioSampleEntry=$,e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH=24;var J=function(t){function r(n,r,i,s,o,u,a,f,l,c){void 0===o&&(o=""),void 0===u&&(u=72),void 0===a&&(a=72),void 0===f&&(f=1),void 0===l&&(l=e.COLOR_NO_ALPHA_VIDEO_SAMPLE_DEPTH),void 0===c&&(c=null);var h=t.call(this,n,r)||this;if(h.width=i,h.height=s,h.compressorName=o,h.horizResolution=u,h.vertResolution=a,h.frameCount=f,h.depth=l,h.otherBoxes=c,o.length>31)throw new Error("invalid compressor name");return h}return s(r,t),r.prototype.layout=function(e){var n=t.prototype.layout.call(this,e)+16+12+4+2+32+2+2;return this.otherBoxes&&this.otherBoxes.forEach(function(t){n+=t.layout(e+n)}),this.size=n},r.prototype.write=function(e){var r=t.prototype.write.call(this,e);n(e,this.offset+r,0),n(e,this.offset+r+4,0),n(e,this.offset+r+8,0),n(e,this.offset+r+12,0),r+=16,n(e,this.offset+r,this.width<<16|this.height),n(e,this.offset+r+4,u(this.horizResolution)),n(e,this.offset+r+8,u(this.vertResolution)),r+=12,n(e,this.offset+r,0),n(e,this.offset+r+4,this.frameCount<<16),r+=6,e[this.offset+r]=this.compressorName.length;for(var i=0;i<31;i++)e[this.offset+r+i+1]=i<this.compressorName.length?127&this.compressorName.charCodeAt(i):0;return r+=32,n(e,this.offset+r,this.depth<<16|65535),r+=4,this.otherBoxes&&this.otherBoxes.forEach(function(t){r+=t.write(e)}),r},r}(V);e.VideoSampleEntry=J;var K=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return s(t,e),t.prototype.layout=function(t){return this.size=e.prototype.layout.call(this,t)+this.data.length,this.size},t.prototype.write=function(t){var n=e.prototype.write.call(this,t);return t.set(this.data,this.offset+n),n+this.data.length},t}(v);e.RawTag=K}(e.Iso||(e.Iso={}))}(e.MP4||(e.MP4={}))}(r||(r={})),t.MP4Mux=r.MP4.MP4Mux},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(24),i=n(23),s=[r.WebCrypto,i.JSCrypto];t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(21),s=r.helpers.find;t.DecryptorFactory={retrieveDecryptor:function(e){return s(i.default,function(t){return t.canDecrypt(e)})||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(18),s=r.helpers.Promise,o=null;t.JSCrypto={canDecrypt:function(e){return"AES-CBC"===e.cipher},decrypt:function(e,t){return o||(o=new i.AESDecryptor),o.expandKey(t.key.buffer),s.resolve(new Uint8Array(o.decrypt(e.buffer,0,t.iv.buffer)))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.helpers.Promise,s=window.crypto&&window.crypto.subtle;t.WebCrypto={canDecrypt:function(e){return!!s&&window.isSecureContext&&"AES-CBC"===e.cipher},decrypt:function(e,t){return new i(function(n,r){(function(e){return s.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"])})(t.key).then(function(n){return s.decrypt({name:"AES-CBC",iv:t.iv},n,e)}).then(function(e){return n(new Uint8Array(e))}).catch(r)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){this._playlist=e,this._url=t}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e}();t.Key=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this._url=e}return e.prototype.getUrl=function(){return this._url},e}();t.Playlist=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this._playlist=e,this._url=t,this._sequenceNumber=n}return e.prototype.getPlaylist=function(){return this._playlist},e.prototype.getUrl=function(){return this._url},e.prototype.getSequenceNumber=function(){return this._sequenceNumber},e}();t.Segment=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),s=r.helpers.deferred.buildDeferred,o=i.helpers.timeRanges.buildTimeRanges,u=r.helpers.Promise,a=i.helpers.timeRanges.getCoverage,f=r.logger.prefixLogger,l=r.logger.noOpLogger,c=/(MSIE )|(Trident\/)/,h=r.helpers.browser.isSafari(),p='audio/mp4; codecs="mp3"',d=r.helpers.browser.getSafariVersion();t.killedError=new Error("MSE killed.");var v=function(){function e(e,t,n){var r=this.constructor;if(void 0===t&&(t=l),void 0===n&&(n=!1),this._sourceBuffer=null,this._initialized=!1,this._initializeDeferred=s(),this._whenIdleDeferred=s(),this._error=null,this._dead=!1,this._pendingActions=[],this._currentAction=null,this._bufferEnd=0,this._logger=f(t,"MSE"),this._onMediaSourceInit=this._onMediaSourceInit.bind(this),this._onMediaSourceError=this._onMediaSourceError.bind(this),this._onSourceBufferUpdateEnd=this._onSourceBufferUpdateEnd.bind(this),this._onSourceBufferError=this._onSourceBufferError.bind(this),!r.isSupported(e))throw this._logger.error("Not supported."),new Error("Not supported.");h&&e===p&&(e="audio/mp4"),this._type=e,this._useSegmentsMode=n,this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.addEventListener("error",this._onMediaSourceError,!1),this._url=URL.createObjectURL(this._mediaSource),this._logger.debug("Created URL.",this._url)}return e.isSupported=function(e){return!c.test(window.navigator.userAgent)&&"MediaSource"in window&&(!e||!!h&&e===p||!(d&&d.major<10&&"audio/mpeg"===e)&&MediaSource.isTypeSupported(e))},e.prototype.whenInitialized=function(){return this._initializeDeferred.promise},e.prototype.whenIdle=function(){return this._whenIdleDeferred?this._whenIdleDeferred.promise:u.resolve(void 0)},e.prototype.isIdle=function(){return this._dead||!this._whenIdleDeferred},e.prototype.hasInitialized=function(){return this._initialized},e.prototype.getError=function(){return this._error},e.prototype.getUrl=function(){return this._ensureNotDead(),this._url},e.prototype.getBuffered=function(){return this._ensureNotDead(),this._sourceBuffer?o(this._sourceBuffer.buffered):[]},e.prototype.append=function(e){this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("append() called.");var t=s();return this._pendingActions.push({type:"append",data:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.remove=function(e){if(0===e.duration)throw new Error("Remove range must have a duration > 0.");this._ensureNotDead(),this._ensureInitialized(),this._logger.debug("remove() called.",e);var t=s();return this._pendingActions.push({type:"remove",range:e,deferred:t}),this._performNextAction(),t.promise},e.prototype.kill=function(){if(!this._dead){if(this._logger.debug("kill() called."),this._dead=!0,this._sourceBuffer){this._sourceBuffer.removeEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.removeEventListener("error",this._onSourceBufferError,!1);try{this._mediaSource.removeSourceBuffer(this._sourceBuffer)}catch(e){this._logger.error("Error from removeSourceBuffer()",e)}}this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1),this._mediaSource.removeEventListener("error",this._onMediaSourceError,!1),URL.revokeObjectURL(this._url);var n=this._currentAction?[this._currentAction]:[];n=n.concat(this._pendingActions),n.forEach(function(e){e.deferred.reject(t.killedError)}),this._whenIdleDeferred||(this._whenIdleDeferred=s()),this._whenIdleDeferred.reject(t.killedError),this._initialized||this._initializeDeferred.reject(this._error||t.killedError),this._pendingActions.length=0,this._logger.debug("Killed.")}},e.prototype._ensureInitialized=function(){if(!this._initialized)throw new Error("Not initialized yet.")},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("MSE is dead.")},e.prototype._onMediaSourceInit=function(){this._logger.debug("MSE initialized."),this._mediaSource.removeEventListener("sourceopen",this._onMediaSourceInit,!1);try{this._logger.debug("Creating source buffer.",this._type),this._sourceBuffer=this._mediaSource.addSourceBuffer(this._type),this._sourceBuffer.mode=this._useSegmentsMode?"segments":"sequence",this._logger.debug("Using append mode: "+this._sourceBuffer.mode),this._sourceBuffer.addEventListener("updateend",this._onSourceBufferUpdateEnd,!1),this._sourceBuffer.addEventListener("error",this._onSourceBufferError,!1)}catch(e){this._handleError(e)}this._initializeDeferred.resolve(void 0),this._whenIdleDeferred.resolve(void 0),this._initialized=!0,this._performNextAction()},e.prototype._onMediaSourceError=function(e){this._handleError(e)},e.prototype._handleError=function(e){this._ensureNotDead(),this._logger.error("Error occurred.",e),this._error=e||new Error("Unknown error."),this.kill()},e.prototype._onSourceBufferUpdateEnd=function(){var e=this._currentAction;return this._logger.debug("Update ended.",this.getBuffered()),e?"append"===e.type&&a(this.getBuffered()).end<=this._bufferEnd?void this._handleError(new Error("Buffer end point did not increase after an append.")):(this._currentAction=null,e.deferred.resolve(void 0),void this._performNextAction()):void this._handleError(new Error("No action in progress."))},e.prototype._onSourceBufferError=function(e){this._handleError(e)},e.prototype._performNextAction=function(){var e=this._whenIdleDeferred;if(!this._currentAction&&this._sourceBuffer){var t=this._pendingActions.shift();if(!t)return this._logger.debug("No more actions."),void (e&&(this._whenIdleDeferred=null,e.resolve(void 0)));switch(e||(this._whenIdleDeferred=s()),this._currentAction=t,this._logger.debug("Performing next action..."),t.type){case"append":var n=a(this.getBuffered());try{if("segments"===this._sourceBuffer.mode){var r=n.end/1e3;this._logger.debug("Setting timestampOffset because detected safari.",r),this._sourceBuffer.timestampOffset=r}this._logger.debug("Calling appendBuffer()."),this._bufferEnd=n.end,this._sourceBuffer.appendBuffer(t.data)}catch(i){this._handleError(i)}break;case"remove":try{var o=t.range;this._logger.debug("Calling remove().",o.start,o.end),this._sourceBuffer.remove(o.start/1e3,o.end/1e3)}catch(i){this._handleError(i)}}}},e}();t.MSE=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(0),s=i.helpers.find,o=i.eventDispatcher.EventDispatcher,u=i.helpers.abortableJob.abortedError,a=i.helpers.abortableJob.AbortableJob,f=i.logger.prefixLogger,l=i.logger.noOpLogger;!function(e){e[e.RETRIEVING_SEGMENT=0]="RETRIEVING_SEGMENT",e[e.RETRIEVED_SEGMENT=1]="RETRIEVED_SEGMENT",e[e.RETRIEVING_DATA=2]="RETRIEVING_DATA",e[e.COMPLETE=3]="COMPLETE"}(r||(r={}));var c=function(){function e(e){this._onSegmentRequestQueued=new o,this._onSegmentRequestStart=new o,this._onSegmentRetrieved=new o,this._onSegmentRequestFailed=new o,this._onSegmentDecryptionStart=new o,this._onSegmentDecryptionEnd=new o,this._onSegmentTransmuxStart=new o,this._onSegmentTransmuxEnd=new o,this._onSegmentReady=new o,this._onError=new o,this._segments=[],this._retrievingSegment=null,this._timerId=null,this._dead=!1;var t=e.playlist,n=e.getPosition,r=e.maxBufferLength,i=e.cacheSize,s=e.transmuxer,u=e.logger,a=void 0===u?l:u;if(this._logger=f(a,"PlaylistSegmentRetriever"),t&&!t.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");if(r<0)throw new Error("Max buffer length must be > 0.");if(i<0)throw new Error("Cache size must be > 0.");this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this.onSegmentTransmuxStart=this._onSegmentTransmuxStart.getHandle(),this.onSegmentTransmuxEnd=this._onSegmentTransmuxEnd.getHandle(),this.onSegmentReady=this._onSegmentReady.getHandle(),this.onError=this._onError.getHandle(),this._playlist=t,this._transmuxer=s,this._getPosition=n,this._maxBufferLength=r,this._cacheSize=i,this.update()}return e.prototype.updateMaxBufferLength=function(e){if(this._ensureNotDead(),e<0)throw new Error("Max buffer length must be > 0.");this._logger.debug("updateMaxBufferLength() called.",e),this._maxBufferLength=e,this.update()},e.prototype.updateCacheSize=function(e){if(this._ensureNotDead(),e<0)throw new Error("Cache size must be > 0.");this._logger.debug("updateCacheSize() called.",e),this._cacheSize=e,this.update()},e.prototype.getCacheSize=function(){return this._cacheSize},e.prototype.getCacheUsage=function(){return this._segments.reduce(function(e,t){return t.state===r.COMPLETE?e+t.data.byteLength+(t.initData?t.initData.byteLength:0):e},0)},e.prototype.switchPlaylist=function(e){if(this._ensureNotDead(),e&&!e.hasRetrieveCompleted())throw new Error("Playlist retrieve has not completed.");this._logger.debug("switchPlaylist() called."),this._abortCurrentRetrieve(),this._playlist=e,this._segments=this._segments.filter(function(e){return e.state===r.COMPLETE}),this.update()},e.prototype.getSegmentsWithData=function(){return this._ensureNotDead(),this._segments.filter(function(e){return e.state===r.COMPLETE}).map(function(e){if(e.state!==r.COMPLETE)throw new Error("Unexpected error.");return{segment:e.segment,initData:e.initData,data:e.data,eventRepresentation:e.eventRepresentation}})},e.prototype.update=function(){this._ensureNotDead(),this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId),this._timerId=null);var e=this._getPosition(),t=e;this._segments.some(function(n){if(n.state!==r.COMPLETE)return!1;var i=n.segment.getTimeRange();return!(i.end<e)&&(i.start>=t&&!i.containsTime(t)||(t=i.end,!1))});var n=s(this._segments,function(e){return e.state===r.RETRIEVED_SEGMENT||e.state===r.RETRIEVING_DATA?e.segment.getTimeRange().containsTime(t):!1});if(t>=e+this._maxBufferLength)return this._abortCurrentRetrieve(),this._garbageCollect(e),void this._scheduleNextUpdate();n?this._retrieveSegmentData(n):this._retrieveSegment(t),this._garbageCollect(e)},e.prototype.kill=function(){this._dead||(this._logger.debug("kill() called."),this._abortCurrentRetrieve(),this._dead=!0,this._timerId&&(this._logger.debug("Cancelling update timer."),window.clearTimeout(this._timerId)),this._segments=[],this._logger.debug("Killed."))},e.prototype._retrieveSegmentData=function(e){var t=this;if(e.state!==r.RETRIEVED_SEGMENT&&e.state!==r.RETRIEVING_DATA)throw new Error("Segment in incorrect state for data to be retrieved.");var n=this._retrievingSegment;if(!n||n.state!==r.RETRIEVING_DATA||e.segment!==n.segment){this._abortCurrentRetrieve();var i=(new a(function(){var n=!1,r=e.segment.retrieveData();return t._logger.debug("Retrieving segment data..."),{result:r.whenComplete().then(function(e){var r=e.data,i=e.eventRepresentation;if(n)throw u;return t._logger.debug("Retrieved segment data."),t._onSegmentTransmuxStart.dispatch({segment:i}),t._transmuxer.transmux(r).then(function(e){var r=e.data,s=e.initData;if(n)throw u;return t._onSegmentTransmuxEnd.dispatch({segment:i}),t._logger.debug("Transmuxed segment."),{data:r,initData:s,eventRepresentation:i}})}),abort:function(){n=!0,r.abort()}}},{storeResult:!1})).run();i.onCompletion(function(n){var i=n.initData,s=n.data,o=n.eventRepresentation;t._retrievingSegment=null,t._segments.splice(t._segments.indexOf(e),1,{state:r.COMPLETE,initData:i,data:s,eventRepresentation:o,segment:e.segment}),t._logger.debug("Segment retrieve completed.",o),t.update(),t._onSegmentReady.dispatch({segment:e.segment,initData:i,data:s,eventRepresentation:o})}),i.onError(function(e){e!==u&&(t._logger.error("Error retrieving segment data.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))}),this._retrievingSegment={state:r.RETRIEVING_DATA,dataRetrieveJob:i,segment:e.segment}}},e.prototype._retrieveSegment=function(e){var t=this,n=this._retrievingSegment,i=this._playlist,s=i?i.getSegmentIndexContainingTime(e):null;if(!n||n.state!==r.RETRIEVING_SEGMENT||n.segmentIndex!==s)if(this._abortCurrentRetrieve(),null!==s&&i){var o=i.getSegment(s);this._logger.debug("Retrieving segment.",s),o.onCompletion(function(e){t._logger.debug("Retrieved segment.",s),e.onSegmentRequestQueued.subscribe(t._onSegmentRequestQueued.dispatch),e.onSegmentRequestStart.subscribe(t._onSegmentRequestStart.dispatch),e.onSegmentRetrieved.subscribe(t._onSegmentRetrieved.dispatch),e.onSegmentRequestFailed.subscribe(t._onSegmentRequestFailed.dispatch),e.onSegmentDecryptionStart.subscribe(t._onSegmentDecryptionStart.dispatch),e.onSegmentDecryptionEnd.subscribe(t._onSegmentDecryptionEnd.dispatch),t._segments.splice(t._segments.indexOf(a),1);var n=e.getTimeRange(),i=t._segments.length;t._segments.some(function(e,t){return e.state!==r.RETRIEVING_SEGMENT&&e.segment.getTimeRange().start>n.start&&(i=t,!0)}),t._segments.splice(i,0,{state:r.RETRIEVED_SEGMENT,segment:e}),t._retrievingSegment=null,t.update()}),o.onError(function(e){e!==u&&(t._logger.error("Error retrieving segment.",e),t._scheduleNextUpdate(),t._onError.dispatch(e))});var a={state:r.RETRIEVING_SEGMENT,segmentIndex:s,segmentRetrieveJob:o};this._segments.push(a),this._retrievingSegment=a}else this._scheduleNextUpdate()},e.prototype._abortCurrentRetrieve=function(){var e=this._retrievingSegment;e&&(e.state===r.RETRIEVING_SEGMENT?(this._logger.debug("Aborting segment retrieve job."),e.segmentRetrieveJob.abort()):e.state===r.RETRIEVING_DATA&&(this._logger.debug("Aborting segment data retrieve job."),e.dataRetrieveJob.abort()),this._retrievingSegment=null)},e.prototype._garbageCollect=function(e){var t=this._segments,n=this._cacheSize,i=this.getCacheUsage();if(!(i<=n)){var s=e+this._maxBufferLength;t.filter(function(t){if(t.state!==r.COMPLETE)return!1;var n=t.segment.getTimeRange();return n.end<=e||n.start>s}).map(function(t){if(t.state!==r.COMPLETE)throw new Error("Unexpected error.");var n=t.segment.getTimeRange();return{segment:t,distance:Math.abs(e-n.start),size:t.data.byteLength+(t.initData?t.initData.byteLength:0)}}).sort(function(e,t){return t.distance-e.distance}).some(function(e){return i<=n||(t.splice(t.indexOf(e.segment),1),i-=e.size,!1)})}},e.prototype._scheduleNextUpdate=function(){var e=this;this._timerId||(this._timerId=window.setTimeout(function(){e._timerId=null,e.update()},1e3))},e.prototype._ensureNotDead=function(){if(this._dead)throw new Error("Playlist segment retriever has been killed.")},e}();t.PlaylistSegmentRetriever=c},function(e,t,n){"use strict";function r(e){return 0===e.indexOf('"')&&e.lastIndexOf('"')===e.length-1?e.slice(1,-1):e}function i(e){0===e.indexOf("0x")&&(e=e.substr(2));var t=new Uint16Array(8);if(e.length%4!=0)throw new c.PlaylistParseError("Failed to parse IV (length is not multiple of 4).");for(var n=0;n<e.length;n+=4){var r=parseInt(e.substr(n,4),16);if(isNaN(r))throw new c.PlaylistParseError("Failed to parse hex number in IV string.");t[n/4]=r}return new Uint8Array(t)}function s(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t}function o(e){return!(e>=400&&e<500)}Object.defineProperty(t,"__esModule",{value:!0});var u,a=n(0),f=n(31),l=n(3),c=n(12),h=n(13),p=n(26),d=n(25),v=a.helpers.abortableJob.AbortableJob,m=a.helpers.deferred.buildDeferred,g=a.helpers.cache.buildCache,y=a.helpers.retry,b=y.retry,w=y.buildExponentialDelayCalculator,E=a.helpers.Promise,S=a.helpers.find,x=a.helpers.url,T=a.eventDispatcher.EventDispatcher,N=a.logger.prefixLogger,C=a.logger.noOpLogger,k=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT(INF): *(\d+(?:\.\d+)?)(?:,(.*))?)|(?:(?!#)()(\S.+))|(?:#EXT-X-(BYTERANGE): *(\d+(?:@\d+(?:\.\d+)?)?)|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(PROGRAM-DATE-TIME):(.+))|(?:#EXT-X-(VERSION):(\d+))|(?:(#)(.*):(.*))|(?:(#)(.*)))(?:.*)\r?\n?/g,L=/(.+?)=(.+?)(?:,|$)/g,A=/^\d*(\.\d+)?$/;!function(e){e[e.NONE=0]="NONE",e[e.AES_128=1]="AES_128",e[e.SAMPLE_AES=2]="SAMPLE_AES"}(u||(u={}));var O;!function(e){e[e.VOD=0]="VOD",e[e.LIVE=1]="LIVE",e[e.EVENT=2]="EVENT"}(O=t.PlaylistType||(t.PlaylistType={}));var M=function(){function e(e){var t=e.url,n=e.playlistLoader,r=e.segmentLoader,i=e.keyLoader,s=void 0===i?null:i,u=e.segmentFormat,a=e.logger,f=void 0===a?C:a,c=e.delayCalculator,h=void 0===c?w():c,d=e.keyDelayCalculator,y=void 0===d?w():d,S=e.segmentDelayCalculator,x=e.isPlaylistResponseCodeAcceptable,k=void 0===x?function(e){return 200===e}:x,L=e.isPlaylistResponseCodeRetryable,A=void 0===L?o:L,O=e.isSegmentResponseCodeAcceptable,M=void 0===O?function(e){return 200===e}:O,_=e.isSegmentResponseCodeRetryable,D=void 0===_?o:_,P=e.isKeyResponseCodeAcceptable,H=void 0===P?function(e){return 200===e}:P,B=e.isKeyResponseCodeRetryable,j=void 0===B?o:B,F=this;this._keyRetrievalJobsCache=g(),this._data=null,this._playlistEventRepresentation=null,this._onPlaylistRequestQueued=new T,this._onPlaylistRequestStart=new T,this._onPlaylistRetrieved=new T,this._onPlaylistRequestFailed=new T,this._onPlaylistParseStart=new T,this._onPlaylistParseEnd=new T,this._onKeyRequestQueued=new T,this._onKeyRequestStart=new T,this._onKeyRetrieved=new T,this._onKeyRequestFailed=new T,this._logger=N(f,"Playlist"),this.onPlaylistRequestQueued=this._onPlaylistRequestQueued.getHandle(),this.onPlaylistRequestStart=this._onPlaylistRequestStart.getHandle(),this.onPlaylistRetrieved=this._onPlaylistRetrieved.getHandle(),this.onPlaylistRequestFailed=this._onPlaylistRequestFailed.getHandle(),this.onPlaylistParseStart=this._onPlaylistParseStart.getHandle(),this.onPlaylistParseEnd=this._onPlaylistParseEnd.getHandle(),this.onKeyRequestQueued=this._onKeyRequestQueued.getHandle(),this.onKeyRequestStart=this._onKeyRequestStart.getHandle(),this.onKeyRetrieved=this._onKeyRetrieved.getHandle(),this.onKeyRequestFailed=this._onKeyRequestFailed.getHandle(),this._url=t,this._playlistLoader=n,this._segmentLoader=r,this._keyLoader=s,this._segmentFormat=u,this._delayCalculator=h,this._keyDelayCalculator=y,this._isPlaylistResponseCodeAcceptable=k,this._isPlaylistResponseCodeRetryable=A,this._isSegmentResponseCodeAcceptable=M,this._isSegmentResponseCodeRetryable=D,this._isKeyResponseCodeAcceptable=H,this._isKeyResponseCodeRetryable=j,this._segmentDelayCalculator=S,this._downloadAbortableJob=new v(function(){var e=b(function(){return new v(function(){var e=new p.Playlist(t);F._onPlaylistRequestQueued.dispatch({playlist:e});var n=F._playlistLoader.request({url:t});return n.whenRequestStarted.then(function(){F._onPlaylistRequestStart.dispatch({playlist:e})}),F._logger.debug("Requesting playlist.",t),{result:n.getResponse().then(function(n){if(!n)return F._logger.warn("Playlist request timed out.",t),F._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:null}),{success:!1};var r=n.statusCode;if(F._isPlaylistResponseCodeAcceptable(r)){var i=n.data;return i?(F._logger.debug("Got playlist response.",t,r),F._onPlaylistRetrieved.dispatch({playlist:e,statusCode:r}),{success:!0,result:{playlistContent:i,eventRepresentation:e}}):(F._logger.warn("Playlist response contained no data.",t,r),F._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:r}),{success:!1})}return F._isPlaylistResponseCodeRetryable(r)?(F._logger.debug("Playlist response code was not acceptable. Will retry.",t,r),F._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:r}),{success:!1}):(F._logger.debug("Playlist response code was not acceptable.",t,r),F._onPlaylistRequestFailed.dispatch({playlist:e,statusCode:r}),E.reject(new l.UnacceptableResponseStatusCodeError(r)))}),abort:function(){F._logger.debug("Aborting playlist request.",t),n.abort(),F._onPlaylistRequestFailed.dispatch({playlist:e,aborted:!0})}}})},h);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveJob=new v(function(){var e=F._downloadAbortableJob.run(),t=m();return e.onCompletion(function(e){var n=e.playlistContent,r=e.eventRepresentation;F._onPlaylistParseStart.dispatch({playlist:r});try{F._data=F._parsePlaylist(n)}catch(i){return F._logger.error("Error when parsing playlist.",i,n),void t.reject(i)}F._playlistEventRepresentation=r,F._onPlaylistParseEnd.dispatch({playlist:r}),t.resolve(void 0)}),e.onError(t.reject),{result:t.promise,abort:function(){return e.abort()}}},{storeResult:!1})}return e.prototype.retrieve=function(){return this._retrieveJob.run()},e.prototype.hasRetrieveCompleted=function(){return!!this._data},e.prototype.getStartingSequenceNumber=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.mediaSequence},e.prototype.getType=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.type},e.prototype.getTargetDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.targetDuration},e.prototype.getTotalDuration=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.totalDuration},e.prototype.hasEnded=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.ended},e.prototype.getSegmentCount=function(){if(!this._data)throw new Error("Not loaded yet.");return this._data.segments.length},e.prototype.getSegment=function(e){return this.getSegments(e,e+1)[0]},e.prototype.getSegments=function(e,t){var n=this,r=this._data;if(!r)throw new Error("Not loaded yet.");var i=r.mediaSequence;void 0===e&&(e=i);var s=r.segments.length;if(void 0===t&&(t=i+s),e<i)throw new Error("Start index must be >= the first segment index.");if(t<i)throw new Error("End index must be >= the first segment index.");if(t>i+s)throw new Error("End index cannot be > than the index of the last segment.");if(t<e)throw new Error("End index must be >= start index.");return r.segments.slice(e-i,t-i).map(function(t,r){return(new v(function(){var i=t.encryptionData,s=e+r,o=n._playlistEventRepresentation;if(!o)throw new Error("Playlist event representation should exist.");var u=n._buildEncryptionConfig(i,s);return{result:u.whenComplete().then(function(e){return new f.Segment({url:t.url,index:s,timeRange:t.timeRange,format:n._segmentFormat,loader:n._segmentLoader,playlistEventRepresentation:o,logger:n._logger,delayCalculator:n._segmentDelayCalculator,isResponseCodeAcceptable:n._isSegmentResponseCodeAcceptable,isResponseCodeRetryable:n._isSegmentResponseCodeRetryable,encryptionConfig:e})}),abort:function(){return u.abort()}}},{storeResult:!1})).run()})},e.prototype.getSegmentIndexContainingTime=function(e){var t=this._data;if(!t)throw new Error("Not loaded yet.");var n=S(t.segments,function(t){return t.timeRange.containsTime(e)});return n?t.mediaSequence+t.segments.indexOf(n):null},e.prototype._buildEncryptionConfig=function(e,t){var n=this;return(new v(function(){if(e.method===u.NONE)return{result:E.resolve(void 0)};if(e.method!==u.AES_128)return n._logger.error("Unsupported encryption method.",e.method),{result:E.reject(new h.UnsupportedEncryptionError)};if(!n._keyLoader)return{result:E.reject(new Error("Encryption method not supported as no key loader provided."))};var r=n._retrieveKey(e.keyUrl);return{result:r.whenComplete().then(function(n){return{cipher:"AES-CBC",key:n,iv:e.iv||s(t)}}),abort:function(){return r.abort()}}})).run()},e.prototype._retrieveKey=function(e){var t=this,n=this._keyLoader;if(!n)throw new Error("No key loader.");var r=this._keyRetrievalJobsCache.get(e);if(r)this._logger.debug("Key retrieval already in progress.",e);else{var i=this._playlistEventRepresentation;if(!i)throw new Error("Playlist event representation should exist.");r=new v(function(){var r=b(function(){return new v(function(){var r=new d.Key(i,e);t._onKeyRequestQueued.dispatch({key:r});var s=n.request({url:e});return s.whenRequestStarted.then(function(){return t._onKeyRequestStart.dispatch({key:r})}),t._logger.debug("Retrieving key.",e),{result:s.getResponse().then(function(n){if(!n)return t._logger.warn("Key request timed out.",e),t._onKeyRequestFailed.dispatch({key:r,statusCode:null}),{success:!1};var i=n.statusCode;if(t._isKeyResponseCodeAcceptable(i)){var s=n.data;return s?(t._logger.debug("Got key response.",e,i),t._onKeyRetrieved.dispatch({key:r,statusCode:i}),{success:!0,result:new Uint8Array(s)}):(t._logger.warn("Key response contained no data.",e,i),t._onKeyRequestFailed.dispatch({key:r,statusCode:i}),{success:!1})}return t._isKeyResponseCodeRetryable(i)?(t._logger.warn("Key response code was not acceptable. Will retry.",e,i),t._onKeyRequestFailed.dispatch({key:r,statusCode:i}),{success:!1}):(t._logger.warn("Key response code was not acceptable.",e,i),t._onKeyRequestFailed.dispatch({key:r,statusCode:i}),E.reject(new l.UnacceptableResponseStatusCodeError(i)))}),abort:function(){t._logger.debug("Aborting key request.",e),s.abort(),t._onKeyRequestFailed.dispatch({key:r,aborted:!0})}}})},t._keyDelayCalculator);return{result:r.whenComplete(),abort:function(){return r.abort()}}},{storeResult:!1}),this._keyRetrievalJobsCache.set(e,r)}return r.run()},e.prototype._parsePlaylist=function(e){var t={version:null,type:O.LIVE,mediaSequence:null,targetDuration:null,totalDuration:0,ended:!1},n=[],s={method:u.NONE},o=null;k.lastIndex=0;for(var f,l=0,h=!1;null!==(f=k.exec(e));){var p=f.filter(function(e,t){return 0!==t&&void 0!==e}).map(function(e,t){return 0===t?e.toLowerCase():e}),d=p[0],v=p.slice(1);if(0===l){if("extm3u"!==d)throw new c.PlaylistParseError("First line did not contain EXTM3U tag.")}else{if(!h)switch(d){case"playlist-type":if(t.type!==O.LIVE)throw new c.PlaylistParseError("Already have playlist type.");switch(v[0].toLowerCase()){case"vod":t.type=O.VOD;break;case"event":t.type=O.EVENT;break;default:throw new c.PlaylistParseError("Invalid playlist type.")}break;case"media-sequence":if(null!==t.mediaSequence)throw new c.PlaylistParseError("Already have media sequence number.");var m=parseInt(v[0],10);if(m+""!==v[0])throw new c.PlaylistParseError("Invalid media sequence number.");t.mediaSequence=m;break;case"targetduration":if(null!==t.targetDuration)throw new c.PlaylistParseError("Already have target duration.");var g=parseInt(v[0],10);if(g+""!==v[0]||g<0)throw new c.PlaylistParseError("Invalid target duration.");t.targetDuration=1e3*g;break;case"version":if(null!==t.version)throw new c.PlaylistParseError("Already have version.");var y=parseInt(v[0],10);if(y+""!==v[0])throw new c.PlaylistParseError("Invalid version.");if(y<3)throw new c.PlaylistParseError("HLS version must be 3 or above.");t.version=y;break;default:h=!0}if(h)switch(d){case"key":L.lastIndex=0;for(var b=void 0,w=null,E=null,S=null;null!==(b=L.exec(v[0]));){if(3!==b.length)throw new c.PlaylistParseError("Error parsing key attributes.");var T=b[1].trim().toLowerCase(),N=r(b[2].trim());switch(T){case"method":w=N.toLowerCase();break;case"uri":E=x.buildAbsoluteUrl(this._url,N);break;case"iv":S=i(N);break;default:this._logger.warn("Unknown attribute when parsing KEY line.",T)}}if(!w)throw new c.PlaylistParseError("Missing encryption method.");if(!E&&"none"!==w)throw new c.PlaylistParseError("Missing key url.");switch(w){case"none":if(null!==E)throw new c.PlaylistParseError("Key url not allowed.");if(null!==S)throw new c.PlaylistParseError("IV not allowed.");s={method:u.NONE};break;case"aes-128":if(!E)throw new c.PlaylistParseError("Key url required.");s={method:u.AES_128,keyUrl:E,iv:S};break;case"sample-aes":if(!E)throw new c.PlaylistParseError("Key url required.");s={method:u.SAMPLE_AES,keyUrl:E,iv:S};break;default:throw new c.PlaylistParseError("Unknown encryption method.")}break;case"inf":if(!v[0].match(A))throw new c.PlaylistParseError("Invalid segment duration.");o=1e3*parseFloat(v[0]);break;case"":if(t.ended)throw new c.PlaylistParseError("Already received ENDLIST tag.");if(null===o)throw new c.PlaylistParseError("Not received segment duration.");var C=x.buildAbsoluteUrl(this._url,v[0]);n.push({url:C,timeRange:new a.TimeRange(t.totalDuration,o),encryptionData:s}),t.totalDuration+=o,o=null;break;case"endlist":if(t.ended)throw new c.PlaylistParseError("Already had ENDLIST tag.");t.ended=!0;break;default:this._logger.warn("Unable to parse playlist line.",d)}}l++}var M=t.version,_=t.type,D=t.mediaSequence,P=t.targetDuration,H=t.ended,B=t.totalDuration;if(null===M)throw new c.PlaylistParseError("Missing version.");if(null===P)throw new c.PlaylistParseError("Missing target duration.");if(H&&_===O.LIVE)throw new c.PlaylistParseError("Cannot be ended if type is LIVE.");if(!H&&_===O.VOD)throw new c.PlaylistParseError("Must be ended if type is VOD.");return null===D&&(D=0),{version:M,type:_,mediaSequence:D,targetDuration:P,totalDuration:B,ended:H,segments:n}},e}();t.Playlist=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(22),s=n(3),o=n(11),u=n(27),a=r.helpers.abortableJob.AbortableJob,f=r.helpers.retry,l=f.retry,c=f.buildExponentialDelayCalculator,h=r.helpers.Promise,p=r.eventDispatcher.EventDispatcher,d=r.logger.prefixLogger,v=r.logger.noOpLogger,m=function(){function e(e){var t=e.url,n=e.index,r=e.timeRange,i=e.encryptionConfig,o=e.format,f=e.loader,m=e.playlistEventRepresentation,g=e.logger,y=void 0===g?v:g,b=e.delayCalculator,w=void 0===b?c():b,E=e.isResponseCodeAcceptable,S=void 0===E?function(e){return 200===e}:E,x=e.isResponseCodeRetryable,T=void 0===x?function(e){return!(e>=400&&e<500)}:x,N=this;this._onSegmentRequestQueued=new p,this._onSegmentRequestStart=new p,this._onSegmentRetrieved=new p,this._onSegmentRequestFailed=new p,this._onSegmentDecryptionStart=new p,this._onSegmentDecryptionEnd=new p,this._logger=d(y,"Segment"),this.onSegmentRequestQueued=this._onSegmentRequestQueued.getHandle(),this.onSegmentRequestStart=this._onSegmentRequestStart.getHandle(),this.onSegmentRetrieved=this._onSegmentRetrieved.getHandle(),this.onSegmentRequestFailed=this._onSegmentRequestFailed.getHandle(),this.onSegmentDecryptionStart=this._onSegmentDecryptionStart.getHandle(),this.onSegmentDecryptionEnd=this._onSegmentDecryptionEnd.getHandle(),this._timeRange=r,this._encryptionConfig=i||null,this._format=o,this._loader=f,this._isResponseCodeAcceptable=S,this._isResponseCodeRetryable=T,this._downloadAbortableJob=new a(function(){var e=l(function(){return new a(function(){var e=new u.Segment(m,t,n);N._onSegmentRequestQueued.dispatch({segment:e});var r=N._loader.request({url:t});return r.whenRequestStarted.then(function(){return N._onSegmentRequestStart.dispatch({segment:e})}),N._logger.debug("Requesting segment.",t),{result:r.getResponse().then(function(n){if(!n)return N._logger.warn("Segment request timed out.",t),N._onSegmentRequestFailed.dispatch({segment:e,statusCode:null}),{success:!1};var r=n.statusCode;if(N._isResponseCodeAcceptable(r)){var i=n.data;return i?(N._logger.debug("Got segment response.",t,r),N._onSegmentRetrieved.dispatch({segment:e,statusCode:r}),{success:!0,result:{data:new Uint8Array(i),eventRepresentation:e}}):(N._logger.warn("Segment response contained no data.",t,r),N._onSegmentRequestFailed.dispatch({segment:e,statusCode:r}),{success:!1})}return N._isResponseCodeRetryable(r)?(N._logger.debug("Segment response code was not acceptable. Will retry.",t,r),N._onSegmentRequestFailed.dispatch({segment:e,statusCode:r}),{success:!1}):(N._logger.debug("Segment response code was not acceptable.",t,r),N._onSegmentRequestFailed.dispatch({segment:e,statusCode:r}),h.reject(new s.UnacceptableResponseStatusCodeError(r)))}),abort:function(){N._logger.debug("Aborting segment request.",t),r.abort(),N._onSegmentRequestFailed.dispatch({segment:e,aborted:!0})}}})},w);return{result:e.whenComplete(),abort:function(){return e.abort()}}},{storeResult:!1}),this._retrieveAbortableJob=new a(function(){var e=N._downloadAbortableJob.run();return{result:e.whenComplete().then(function(e){var t=e.data,n=e.eventRepresentation;return N.decrypt(t,n).then(function(e){return{data:e,eventRepresentation:n}})}),abort:function(){e.abort()}}},{storeResult:!1})}return e.prototype.getTimeRange=function(){return this._timeRange},e.prototype.retrieveData=function(){return this._retrieveAbortableJob.run()},e.prototype.decrypt=function(e,t){var n=this,r=this._encryptionConfig;if(!r)return h.resolve(e);this._logger.info("Finding a decryptor...");var s=i.DecryptorFactory.retrieveDecryptor(r);if(!s)return this._logger.error("Could not find a decryptor."),h.reject(new o.NoDecryptorError);this._logger.info("Decryptor found."),this._onSegmentDecryptionStart.dispatch({segment:t});var u=s.decrypt(e,r);return u.then(function(){n._logger.debug("Decrypted."),n._onSegmentDecryptionEnd.dispatch({segment:t})}),u},e}();t.Segment=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(4),s=r.helpers.Promise,o=r.eventDispatcher.EventDispatcher,u=r.logger.prefixLogger,a=r.logger.noOpLogger,f=i.helpers.timeRanges.getCoverage,l=function(){function e(e,t,n,r,i){void 0===i&&(i=a);var s=this;this._onAppendQueued=new o,this._onAppendEnd=new o,this._updateTimerId=null,this._waitingForData=!1,this._started=!1,this._resettingPromise=null,this._error=null,this._logger=u(i,"SimpleMSE"),this.onAppendQueued=this._onAppendQueued.getHandle(),this.onAppendEnd=this._onAppendEnd.getHandle(),this._mse=e,this._getNextSegmentData=t,this._getPosition=n,this._onError=r,e.whenInitialized().then(function(){!s._error&&s._started&&(s._logger.debug("MSE initialized. Preparing to update."),s._prepareUpdate())}).catch(function(e){s._error||(s._logger.error("Error when waiting for MSE to initialize.",e),s._handleError(e||new Error("Error waiting for MSE to initialize.")))})}return e.prototype.start=function(){if(this._checkNotErrored(),this._resettingPromise)throw new Error("start() is not allowed whilst a reset is in progress.");if(this._started)throw new Error("Already started. reset() first.");this._logger.debug("start() called."),this._started=!0,this._prepareUpdate()},e.prototype.kill=function(){this._error||(this._logger.debug("kill() called."),this._updateTimerId&&(this._logger.debug("Clearing update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._error=new Error("Killed."),this._logger.debug("Killed."))},e.prototype.reset=function(){var e=this;if(this._checkNotErrored(),this._logger.debug("reset() called."),this._resettingPromise)return this._logger.debug("Reset already in progress."),this._resettingPromise;if(!this._started)return this._logger.debug("Nothing to do to, already reset."),s.resolve();var t=this._mse;return this._waitingForData=!1,this._started=!1,this._updateTimerId&&(this._logger.debug("Claring update timer."),window.clearTimeout(this._updateTimerId),this._updateTimerId=null),this._logger.debug("Waiting to clear MSE buffer..."),this._resettingPromise=t.whenIdle().then(function(){e._logger.debug("Clearing MSE buffer.");var n=t.getBuffered(),r=f(n);if(r.duration>0)return t.remove(r)}).then(function(){e._logger.debug("MSE buffer cleared."),e._resettingPromise=null}).catch(function(t){if(!e._error){e._logger.error("Error resetting MSE.",t);var n=t||new Error("Error resetting MSE.");throw e._handleError(n),n}})},e.prototype.waitingForSegmentData=function(){return this._checkNotErrored(),this._waitingForData},e.prototype.provideNextSegmentData=function(e){if(this._checkNotErrored(),!this._waitingForData)throw new Error("Not waiting for data.");this._logger.debug("Segment data provided."),this._waitingForData=!1,this._update(e)},e.prototype._prepareUpdate=function(){if(!this._updateTimerId){var e=this._mse;if(e.hasInitialized())if(f(e.getBuffered()).end<=this._getPosition()+7e3){this._logger.debug("Requesting next segment data.");var t=this._getNextSegmentData();t?(this._logger.debug("Got segment data."),this._update(t)):(this._logger.debug("Did not get any data."),this._waitingForData=!0)}else this._scheduleUpdate()}},e.prototype._update=function(e){var t=this;this._logger.debug("Updating...");var n=this._mse;this._onAppendQueued.dispatch({segment:e.eventRepresentation}),this._logger.debug("Appending..."),n.append(e.data).then(function(){t._logger.debug("Appended."),t._onAppendEnd.dispatch({segment:e.eventRepresentation}),t._resettingPromise||t._scheduleUpdate()}).catch(function(e){t._error||(t._logger.error("Error updating MSE.",e),t._handleError(e||new Error("Error updating MSE.")))})},e.prototype._scheduleUpdate=function(){var e=this;this._updateTimerId=window.setTimeout(function(){e._updateTimerId=null,e._prepareUpdate()},500)},e.prototype._checkNotErrored=function(){if(this._error)throw this._error},e.prototype._handleError=function(e){this._error||(this._error=e,this._onError(e))},e}();t.SimpleMSE=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(14),s=[r.PassThrough,i.MP3ToMP4];t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=r.helpers.Promise;t.PassThrough={getInputFormat:function(){return{}},getOutputFormat:function(){return{}},transmux:function(e){return i.resolve({data:e})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);t.TransmuxerFactory={retrieveTransmuxers:function(e,t){return r.default.filter(function(n){var r=n.getInputFormat(),i=n.getOutputFormat();return!(e&&(r.mimeType&&e.mimeType&&e.mimeType!==r.mimeType||r.audioCodec&&e.audioCodec&&e.audioCodec.id!==r.audioCodec.id||r.videoCodec&&e.videoCodec&&e.videoCodec.id!==r.videoCodec.id)||t&&(i.mimeType&&t.mimeType&&t.mimeType!==i.mimeType||i.audioCodec&&t.audioCodec&&t.audioCodec.id!==i.audioCodec.id||i.videoCodec&&t.videoCodec&&t.videoCodec.id!==i.videoCodec.id))})},retrieveTransmuxer:function(e,n){return t.TransmuxerFactory.retrieveTransmuxers(e,n)[0]||null}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var r=n(16);t.HLSMSEPlayer=r.HLSMSEPlayer;var i=n(15);t.errors=i.errors;var s=n(17);t.retrievalErrors=s.retrievalErrors}])})},function(e,t,n){!function(t,r){e.exports=r(n(0))}(0,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),s=function(e){function t(t,n,r){void 0===n&&(n={}),void 0===r&&(r=2e4);var i=e.call(this)||this;i.__aborted=!1;var s=new XMLHttpRequest;return i.xhr=s,s.addEventListener("load",function(){return i._onLoad()}),s.addEventListener("error",function(){return i._onError()}),s.addEventListener("timeout",function(){return i._onTimeout()}),s.open("GET",t,!0),s.timeout=r,s.responseType=i._getResponseType(),Object.keys(n).forEach(function(e){return s.setRequestHeader(e,n[e])}),i._signalRequestStart(),s.send(),i}return r(t,e),t.prototype._abort=function(){this.__aborted=!0,this.xhr.abort()},t.prototype._onTimeout=function(){this.__aborted||this._provideResponse(null)},t.prototype._onLoad=function(){if(!this.__aborted){var e=this.xhr;this._provideResponse({statusCode:e.status,data:this.xhr.response,headers:this._parseHeaders(e.getAllResponseHeaders()||"")})}},t.prototype._onError=function(){this.__aborted||(0===this.xhr.status?this._provideResponse({statusCode:0,data:null,headers:{}}):this._provideResponse(new Error("An error occurred.")))},t.prototype._parseHeaders=function(e){var t={};if(!e)return t;for(var n=e.split("\r\n"),r=0,i=n.length;r<i;r++){var s=n[r],o=s.indexOf(": ");if(o>0){var u=s.substring(0,o).trim(),a=s.substring(o+2);t[u]=a}}return t},t}(i.loader.LoaderRequest);t.LoaderRequest=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);t.arrayBufferLoader={request:function(e){var t=e.url,n=e.headers,i=e.timeout;return new r.ArrayBufferLoaderRequest(t,n,i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);t.stringLoader={request:function(e){var t=e.url,n=e.headers,i=e.timeout;return new r.StringLoaderRequest(t,n,i)}}},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getResponseType=function(){return"arraybuffer"},t}(i.LoaderRequest);t.ArrayBufferLoaderRequest=s},function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._getResponseType=function(){return"text"},t}(i.LoaderRequest);t.StringLoaderRequest=s},function(t,n){t.exports=e},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="7.4.1",t.buildNumber=844;var r=n(2);t.stringLoader=r.stringLoader;var i=n(1);t.arrayBufferLoader=i.arrayBufferLoader}])})},function(e,t,n){e.exports={SCAudio:n(2),SCAudioPublicApiStreamURLRetriever:n(6),MaestroCore:n(0),MaestroLoaders:n(4),MaestroHTML5Player:n(1),MaestroHLSMSEPlayer:n(3)}},function(e,t,n){!function(t,r){e.exports=r(n(0),n(2))}(0,function(e,t){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),s=n(3),o=n(1),u=i.helpers.abortableJob.AbortableJob,a=i.helpers.find,f=i.helpers.time,l=new o.Limiter(300,3e5),c=[s.renditions.encryptedHlsMp3,s.renditions.hlsMp3,s.renditions.httpMp3],h=function(e){function t(t){var n=t.loader,r=t.clientId,i=t.trackId,s=t.secretToken,o=void 0===s?null:s,u=t.requestAuthorization,a=void 0===u?null:u,f=t.excludedRenditions,l=void 0===f?[]:f,c=t.maxBitrate,h=void 0===c?1/0:c,p=t.endpointBaseUrl,d=void 0===p?"https://api.soundcloud.com/":p,v=t.encryptedStreamsEnabled,m=void 0!==v&&v,g=e.call(this)||this;if(g._getUrlsJob=null,g._clearResponseTimer=null,!n)throw new Error("loader required.");if("string"!=typeof r)throw new Error("clientId invalid.");if("number"!=typeof i)throw new Error("trackId invalid.");if(null!==o&&"string"!=typeof o)throw new Error("secretToken invalid.");if(null!==a&&"string"!=typeof a)throw new Error("requestAuthorizaton invalid.");if("number"!=typeof h||h<=0)throw new Error("maxBitrate must be > 0.");if("string"!=typeof d)throw new Error("endpointBaseUrl must be > 0.");if("boolean"!=typeof m)throw new Error("encryptedStreamsEnabled invalid.");return g._loader=n,g._clientId=r,g._requestAuthorization=a,g._trackId=i,g._secretToken=o,g._endpointBaseUrl=d,g._encryptedStreamsEnabled=m,g._excludedRenditions=l,g._excludedRenditionsOnLastURLRequest=l.slice(),g._maxBitrate=h,g}return r(t,e),t.prototype.getTrackId=function(){return this._trackId},t.prototype.excludeRendition=function(e){this._excludedRenditions.indexOf(e)<0&&this._excludedRenditions.push(e)},t.prototype.updateRequestAuthorization=function(e){if(null!==e&&"string"!=typeof e)throw new Error("requestAuthorizaton invalid.");this._requestAuthorization=e},t.prototype.clearCache=function(){this._clearResponseTimer&&(window.clearTimeout(this._clearResponseTimer),this._clearResponseTimer=null),this._getUrlsJob=null},t.prototype.getMaxBitrate=function(){return this._maxBitrate},t.prototype.setMaxBitrate=function(e){if("number"!=typeof e||e<=0)throw new Error("maxBitrate must be > 0.");this._maxBitrate=e},t.prototype.getUrl=function(){var e=this,t=this._maxBitrate,n=this._excludedRenditions;return(new u(function(){e._excludedRenditionsOnLastURLRequest.length===e._excludedRenditions.length?e.clearCache():e._excludedRenditionsOnLastURLRequest=e._excludedRenditions.slice();var r=e._getUrls();return{result:r.whenComplete().then(function(e){var r=e.urls,i=e.timeRetrieved,s=null;return c.filter(function(e){return n.indexOf(e)<0}).some(function(e){var n=r.filter(function(t){return t.rendition===e}).map(function(e){return{url:e.url,bitrate:e.bitrate}}),o=a(n.sort(function(e,t){return t.bitrate-e.bitrate}),function(e){return e.bitrate<=t});return!!o&&(s={url:o.url,rendition:e,bitrate:o.bitrate,timeRetrieved:i},!0)}),s}),abort:function(){return r.abort()}}})).run()},t.prototype._getUrls=function(){var e=this;return this._getUrlsJob||(this._getUrlsJob=new u(function(){var t=i.helpers.deferred.buildDeferred(),n=null,r=l.execute(function(){var r=e._requestAuthorization?{Authorization:e._requestAuthorization}:{},i=e._endpointBaseUrl+"i1/tracks/"+encodeURI(e._trackId+"")+"/streams?client_id="+encodeURIComponent(e._clientId);e._encryptedStreamsEnabled&&(i+="&with_encrypted_streams=true"),e._secretToken&&(i+="&secret_token="+encodeURI(e._secretToken)),n=e._loader.request({url:i,headers:r}),n.getResponse().then(function(e){if(!e)throw new s.RequestError(null);if(200!==e.statusCode)throw new s.RequestError(e.statusCode);if(!e.data)throw new Error("Response contained no data.");var t=f.now(),n=JSON.parse(e.data),r=[];return Object.keys(n).map(function(e){var t=e.split("_"),i=t[0],s=t[1],o=t[2],u=parseInt(o,10);if(i&&s&&!isNaN(u)){var f=a(c,function(e){return e.scProtocol===i&&e.scFormat===s});f&&r.push({rendition:f,bitrate:u,url:n[e]})}}),{urls:r,timeRetrieved:t}}).then(t.resolve,t.reject)});return{result:t.promise,abort:function(){r.abort(),n&&n.abort()}}}),this._clearResponseTimer=window.setTimeout(function(){e._clearResponseTimer=null,e._getUrlsJob=null},5e3)),this._getUrlsJob.run()},t}(s.BaseStreamUrlRetriever);t.StreamUrlRetriever=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){if(void 0===t&&(t=6e4),this._limit=e,this._period=t,this._jobs=[],this._jobsRunInPeriod=0,e<=0)throw new Error("limit must be > 0.");if(t<=0)throw new Error("period must be > 0.")}return e.prototype.execute=function(e){var t=this,n={job:e};return this._jobs.push(n),this._executeNextJob(),{abort:function(){var e=t._jobs.indexOf(n);e>=0&&t._jobs.splice(e,1)}}},e.prototype._executeNextJob=function(){var e=this;if(this._jobsRunInPeriod<this._limit){var t=this._jobs.shift();t&&(this._jobsRunInPeriod++,window.setTimeout(function(){e._jobsRunInPeriod--,e._executeNextJob()},this._period),t.job())}},e}();t.Limiter=r},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version="11.3.1",t.buildNumber=315;var r=n(0);t.StreamUrlRetriever=r.StreamUrlRetriever}])})}])}),
define("vendor/i18n/lib/datetime",["require","exports","module"],function(e,t,n){function f(e,t){function f(t,n,r){if(t instanceof Date){r=r||Date.now();var i=r-t,s=i>0,o,a=null,f,l,c=e.relativeTime;n=n&&parseInt(n,10)||1e3,i=Math.abs(i);if(i<=n)return s?c.justNow:c.rightNow;for(o in u)if(u.hasOwnProperty(o)){if(i<u[o])break;a=o,i/=u[o]}return i=Math.floor(i),f=s?c.past:c.future,l=c[a](i),f.replace(/%s/i,l)}throw new Error("toRelativeTime method expects first argument to be Date")}function g(t,n){var r,i,s,o,u,a,l=e.dates;if(t instanceof Date)return n==="relative"?f(t):(r=t.getDate(),i=t.getDay(),s=t.getMonth(),o=t.getFullYear(),u=y(t.getMinutes()),a=[["YYYY",o],["MMMM",l.months[s]],["DDDD",l.weekdays[i]],["MMM",l.monthsShort[s]],["DD",r],["MM",s+1],["HH",t.getHours()],["mm",u]],a.reduce(function(e,t){return e.replace(new RegExp(t[0],"g"),t[1])},w(n)));throw new Error("format method expects first argument to be Date")}function w(t){var n;switch(t){case"iso":return"YYYY-MM-DD";case"readable":n="readable";break;case"readable_time":n="readableTime";break;case"readable_abbreviated":n="readableAbbreviated";break;case"readable_with_weekday":n="readableWithWeekday";break;default:n="default"}return e.dateFormats[n]}function E(e){var t,r;return t=typeof e=="number"?new Date(e):l(e),r=t-Date.now(),Math.abs(r)>7*o?!1:(n=r,!0)}function S(){return Date.now()+n}function x(t,n){if(isNaN(t))return t;var o=[],u=Math.floor(t/s),a=Math.floor(t/i%60),f=Math.floor(t/r%60),l=e.relativeTime;return n&&n.inWords?(u>0&&o.push(l.hour(u)),a>0&&o.push(l.min(a)),(f>0||a===0&&u===0)&&o.push(l.sec(f)),o.join(" ")):(u>0&&o.push(u),n&&n.minimal&&u===0&&a===0?o.push(""):o.push(a<10&&u>0?"0"+a:a),o.push(f<10?"0"+f:f),o.join(":"))}function T(e){return t.zeroPad(e.getHours(),2)+":"+t.zeroPad(e.getMinutes(),2)}var n=0;return{time:a,toRelativeTime:f,format:g,fromString:l,setServerTime:E,nowAtServer:S,timecode:x,stringToTime:c,convert:h,floorTo30Minutes:p,parseTime:d,formatTime:T,getTimezoneOffset:v,getBounds:m,toLocalDate:b}}function l(e){return new Date(Date.parse(e)||e)}function c(e){var t=/^\d+(\.\d+)?$/g,n=/^(?:npt:)?(?:(?:(\d+):)?(\d\d?):)?(\d\d?)(\.\d+)?$/,r=/^(?:(\d\d?)[hH])?(?:(\d\d?)[mM])?(\d\d?)[sS]$/,i;return t.test(e)?parseFloat(e)*1e3:(i=n.exec(e)||r.exec(e),i?(3600*(parseInt(i[1],10)||0)+60*(parseInt(i[2],10)||0)+parseInt(i[3],10)+(parseFloat(i[4])||0))*1e3:0)}function h(e,t,n){n=n||"s";var r="smh",i=r.indexOf(t),s=r.indexOf(n);if(i===-1||s===-1)throw new Error('Units must be expressed as either "h", "m" or "s"');return Math.round(Math.pow(60,s-i)*e)}function p(e){return e=new Date(e),e.setMinutes(e.getMinutes()-e.getMinutes()%30),e}function d(e){var t=e.match(/^\s*(\d{1,2})\s*(?::\s*(\d{1,2}))?\s*(?:(a|p)m?)?\s*$/i),n,r,i;if(!t)return;n=t[1]&&parseInt(t[1],10),r=t[2]&&parseInt(t[2],10),i=t[3]&&t[3].toLowerCase();if(n>23||r>59)return;if(i)if(i==="p"){if(n<12)n+=12;else if(n>13)return}else if(i==="a")if(n===12)n=0;else if(n>12)return;return r||(r=0),[n,r]}function v(){var e=new Date(2009,0,1,6,0,0),t=new Date(2009,6,1,6,0,0),n;return n=e.getUTCHours()>t.getUTCHours()?e.getTimezoneOffset():t.getTimezoneOffset(),n}function m(e){if(e.offset==null)return{};var t=new Date;g(t,e.resolution);var n=+(new Date(+t+e.offset*a[e.resolution])),r=+(new Date(n+(e.duration-1)*a[e.resolution]));return{from:n,to:r}}function g(e,t){switch(t){case"day":e.setUTCHours(0,0,0,0);break;case"hour":e.setUTCMinutes(0,0,0)}}function y(e){return("0"+e).substr(-2)}function b(e){var t=typeof e=="string"?Date.parse(e):typeof e=="number"?e:e.valueOf(),n=v()*60*1e3;return new Date(t+n)}n.exports=f;var r=1e3,i=6e4,s=60*i,o=24*s,u={sec:1e3,min:60,hour:60,day:24,month:30,year:12},a={minute:i,hour:s,day:o}}),
define("vendor/i18n/lib/number",["require","exports","module"],function(e,t,n){function r(e){return{round:i,format:function(t,n){if(t===""||t==null||isNaN(t)||Math.abs(t)===Infinity)return"";t=parseFloat(t);var r=n&&n.precision||0,s=e.delimiters;return r=Math.max(Math.min(r,20),0),t=i(t,r,n&&n.roundingFn),n&&!isNaN(n.fixed)&&(t=t.toFixed(Math.max(Math.min(n.fixed,20),0))),(""+t).split(".").map(function(e,t){return t===0?e.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+s.thousands):e}).join(s.decimal)},zeroPad:function(e,t){if(e==null)return e;e+="";var n=t-e.length;return n>0&&(e=(new Array(n+1)).join("0")+e),e}}}function i(e,t,n){n=n||Math.round;var r=Math.pow(10,t||0);return n(e*r)/r}n.exports=r}),
define("vendor/i18n/locales/es",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Ahora mismo",rightNow:"Ahora mismo",future:"%s",past:"%s",sec:i(["1 segundo","%d segundos"]),min:i(["1 minuto","%d minutos"]),hour:i(["1 hora","%d horas"]),day:i(["1 dÃ­a","%d dÃ­as"]),month:i(["1 mes","%d meses"]),year:i(["1 aÃ±o","%d aÃ±os"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthsShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],weekdays:["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"],shortWeekdays:["Dom.","Lun.","Mar.","MiÃ©.","Jue.","Vie.","SÃ¡b."],minWeekdays:["Do","Lu","Ma","Mi","Ju","Vi","SÃ¡"]},d3:{grouping:[3],currency:["â‚¬",""],dateTime:"%A, %e de %B de %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Cerrar",prevText:"Ant",nextText:"Sig",currentText:"Hoy",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}}}),
define("vendor/i18n/locales/de",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Vor kurzem",rightNow:"Jetzt",future:"%s",past:"%s",sec:i(["1 Sekunde","%d Sekunden"]),min:i(["1 Minute","%d Minuten"]),hour:i(["1 Stunde","%d Stunden"]),day:i(["1 Tag","%d Tagen"]),month:i(["1 Monat","%d Monaten"]),year:i(["1 Jahr","%d Jahren"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD.MM.YYYY"},dates:{months:["Januar","Februar","MÃ¤rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],weekdays:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],shortWeekdays:["So.","Mo.","Di.","Mi.","Do.","Fr.","Sa."],minWeekdays:["So","Mo","Di","Mi","Do","Fr","Sa"]},d3:{grouping:[3],currency:[""," â‚¬"],dateTime:"%A, der %e. %B %Y, %X",date:"%d.%m.%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"SchlieÃŸen",prevText:"ZurÃ¼ck",nextText:"Weiter",currentText:"Heute",weekHeader:"KW",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}};n.exports=r}),
define("vendor/i18n/locales/en",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Just now",rightNow:"Right now",future:"%s",past:"%s",sec:i(["1 second","%d seconds"]),min:i(["1 minute","%d minutes"]),hour:i(["1 hour","%d hours"]),day:i(["1 day","%d days"]),month:i(["1 month","%d months"]),year:i(["1 year","%d years"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortWeekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],minWeekdays:["Su","Mo","Tu","We","Th","Fr","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",weekHeader:"Wk",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}}}),
define("vendor/i18n/locales/fr",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"RÃ©cemment",rightNow:"Maintenant",future:"%s",past:"%s",sec:i(["1 seconde","%d secondes"]),min:i(["1 minute","%d minutes"]),hour:i(["1 heure","%d heures"]),day:i(["1 jour","%d jours"]),month:i(["1 mois","%d mois"]),year:i(["1 an","%d ans"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"DD MMM YYYY",readableWithWeekday:"DDDD DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["janvier","fÃ©vrier","mars","avril","mai","juin","juillet","aoÃ»t","septembre","octobre","novembre","dÃ©cembre"],monthsShort:["janv.","fÃ©vr.","mars","avr.","mai","juin","juil.","aoÃ»t","sept.","oct.","nov.","dÃ©c."],weekdays:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],shortWeekdays:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],minWeekdays:["Di","Lu","Ma","Me","Je","Ve","Sa"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, le %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fermer",prevText:"PrÃ©cÃ©dent",nextText:"Suivant",currentText:"Aujourd'hui",weekHeader:"Sem.",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e>1?1:0}}}),
define("vendor/i18n/locales/it",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Un momento fa",rightNow:"Ora",future:"%s",past:"%s",sec:i(["1 secondo","%d secondi"]),min:i(["1 minuto","%d minuti"]),hour:i(["1 ora","%d ore"]),day:i(["1 giorno","%d giorni"]),month:i(["1 mese","%d mesi"]),year:i(["1 anno","%d anni"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthsShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],weekdays:["Domenica","LunedÃ¬","MartedÃ¬","MercoledÃ¬","GiovedÃ¬","VenerdÃ¬","Sabato"],shortWeekdays:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],minWeekdays:["Do","Lu","Ma","Me","Gi","Ve","Sa"]},d3:{grouping:[3],currency:["â‚¬",""],dateTime:"%A %e %B %Y, %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Chiudi",prevText:"Prec",nextText:"Succ",currentText:"Oggi",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}}}),
define("vendor/i18n/locales/nl",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:",",decimal:"."},relativeTime:{justNow:"Zojuist",rightNow:"Nu",future:"%s",past:"%s",sec:i(["1 seconde","%d seconden"]),min:i(["1 minuut","%d minuten"]),hour:i(["1 uur","%d uur"]),day:i(["1 dag","%d dagen"]),month:i(["1 maand","%d maanden"]),year:i(["1 jaar","%d jaar"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD-MM-YYYY"},dates:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],monthsShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec"],weekdays:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],shortWeekdays:["zon","maa","din","woe","don","vri","zat"],minWeekdays:["zo","ma","di","wo","do","vr","za"]},d3:{grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%d-%m-%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Sluiten",prevText:"â†",nextText:"â†’",currentText:"Vandaag",weekHeader:"Wk",dateFormat:"dd-mm-yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}}}),
define("vendor/i18n/locales/pt_BR",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:".",decimal:","},relativeTime:{justNow:"Agora hÃ¡ pouco",rightNow:"Agora hÃ¡ pouco",future:"%s",past:"%s",sec:i(["1 segundo","%d segundos"]),min:i(["1 minuto","%d minutos"]),hour:i(["1 hora","%d horas"]),day:i(["1 dia","%d dias"]),month:i(["1 mÃªs","%d meses"]),year:i(["1 ano","%d anos"])},dateFormats:{readable:"DD MMMM YYYY",readableTime:"DD MMMM YYYY HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, DD MMMM YYYY","default":"DD/MM/YYYY"},dates:{months:["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthsShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda-Feira","TerÃ§a-Feira","Quarta-Feira","Quinta-Feira","Sexta-Feira","SÃ¡bado"],shortWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"],minWeekdays:["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"]},d3:{grouping:[3],currency:["$",""],dateTime:"%A, %e de %B de %Y. %X",date:"%d/%m/%Y",time:"%H:%M:%S",periods:["AM","PM"]},datePicker:{closeText:"Fechar",prevText:"Anterior",nextText:"PrÃ³ximo",currentText:"Hoje",weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}}}),
define("vendor/i18n/locales/sv",["require","exports","module"],function(e,t,n){function i(e,t){return function(t){return e[r.pluralForm(t)].replace(/%d/i,t)}}var r=n.exports={delimiters:{thousands:" ",decimal:","},relativeTime:{justNow:"Alldeles nyss",rightNow:"Alldeles nyss",future:"%s",past:"%s",sec:i(["1 sekund","%d sekunder"]),min:i(["1 minut","%d minuter"]),hour:i(["1 timme","%d timmar"]),day:i(["1 dygn","%d dygn"]),month:i(["1 mÃ¥nad","%d mÃ¥nad"]),year:i(["1 Ã¥r","%d Ã¥r"])},dateFormats:{readable:"YYYY MMMM DD",readableTime:"YYYY MMMM DD HH:mm",readableAbbreviated:"MMM DD, YYYY",readableWithWeekday:"DDDD, YYYY MMMM DD","default":"YYYY-MMMM-DD"},dates:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],weekdays:["SÃ¶ndag","MÃ¥ndag","Tisdag","Onsdag","Torsdag","Fredag","LÃ¶rdag"],shortWeekdays:["SÃ¶n","MÃ¥n","Tis","Ons","Tor","Fre","LÃ¶r"],minWeekdays:["SÃ¶","MÃ¥","Ti","On","To","Fr","LÃ¶"]},d3:{grouping:[3],currency:["","SEK"],dateTime:"%A den %d %B %Y %X",date:"%Y-%m-%d",time:"%H:%M:%S",periods:["fm","em"]},datePicker:{closeText:"StÃ¤ng",prevText:"FÃ¶rra",nextText:"NÃ¤sta",currentText:"Idag",weekHeader:"Ve",dateFormat:"yy-mm-dd",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},pluralForm:function(e){return e!==1?1:0}}}),
define("shared/config/locales/locale-de.json",[],{"Something doesnâ€™t sound right.":"Mit diesem Track stimmt etwas nicht.","Refresh the page to try again.":"Aktualisiere die Seite, um es erneut zu versuchen.","We canâ€™t find this page.":"Wir kÃ¶nnen diese Seite nicht finden.","We canâ€™t find this sound.":"Wir kÃ¶nnen diesen Track nicht finden.","We canâ€™t find this playlist.":"Wir kÃ¶nnen diese Playlist nicht finden.","We canâ€™t find this user.":"Wir kÃ¶nnen diesen Benutzer nicht finden.","Charts on SoundCloud.":"Charts auf SoundCloud.","Charts are only available on desktop browsers.":"Charts sind nur in Desktop-Browsern verfÃ¼gbar.","Alternatively, download our mobile app to discover trending music &amp; audio on the go.":"Alternativ kannst du unsere mobile App herunterladen, um trendige Musik und Audio-Inhalte auch unterwegs zu entdecken.","Joining Premier is only available on desktop browsers.":"Du kannst dem Premier-Partnerprogramm nur Ã¼ber einen Desktop-Browser beitreten.","Come back when youâ€™re at your computer to accept your invitation.":"Melde dich von deinem Computer aus an, um die Einladung anzunehmen.","Upload your music &amp; audio and share it with the world.":"Lade deine Musik und deine Audiodateien hoch und teile sie mit der Welt.","Upload is only supported on desktop browsers.":"Uploads werden nur von Desktop-Browsern unterstÃ¼tzt.","Come back when youâ€™re at your computer to upload more tracks.":"Wenn du dich wieder von deinem Computer aus anmeldest, kannst du weitere Tracks hochladen.","Connect with Facebook friends.":"Verbinde dich mit Facebook-Freunden.","Connect is only available on desktop browsers.":"Die Funktion zum Verbinden ist nur in Desktop-Browsern verfÃ¼gbar.","Looking to connect with Facebook friends or find new people to follow? This feature is only available on desktop browsers.":"MÃ¶chtest du dich mit Facebook-Freunden verbinden oder neue Leute zum Folgen finden? Diese Funktion ist nur in Desktop-Browsern verfÃ¼gbar.","Come back when youâ€™re at your computer to find new people to follow.":"Wenn du dich wieder von deinem Computer aus anmeldest, kannst du neue Leute zum Folgen finden.","Your profile":"Dein Profil","Managing your account is only available on desktop browsers.":"Die Verwaltung deines Kontos ist nur in Desktop-Browsern verfÃ¼gbar.",'For more information on optimizing your profile, visit our <a href="[[url]]">Creator Guide</a>.':'Weitere Informationen zum Optimieren deines Profils findest du in unserer <a href="[[url]]">Anleitung fÃ¼r Ersteller</a>.',"Your tracks.":"Deine Tracks.","Managing your tracks is only available on desktop browsers.":"Die Verwaltung deines Kontos ist nur in Desktop-Browsern verfÃ¼gbar.","Come back when youâ€™re at your computer to edit, share and add tracks to playlists.":"Wenn du dich wieder von deinem Computer aus anmeldest, kannst du Playlists bearbeiten und teilen und ihnen Tracks hinzufÃ¼gen.",'For more information, visit our <a href="[[url]]">Creator Guide</a>.':'Weitere Informationen findest du in unserer <a href="[[url]]">Anleitung fÃ¼r Ersteller</a>.',"Enjoy the free SoundCloud experience with our app.":"GenieÃŸ das kostenlose SoundCloud-Erlebnis mit unserer App.","Enjoy the full SoundCloud experience with our free app.":"GenieÃŸ das uneingeschrÃ¤nkte SoundCloud-Erlebnis mit unserer App.","[[soundTitle]] by [[authorName]]":"[[soundTitle]] von [[authorName]]",Messages:"Nachrichten","Take this playlist with you and enjoy the full SoundCloud experience with our free app.":"Nimm diese Playlist mit und genieÃŸ das uneingeschrÃ¤nkte SoundCloud-Erlebnis mit unserer kostenlosen App.","[[playlistTitle]] by [[authorName]]":"[[playlistTitle]] von [[authorName]]","Go Pro":"Pro-Abonnent werden",Search:"Suche","Search tracks":"Tracks suchen","Search playlists":"Playlists suchen","Search people":"Leute suchen","Search groups":"Gruppen suchen","Search [[category]]":"[[category]] durchsuchen","Unsubscribed successfully":"Abonnement erfolgreich gekÃ¼ndigt","Be the first to hear what [[username]] posts next with our free app.":"Mit unserer kostenlosen App erfÃ¤hrst du als Erster, was [[username]] als NÃ¤chstes postet.","[[username]]â€™s stream":"[[username]]s Stream","New &amp; hot tracks":"Neue und angesagte Tracks","Up-and-coming tracks on SoundCloud":"Vielversprechende neue Tracks auf SoundCloud","New &amp; hot audio":"Neue und angesagte Audio-Tracks","Up-and-coming audio on SoundCloud":"Vielversprechende neue Audio-Tracks auf SoundCloud","Top 50 tracks":" Top 50 Tracks","The most played tracks on SoundCloud this week":"Diese Woche auf SoundCloud am hÃ¤ufigsten gespielte Tracks","Top 50 audio":"Top 50 Audio","The most played audio on SoundCloud this week":"Diese Woche auf SoundCloud am hÃ¤ufigsten gespielte Audio-Tracks","New &amp; hot in [[[genreLabel]]]":"Neu und angesagt in [[[genreLabel]]]","Up-and-coming tracks in [[[genreLabel]]] on SoundCloud":"Vielversprechende neue Tracks in [[[genreLabel]]] auf SoundCloud","The most played tracks in [[[genreLabel]]] on SoundCloud this week":"Diese Woche auf SoundCloud am hÃ¤ufigsten gespielte Tracks in [[[genreLabel]]]","Up-and-coming in [[[genreLabel]]] on SoundCloud":"Vielversprechendes Neues in [[[genreLabel]]] auf SoundCloud","The most played in [[[genreLabel]]] on SoundCloud this week":"Diese Woche auf SoundCloud am hÃ¤ufigsten gespielt in [[[genreLabel]]]","New &amp; hot":"Neu und angesagt","All music genres":"Alle Musikgenres","All audio genres":"Alle Audio-Genres",Classical:"Klassik",Electronic:"Elektro","Hip-hop &amp; Rap":"Hip-Hop &amp; Rap",Piano:"Klavier",Speech:"Sprache",World:"Weltmusik",Audiobooks:"HÃ¶rbÃ¼cher",Learning:"Bildung","News &amp; Politics":"News &amp; Politik","Religion &amp; Spirituality":"Religion und SpiritualitÃ¤t",Sports:"Sport",Storytelling:"ErzÃ¤hlung",Technology:"Wissenschaft","1 hour":["1 Stunde","%d Stunden"],"1 minute":["1 Minute","%d Minuten"],"1 second":["1 Sekunde","%d Sekunden"],"Enjoy the full SoundCloud experience with our app.":"GenieÃŸ das uneingeschrÃ¤nkte SoundCloud-Erlebnis mit unserer App.",Close:"SchlieÃŸen",Retry:"Erneut versuchen","1 track":["1 Track","%d Tracks"],"1 play":["1 Play","%d Plays"],"1 follower":["1 Follower","%d Follower"],"Download on the App Store":"Im App Store herunterladen","Get it on Google Play":"Bei Google Play holen","Get it at BlackBerry World":"In der BlackBerry World holen","Available at Amazon":"Bei Amazon verfÃ¼gbar","Get it in the Firefox Marketplace":"Im Firefox Marketplace holen","Download SoundCloud":"SoundCloud herunterladen","I already have the app":"Ich habe die App schon","Listen on the SoundCloud app":"HÃ¶r rein in die SoundCloud-App","Download our free app":"Lade unsere kostenlose App herunter","No more previews, just full tracks.":"Schluss mit Vorschau, Tracks jetzt in voller LÃ¤nge.","Try SoundCloud Go+":"SoundCloud Go+ testen","Terms of use":"Nutzungsbedingungen",Legal:"Rechtliches","Privacy policy":"Datenschutzrichtlinie",Privacy:"Datenschutz","Cookies policy":"Cookies-Richtlinie","Company information":"Angaben zum Unternehmen",Imprint:"Impressum","People directory":"Personenverzeichnis",Directory:"Verzeichnis","SoundCloud homepage":"SoundCloud-Startseite","Hear the world's sounds":"HÃ¶r dir die Musik der Welt an","Trending tracks on SoundCloud":"Trendige Tracks auf SoundCloud","Get our Android app to save this track to your likes, create playlists and more.":"Hol dir unsere Android-App, um diesen Track deinen Likes hinzuzufÃ¼gen, Playlists zu erstellen und mehr.","Get our iPhone app to save this track to your likes, create playlists and more.":"Hol dir unsere iPhone-App, um diesen Track deinen Likes hinzuzufÃ¼gen, Playlists zu erstellen und mehr.","Try our app.<br>It's even better":"Probier unsere App aus.<br>Sie ist noch besser.","Try playing these related tracks":"Probiere es mit diesen Ã¤hnlichen Tracks",Cancel:"Abbrechen","Select your language":"Sprache wÃ¤hlen","Language:":"Sprache:","Messages are only<br> supported on desktop browsers.":"Nachrichten werden nur <br>auf Desktop-Browsern unterstÃ¼tzt.","Pages might not display correctly <br>in mobile browsers.":"Seiten werden auf mobilen Browsern <br>ggf. nicht richtig angezeigt.","Go to Messages":"Gehe zu Nachrichten","SoundCloud for mobile is<br> only available as an app.":"SoundCloud fÃ¼r MobilgerÃ¤te <br>ist nur als App verfÃ¼gbar.","Open or download now<br> to use SoundCloud on<br> your device.":"Jetzt Ã¶ffnen oder herunterladen, <br>um SoundCloud auf deinem <br>GerÃ¤t zu nutzen.","Open or get the app":"Du musst die App Ã¶ffnen oder herunterladen","Weâ€™re sorry to hear youâ€™re leaving.":"Es tut uns leid zu hÃ¶ren, dass du uns verlassen mÃ¶chtest.","Review your email subscriptions at":"PrÃ¼f deine E-Mail-Abonnements unter","Results for: [[generatedSummary]]":"Ergebnisse fÃ¼r: [[generatedSummary]]",back:"Back","Don't want to be included? Visit the desktop version of this page to opt out.":"Du mÃ¶chtest nicht einbezogen werden? Besuche die Desktop-Version dieser Seite, um dich abzumelden.","Play or pause track":"Spielen oder Track anhalten","Become a SoundCloud Pro":"Werde ein SoundCloud-Pro-Abonnent","175 million people listen on SoundCloud each month. Get the tools you need to share your music and grow your audience.":"Jeden Monat hÃ¶ren 175 Mio. Menschen auf SoundCloud Musik. Hole dir die Tools, die du brauchst, um deine Musik zu teilen und dein Publikum zu erweitern.","Pro plans can only be purchased from a computer.":"Pro-Abos kÃ¶nnen nur Ã¼ber einen Computer erworben werden.","Stats with more data.":"Statistiken mit mehr Daten.","Pro stats provide the data you need to plan your releases, connect with your biggest fans, and build your career.":"Pro-Statistiken liefern die Daten, die du zum Planen von VerÃ¶ffentlichungen, fÃ¼r den Kontakt mit deinen grÃ¶ÃŸten Fans und zum Aufbauen deiner Karriere benÃ¶tigst.","More upload time.":"Mehr Upload-Zeit.","Double your upload time with a Pro subscription or get limitless storage for your tracks, albums, projects, and back catalog with Pro Unlimited.":"Verdoppele deine Upload-Zeit mit einem Pro-Abonnement oder hol dir uneingeschrÃ¤nkten Speicher fÃ¼r deine Tracks, Alben, Projekte und Backkataloge mit Pro Unlimited.","More control.":"Mehr Kontrolle.","Pin tracks and playlists to the top of your profile with Spotlight, turn commenting and public stats on or off with Quiet Mode. By going Pro, youâ€™re in control of your tracks and playlists.":"Pinne mit Spotlight Tracks und Playlists oben an dein Profil an, schalte Kommentare und Ã¶ffentliche Statistiken ein oder aus im stummen Modus â€“ mit dem Pro-Abo hast du die volle Kontrolle Ã¼ber deine Tracks und Playlists.","Become a SoundCloud Pro on your computer today at [[[link]]].":"Werde noch heute auf deinem Computer ein SoundCloud Pro unter [[[link]]].",All:"Alle",Tracks:" Tracks",Playlists:" Playlists",People:"Leute","1 person":["1 Person","[[count]] Personen"],"1 playlist":["1 Playlist","[[count]] Playlists"],"Found 1 SoundCloud Go+ result":["1 SoundCloud Go+-Ergebnis gefunden","%d SoundCloud Go+-Ergebnisse gefunden"],"Show more SoundCloud Go+ results":"Weitere SoundCloud Go+-Ergebnisse anzeigen","Sorry, nothing matches your search.":"Leider stimmt nichts mit deiner Suche Ã¼berein","Search SoundCloud":"SoundCloud durchsuchen","Find people, tracks and playlists":"Finde Leute, Tracks und Playlists","You have successfully<br>changed your password.":"Du hast dein Kennwort<br>erfolgreich geÃ¤ndert.","Activate your device":"Dein GerÃ¤t aktivieren","Open the SoundCloud app":"SoundCloud-App Ã¶ffnen","When prompted, enter the activation code from your device. Activation is only available in the latest version of the app.":"Gib nach entsprechender Aufforderung den Aktivierungscode auf deinem GerÃ¤t ein. Die Aktivierung ist nur in der neuesten Version der App mÃ¶glich.","Or, continue in your browser":"Oder im Browser fortfahren","Not available in your country":"In deinem Land nicht verfÃ¼gbar","Reposted by [[username]]":"Repost von [[username]]","Now playing":"Aktueller Track","Previous track":"Vorheriger Track","Next track":"NÃ¤chster Track","1 Like":["1 Like","%d Likes"],"Not available in<br>your country":"In deinem Land <br>nicht verfÃ¼gbar","Weâ€™re sorry, that track isnâ€™t available on mobile.":"Leider ist der Track auf dem MobilgerÃ¤t nicht verfÃ¼gbar.","Show more tracks":"Weitere Tracks zeigen","Show more playlists":"Weitere Playlists anzeigen","Show more likes":"Weitere Likes zeigen","Enjoy the custom experience for creators with SoundCloud Pulse.":"GenieÃŸ die benutzerdefinierte Erfahrung fÃ¼r Ersteller mit SoundCloud Pulse.","searchResults::1 track":["1 Track","[[count]] Tracks"],'eg. "Found 12 tracks, 1 person"::Found [[joinedCounts]]':"[[joinedCounts]] gefunden","button::Sign in to SoundCloud":"Anmelden in SoundCloud","button::Download our free app":"Lade unsere kostenlose App herunter","track::Preview":"Vorschau"}),
define("shared/config/locales/locale-es.json",[],{"Something doesnâ€™t sound right.":"Parece que algo no funciona bien.","Refresh the page to try again.":"Actualiza la pÃ¡gina e intÃ©ntalo de nuevo.","We canâ€™t find this page.":"No se encuentra esta pÃ¡gina.","We canâ€™t find this sound.":"No se encuentra esta pista.","We canâ€™t find this playlist.":"No se encuentra esta lista.","We canâ€™t find this user.":"No se encuentra este usuario.","Charts on SoundCloud.":"Listas de Ã©xitos en SoundCloud.","Charts are only available on desktop browsers.":"Las listas de Ã©xitos solo estÃ¡n disponibles en los navegadores de escritorio.","Alternatively, download our mobile app to discover trending music &amp; audio on the go.":"TambiÃ©n puedes descargar nuestra app mÃ³vil para descubrir audio y mÃºsica del momento en cualquier lugar.","Joining Premier is only available on desktop browsers.":"Solo puedes unirte a Premier desde navegadores de escritorio.","Come back when youâ€™re at your computer to accept your invitation.":"Vuelve cuando estÃ©s en el ordenador para aceptar tu invitaciÃ³n.","Upload your music &amp; audio and share it with the world.":"Sube tu mÃºsica y tus audios para compartirlos con el mundo.","Upload is only supported on desktop browsers.":"Solo se pueden subir pistas en navegadores de escritorio.","Come back when youâ€™re at your computer to upload more tracks.":"Vuelve cuando estÃ©s en el ordenador para subir mÃ¡s pistas.","Connect with Facebook friends.":"Conecta con tus amigos de Facebook.","Connect is only available on desktop browsers.":"Solo puedes conectarte en navegadores de escritorio.","Looking to connect with Facebook friends or find new people to follow? This feature is only available on desktop browsers.":"Â¿Quieres conectarte con tus amigos de Facebook o seguir a mÃ¡s gente? Esta funciÃ³n solo estÃ¡ disponible en navegadores de escritorio.","Come back when youâ€™re at your computer to find new people to follow.":"Vuelve cuando estÃ©s en el ordenador para encontrar a mÃ¡s gente a la que seguir.","Your profile":"Tu perfil","Managing your account is only available on desktop browsers.":"La gestiÃ³n de tu cuenta solo estÃ¡ disponible en navegadores de escritorio.",'For more information on optimizing your profile, visit our <a href="[[url]]">Creator Guide</a>.':'Para obtener mÃ¡s informaciÃ³n sobre la optimizaciÃ³n de tu perfil, visita nuestra <a href="[[url]]">GuÃ­a para creadores</a>.',"Your tracks.":"Tus pistas.","Managing your tracks is only available on desktop browsers.":"La gestiÃ³n de tus pistas solo estÃ¡ disponible en navegadores de escritorio.","Come back when youâ€™re at your computer to edit, share and add tracks to playlists.":"Vuelve cuando estÃ©s en el ordenador para editar, compartir y aÃ±adir pistas a listas.",'For more information, visit our <a href="[[url]]">Creator Guide</a>.':'Para obtener mÃ¡s informaciÃ³n, visita la <a href="[[url]]">GuÃ­a para creadores</a>.',"Enjoy the free SoundCloud experience with our app.":"Disfruta de la experiencia gratuita SoundCloud con nuestra app.","Enjoy the full SoundCloud experience with our free app.":"Vive al mÃ¡ximo la experiencia SoundCloud con nuestra app gratuita.","[[soundTitle]] by [[authorName]]":"[[soundTitle]] de [[authorName]]",Messages:"Mensajes","Take this playlist with you and enjoy the full SoundCloud experience with our free app.":"Disfruta de esta lista en cualquier lugar y vive al mÃ¡ximo la experiencia SoundCloud con nuestra app gratuita.","[[playlistTitle]] by [[authorName]]":"[[playlistTitle]] de [[authorName]]","Go Pro":"Hazte Pro",Search:"Buscar","Search tracks":"Buscar pistas","Search playlists":"Buscar listas","Search people":"Buscar gente","Search groups":"Buscar grupos","Search [[category]]":"Buscar [[category]]","Unsubscribed successfully":"SuscripciÃ³n anulada correctamente","Be the first to hear what [[username]] posts next with our free app.":"SÃ© el primero en escuchar los nuevos posts de [[username]] con nuestra app gratuita.","[[username]]â€™s stream":"Stream de [[username]]","New &amp; hot tracks":"Nuevas pistas destacadas","Up-and-coming tracks on SoundCloud":"Pistas revelaciÃ³n en SoundCloud","New &amp; hot audio":"Nuevo audio destacado","Up-and-coming audio on SoundCloud":"Audio revelaciÃ³n en SoundCloud","Top 50 tracks":"Top 50 - pistas","The most played tracks on SoundCloud this week":"Las pistas mÃ¡s reproducidas en SoundCloud esta semana","Top 50 audio":"Top 50 - audio","The most played audio on SoundCloud this week":"Los audios mÃ¡s reproducidos en SoundCloud esta semana","New &amp; hot in [[[genreLabel]]]":"Novedades de [[[genreLabel]]]","Up-and-coming tracks in [[[genreLabel]]] on SoundCloud":"Pistas revelaciÃ³n de [[[genreLabel]]] en SoundCloud","Top 50 in [[[genreLabel]]]":"Top 50 de [[[genreLabel]]]","The most played tracks in [[[genreLabel]]] on SoundCloud this week":"Las pistas mÃ¡s reproducidas de [[[genreLabel]]] en SoundCloud esta semana","Up-and-coming in [[[genreLabel]]] on SoundCloud":"Pistas prometedoras de [[[genreLabel]]] en SoundCloud","The most played in [[[genreLabel]]] on SoundCloud this week":"Lo mÃ¡s reproducido de [[[genreLabel]]] en SoundCloud esta semana","New &amp; hot":"Novedades","All music genres":"Todos los gÃ©neros musicales","All audio genres":"Todos los gÃ©neros de audio","Alternative Rock":"Rock alternativo",Ambient:"Ambiente",Classical:"ClÃ¡sica","Dance &amp; EDM":"Dance y EDM","Deep House":"Deep house","Drum &amp; Bass":"Drum & Bass",Electronic:"ElectrÃ³nica","Folk &amp; Singer-Songwriter":"Folk y Cantautores","Hip-hop &amp; Rap":"Hip hop y Rap","Jazz &amp; Blues":"Jazz y Blues",Latin:"Latina","R&B &amp; Soul":"R&B y Soul",Reggaeton:"ReguetÃ³n",Soundtrack:"Bandas sonoras",Speech:"Oratoria",World:"MÃºsica del mundo",Audiobooks:"Audiolibros",Business:"Negocios",Comedy:"Comedia",Entertainment:"Entretenimiento",Learning:"Aprendizaje","News &amp; Politics":"Noticias y polÃ­tica","Religion &amp; Spirituality":"ReligiÃ³n y espiritualidad",Science:"Ciencia",Sports:"Deportes",Storytelling:"NarraciÃ³n",Technology:"TecnologÃ­a","1 hour":["1 hora","%d horas"],"1 minute":["1 minuto","%d minutos"],"1 second":["1 segundo","%d segundos"],"Enjoy the full SoundCloud experience with our app.":"Vive al mÃ¡ximo la experiencia SoundCloud con nuestra app.",Close:"Cerrar",Retry:"IntÃ©ntalo de nuevo","1 track":["1 pista","%d pistas"],"1 play":["1 reproducciÃ³n","%d reproducciones"],"1 follower":["1 seguidor","%d seguidores"],"Download on the App Store":"Descargatela en el App Store","Get it on Google Play":"Obtenla en Google Play","Get it at BlackBerry World":"ConsÃ­guela en BlackBerry World","Available at Amazon":"Disponible en Amazon","Get it in the Firefox Marketplace":"Obtener en Firefox Marketplace","Download SoundCloud":"Descargar SoundCloud","I already have the app":"Ya tengo la app","Listen on the SoundCloud app":"Escuchar en la app de SoundCloud","Download our free app":"Descarga nuestra app gratuita","No more previews, just full tracks.":"Se acabaron las vistas previas, solo pistas enteras.","Try SoundCloud Go+":"Prueba SoundCloud Go+","Terms of use":"Condiciones de uso","Privacy policy":"PolÃ­tica de privacidad",Privacy:"Privacidad","Cookies policy":"PolÃ­tica de cookies","Company information":"InformaciÃ³n de la empresa",Imprint:"SoundCloud Ltd.","People directory":"Directorio de gente",Directory:"Directorio","SoundCloud homepage":"PÃ¡gina de inicio de SoundCloud","Hear the world's sounds":"Escucha las pistas del mundo","Trending tracks on SoundCloud":"Pistas del momento en SoundCloud","Get our Android app to save this track to your likes, create playlists and more.":"ObtÃ©n nuestra app para Android para guardar esta pista en tus Me gusta, crear listas y mÃ¡s.","Get our iPhone app to save this track to your likes, create playlists and more.":"ObtÃ©n nuestra app para iPhone para guardar esta pista en tus Me gusta, crear listas y mÃ¡s.","Try our app.<br>It's even better":"Prueba nuestra app.<br>Es aÃºn mejor",Like:"Me gusta","Try playing these related tracks":"Escucha estas pistas similares",Cancel:"Cancelar","Select your language":"Selecciona tu idioma","Language:":"Idioma:","Messages are only<br> supported on desktop browsers.":"Los mensajes solo<br>son compatibles en los navegadores de escritorio","Pages might not display correctly <br>in mobile browsers.":"Puede que las pÃ¡ginas no se muestren correctamente<br>en los navegadores para mÃ³viles.","Go to Messages":"Ir a Mensajes","SoundCloud for mobile is<br> only available as an app.":"SoundCloud para mÃ³viles<br> solo estÃ¡ disponible como app.","Open or download now<br> to use SoundCloud on<br> your device.":"DescÃ¡rgala o Ã¡brela ahora<br> para usar SoundCloud en<br> tu dispositivo.","Open or get the app":"Hazte con la app o Ã¡brela","Weâ€™re sorry to hear youâ€™re leaving.":"Lamentamos que te marches.","Review your email subscriptions at":"Consulta tus suscripciones de correo en","Results for: [[generatedSummary]]":"Resultados de: [[generatedSummary]]",back:"atrÃ¡s","Don't want to be included? Visit the desktop version of this page to opt out.":"Â¿No quieres aparecer en los resultados? Visita la versiÃ³n de esta pÃ¡gina para escritorio para que no te incluyamos.","Play or pause track":"Reproducir o pausar la pista","Become a SoundCloud Pro":"PÃ¡sate a SoundCloud Pro","175 million people listen on SoundCloud each month. Get the tools you need to share your music and grow your audience.":"MÃ¡s de 175 millones de personas escuchan SoundCloud cada mes. ObtÃ©n las herramientas que necesitas para compartir tu mÃºsica y ampliar tu pÃºblico.","Pro plans can only be purchased from a computer.":"Solo es posible comprar un plan Pro desde un ordenador.","Stats with more data.":"EstadÃ­sticas con mÃ¡s datos.","Pro stats provide the data you need to plan your releases, connect with your biggest fans, and build your career.":"Las estadÃ­sticas del plan Pro te facilitan los datos que necesitas para planificar tus nuevos lanzamientos, conectar con tus seguidores mÃ¡s fieles y desarrollar tu carrera.","More upload time.":"MÃ¡s tiempo de subida.","Double your upload time with a Pro subscription or get limitless storage for your tracks, albums, projects, and back catalog with Pro Unlimited.":"Dobla tu tiempo de subida con una suscripciÃ³n Pro o adquiere almacenamiento ilimitado para tus pistas, Ã¡lbumes, proyectos y trabajos anteriores con Pro Ilimitado.","More control.":"MÃ¡s control.","Pin tracks and playlists to the top of your profile with Spotlight, turn commenting and public stats on or off with Quiet Mode. By going Pro, youâ€™re in control of your tracks and playlists.":"Fija pistas y listas en la parte superior de tu perfil con Destacados, y activa o desactiva los comentarios y las estadÃ­sticas pÃºblicas mediante el modo silencioso. Con una cuenta Pro tendrÃ¡s todo el control sobre tus pistas y tus listas.","Become a SoundCloud Pro on your computer today at [[[link]]].":"Entra en [[[link]]] desde tu ordenador y pÃ¡sate hoy mismo a SoundCloud Pro.",All:"Todo",Tracks:"Pistas",Playlists:"Listas",People:"Gente","1 person":["1 persona","[[count]] personas"],"1 playlist":["1 lista","[[count]] listas"],"Found 1 SoundCloud Go+ result":["Encontramos 1 resultado de SoundCloud Go+","Encontramos %d resultados de SoundCloud Go+"],"Show more SoundCloud Go+ results":"Mostrar mÃ¡s resultados de SoundCloud Go+","Sorry, nothing matches your search.":"No se ha encontrado ningÃºn resultado.","Search SoundCloud":"Buscar en SoundCloud","Find people, tracks and playlists":"Buscar gente, pistas y listas","You have successfully<br>changed your password.":"Has cambiado tu contraseÃ±a<br>correctamente.","Activate your device":"Activa tu dispositivo","Open the SoundCloud app":"Abre la app de SoundCloud","When prompted, enter the activation code from your device. Activation is only available in the latest version of the app.":"Cuando te lo solicitemos, introduce el cÃ³digo de activaciÃ³n de tu dispositivo. Para la activaciÃ³n necesitarÃ¡s tener la versiÃ³n mÃ¡s reciente de la app.","Or, continue in your browser":"TambiÃ©n puedes hacerlo desde el navegador","Not available in your country":"No estÃ¡ disponible en tu paÃ­s","Reposted by [[username]]":"Reposteado por [[username]]","Now playing":"ReproducciÃ³n en curso","Previous track":"Pista anterior","Next track":"Pista siguiente","1 Like":["1 Me gusta","%d Me gusta"],"Not available in<br>your country":"No estÃ¡ disponible en<br>tu paÃ­s","Weâ€™re sorry, that track isnâ€™t available on mobile.":"La pista no estÃ¡ disponible para dispositivos mÃ³viles.",Spotlight:"Destacados","Show more tracks":"Mostrar mÃ¡s pistas","Show more playlists":"Mostrar mÃ¡s listas",Likes:"Me gusta","Show more likes":"Mostrar otros me gusta","Enjoy the custom experience for creators with SoundCloud Pulse.":"Disfruta de una experiencia pensada para creadores con SoundCloud Pulse.","searchResults::1 track":["1 pista","[[count]] pistas"],'eg. "Found 12 tracks, 1 person"::Found [[joinedCounts]]':"Se encontraron [[joinedCounts]]","button::Sign in to SoundCloud":"Iniciar sesiÃ³n en SoundCloud","button::Download our free app":"Descarga nuestra app gratuita","track::Preview":"Vista previa"}),
define("shared/config/locales/locale-fr.json",[],{"Something doesnâ€™t sound right.":"Il semble y avoir un problÃ¨me","Refresh the page to try again.":"Actualisez la page pour rÃ©essayer.","We canâ€™t find this page.":"Cette page est introuvable","We canâ€™t find this sound.":"Ce titre est introuvable.","We canâ€™t find this playlist.":"Cette playlist est introuvable.","We canâ€™t find this user.":"Cet utilisateur est introuvable.","Charts on SoundCloud.":"Charts sur SoundCloud.","Charts are only available on desktop browsers.":"Les charts sont uniquement disponibles sur les navigateurs de bureau.","Alternatively, download our mobile app to discover trending music &amp; audio on the go.":"Vous pouvez Ã©galement tÃ©lÃ©charger notre application mobile pour dÃ©couvrir les titres tendance pendant vos dÃ©placements.","On SoundCloud Premier":"On SoundCloud Premium","Joining Premier is only available on desktop browsers.":"Vous avez la possibilitÃ© de rejoindre le programme Premium uniquement sur les navigateurs de bureau.","Come back when youâ€™re at your computer to accept your invitation.":"Pour accepter l'invitation, utilisez votre ordinateur.","Upload your music &amp; audio and share it with the world.":"Uploadez votre musique et vos enregistrements audio et partagez-les avec le monde entier.","Upload is only supported on desktop browsers.":"Uploader est pris en charge sur les navigateurs d'ordinateur de bureau uniquement.","Come back when youâ€™re at your computer to upload more tracks.":"RÃ©essayez lorsque vous utiliserez votre ordinateur pour uploader plus de titres.","Connect with Facebook friends.":"Restez en contact avec vos amis Facebook.","Connect is only available on desktop browsers.":"La fonction Connect est uniquement disponible sur les navigateurs de bureau.","Looking to connect with Facebook friends or find new people to follow? This feature is only available on desktop browsers.":"Vous souhaitez rester en contact avec vos amis Facebook ou trouver de nouvelles personnes Ã  suivre ? Cette fonction est uniquement disponible sur les navigateurs de bureau.","Come back when youâ€™re at your computer to find new people to follow.":"RÃ©essayez lorsque vous utiliserez votre ordinateur pour trouver d'autres personnes Ã  suivre.","Your profile":"Votre profil","Managing your account is only available on desktop browsers.":"La gestion de votre compte est uniquement disponible sur les navigateurs de bureau.",'For more information on optimizing your profile, visit our <a href="[[url]]">Creator Guide</a>.':"Pour plus d'informations sur l'optimisation de votre profil, consultez notre <a href=\"[[url]]\">Guide de l'auteur</a>.","Your tracks.":"Vos titres.","Managing your tracks is only available on desktop browsers.":"La gestion de vos titres est uniquement disponible sur les navigateurs de bureau.","Come back when youâ€™re at your computer to edit, share and add tracks to playlists.":"RÃ©essayez lorsque vous utiliserez votre ordinateur pour modifier, partager et ajouter des titres Ã  des playlists.",'For more information, visit our <a href="[[url]]">Creator Guide</a>.':"Pour plus d'informations, consultez notre <a href=\"[[url]]\">Guide de l'auteur</a>.","Enjoy the free SoundCloud experience with our app.":"BÃ©nÃ©ficiez gratuitement de l'expÃ©rience SoundCloud avec notre application.","Enjoy the full SoundCloud experience with our free app.":"BÃ©nÃ©ficiez de l'expÃ©rience SoundCloud complÃ¨te avec notre application gratuite.","[[soundTitle]] by [[authorName]]":"[[soundTitle]] par [[authorname]]","Take this playlist with you and enjoy the full SoundCloud experience with our free app.":"Prenez cette playlist avec vous et vivez l'expÃ©rience SoundCloud pleinement avec notre application gratuite.","[[playlistTitle]] by [[authorName]]":"[[playlistTitle]] par [[authorName]]","Go Pro":"Passer Ã  la version Pro",Search:"Rechercher","Search tracks":"Rechercher des titres","Search playlists":"Rechercher des playlists","Search people":"Rechercher des personnes","Search groups":"Rechercher des groupes","Search [[category]]":"Rechercher dans [[category]]","Unsubscribed successfully":"DÃ©sinscription rÃ©ussie.","Be the first to hear what [[username]] posts next with our free app.":"Soyez le premier Ã  savoir ce que publie [[username]] avec notre application gratuite. ","[[username]]â€™s stream":"Stream de [[username]]","New &amp; hot tracks":"Nouveaux titres tendance","Up-and-coming tracks on SoundCloud":"Titres disponibles et Ã  venir sur SoundCloud","New &amp; hot audio":"Nouveaux titres audio tendance","Up-and-coming audio on SoundCloud":"Titres audio disponibles et Ã  venir sur SoundCloud","Top 50 tracks":"50 meilleurs titres","The most played tracks on SoundCloud this week":"Titres les plus Ã©coutÃ©s sur SoundCloud cette semaine","Top 50 audio":"50 meilleurs titres audio","The most played audio on SoundCloud this week":"Titres audio les plus Ã©coutÃ©s sur SoundCloud cette semaine","New &amp; hot in [[[genreLabel]]]":"Nouveaux titres tendance dans la catÃ©gorie [[[genreLabel]]]","Up-and-coming tracks in [[[genreLabel]]] on SoundCloud":"Titres disponibles et Ã  venir dans la catÃ©gorie [[[genreLabel]]] sur SoundCloud","Top 50 in [[[genreLabel]]]":"Top 50 dans la catÃ©gorie [[[genreLabel]]]","The most played tracks in [[[genreLabel]]] on SoundCloud this week":"Titres les plus Ã©coutÃ©s dans la catÃ©gorie [[[genreLabel]]] sur SoundCloud cette semaine","Up-and-coming in [[[genreLabel]]] on SoundCloud":"Titres disponibles et Ã  venir dans la catÃ©gorie [[[genreLabel]]] sur SoundCloud","The most played in [[[genreLabel]]] on SoundCloud this week":"Titres les plus Ã©coutÃ©s dans la catÃ©gorie [[[genreLabel]]] sur SoundCloud cette semaine","New &amp; hot":"Nouveaux &amp; tendance","All music genres":"Tous les genres de musique","All audio genres":"Tous les genres audio","Alternative Rock":"Rock alternatif",Ambient:"Ambiance",Classical:"Classique",Electronic:"Electro","Folk &amp; Singer-Songwriter":"Folk &amp; Auteur-compositeur",Soundtrack:"Musiques de films",Speech:"Discours",Audiobooks:"Livres audio",Comedy:"ComÃ©die",Learning:"Ã‰ducation","News &amp; Politics":"ActualitÃ©s &amp; politique","Religion &amp; Spirituality":"Religion &amp; spiritualitÃ©",Technology:"Technologie","1 hour":["%d heure","%d heures"],"1 minute":["%d minute","%d minutes"],"1 second":["%d seconde","%d secondes"],"Enjoy the full SoundCloud experience with our app.":"Vivez l'expÃ©rience SoundCloud pleinement avec notre application.",Close:"Fermer",Retry:"RÃ©essayer","1 track":["%d titre","%d titres"],"1 play":["%d Ã©coute","%d Ã©coutes"],"1 follower":["%d abonnÃ©","%d abonnÃ©s"],"Download on the App Store":"TÃ©lÃ©charger dans l'App Store","Get it on Google Play":"Disponible sur Google Play","Get it at BlackBerry World":"Disponible sur BlackBerry World","Available at Amazon":"Disponible sur Amazon","Get it in the Firefox Marketplace":"Disponible sur le Firefox Marketplace ","Download SoundCloud":"TÃ©lÃ©charger SoundCloud","I already have the app":"Je dispose dÃ©jÃ  de l'application","Listen on the SoundCloud app":"Ã‰couter sur l'application SoundCloud","Download our free app":"TÃ©lÃ©charger notre application gratuite","No more previews, just full tracks.":"Fini les aperÃ§us, bÃ©nÃ©ficiez de titres complets.","Try SoundCloud Go+":"Essayez SoundCloud Go+","Terms of use":"Conditions d'utilisation",Legal:"Informations lÃ©gales","Privacy policy":"Politique de confidentialitÃ©",Privacy:"ConfidentialitÃ©","Cookies policy":"Politique d'utilisation des cookies","Company information":"Informations sur l'entreprise",Imprint:"A propos","People directory":"RÃ©pertoire de personnes",Directory:"RÃ©pertoire","SoundCloud homepage":"Page d'accueil de SoundCloud","Hear the world's sounds":"DÃ©couvrez les sons du monde","Trending tracks on SoundCloud":"Titres en vogue sur SoundCloud","Get our Android app to save this track to your likes, create playlists and more.":"TÃ©lÃ©chargez notre application Android pour ajouter ce titre Ã  vos favoris, crÃ©er des playlists et bien plus encore.","Get our iPhone app to save this track to your likes, create playlists and more.":"TÃ©lÃ©chargez notre application pour iPhone pour ajouter ce titre Ã  vos favoris, crÃ©er des playlists et bien plus encore.","Try our app.<br>It's even better":"Essayez notre application<br>pour une expÃ©rience optimale",Like:"Aimer","Try playing these related tracks":"Essayer de lire ces titres similaires",Cancel:"Annuler","Select your language":"SÃ©lectionnez votre langue","Language:":"Langue :","Messages are only<br> supported on desktop browsers.":"Les messages sont uniquement<br> pris en charge par les navigateurs d'ordinateurs de bureau.","Pages might not display correctly <br>in mobile browsers.":"Les pages peuvent ne pas s'afficher correctement <br>dans les navigateurs mobiles.","Go to Messages":"AccÃ©der aux Messages","SoundCloud for mobile is<br> only available as an app.":"SoundCloud pour mobile est<br> uniquement disponible sous forme d'application.","Open or download now<br> to use SoundCloud on<br> your device.":"Ouvrez ou tÃ©lÃ©chargez<br> SoundCloud sur votre mobile.","Open or get the app":"Ouvrir ou tÃ©lÃ©charger l'application","Weâ€™re sorry to hear youâ€™re leaving.":"Nous sommes dÃ©solÃ©s d'apprendre que vous nous quittez.","Review your email subscriptions at":"VÃ©rifiez vos inscriptions par e-mail sur","Results for: [[generatedSummary]]":"RÃ©sultats pour : [[generatedSummary]]",back:"retour","Don't want to be included? Visit the desktop version of this page to opt out.":"Vous ne souhaitez pas y figurer ? Utilisez la version de bureau pour vous exclure.","Play or pause track":"Lire un titre ou le mettre en pause","Become a SoundCloud Pro":"Passez Ã  la version SoundCloud Pro","175 million people listen on SoundCloud each month. Get the tools you need to share your music and grow your audience.":"175 millions de personnes Ã©coutent de la musique sur SoundCloud chaque mois. Profitez des outils nÃ©cessaires pour partager votre musique et Ã©largir votre public. ","Pro plans can only be purchased from a computer.":"L'achat d'un abonnement Pro ne peut s'effectuer que depuis un ordinateur.","Stats with more data.":"Statistiques dÃ©taillÃ©es","Pro stats provide the data you need to plan your releases, connect with your biggest fans, and build your career.":"Les statistiques Pro vous fournissent les donnÃ©es nÃ©cessaires pour planifier vos sorties, entrer en contact avec vos plus grands fans et construire votre carriÃ¨re.","More upload time.":"Davantage de temps d'upload.","Double your upload time with a Pro subscription or get limitless storage for your tracks, albums, projects, and back catalog with Pro Unlimited.":"Multipliez votre temps d'upload par deux avec un abonnement Pro ou obtenez un espace de stockage illimitÃ© pour vos titres, vos albums, vos projets et vos anciens enregistrements avec Pro IllimitÃ©.","More control.":"Davantage de contrÃ´le.","Pin tracks and playlists to the top of your profile with Spotlight, turn commenting and public stats on or off with Quiet Mode. By going Pro, youâ€™re in control of your tracks and playlists.":"Placez des titres et des playlists dans la partie supÃ©rieure de votre profil avec les Titres Ã‰pinglÃ©s, activez ou dÃ©sactivez les commentaires et les statistiques avec le Mode silencieux : en passant Ã  la version Pro, vous avez le contrÃ´le de vos titres et de vos playlists.","Become a SoundCloud Pro on your computer today at [[[link]]].":"Passez Ã  un abonnement SoundCloud Pro sur votre ordinateur dÃ¨s aujourd'hui sur [[[link]]].",All:"Tous",Tracks:"Titres",People:"Personnes","1 person":["1 personne","[[count]] personnes"],"1 playlist":["1 playlist","[[count]] playlists"],"Found 1 SoundCloud Go+ result":["1 rÃ©sultat SoundCloud Go+ trouvÃ©. ","%d rÃ©sultats SoundCloud Go+ trouvÃ©s"],"Show more SoundCloud Go+ results":"Afficher davantage de rÃ©sultats SoundCloud Go+","Sorry, nothing matches your search.":"DÃ©solÃ©, aucun rÃ©sultat ne correspond Ã  votre recherche.","Search SoundCloud":"Rechercher dans SoundCloud","Find people, tracks and playlists":"Trouver des personnes, des titres et des playlists","You have successfully<br>changed your password.":"Vous avez bien<br>modifiÃ© votre mot de passe.","Activate your device":"Activez votre appareil","Open the SoundCloud app":"Ouvrir l'application SoundCloud","When prompted, enter the activation code from your device. Activation is only available in the latest version of the app.":"Lorsqu'on vous le demande, saisissez le code d'activation de votre appareil. La fonction d'activation est uniquement disponible dans la derniÃ¨re version de l'application.","Or, continue in your browser":"Ou continuez sur votre navigateur","Not available in your country":"Non disponible dans votre pays","Reposted by [[username]]":"RepostÃ© par [[username]]","Now playing":"Lecture en cours","Previous track":"Titre prÃ©cÃ©dent","Next track":"Titre suivant","1 Like":["1 favori","%d favoris"],"Not available in<br>your country":"Non disponible dans votre pays","Weâ€™re sorry, that track isnâ€™t available on mobile.":"DÃ©solÃ©, ce titre n'est pas disponible sur mobile.",Spotlight:"Titres Ã©pinglÃ©s","Show more tracks":"Afficher plus de titres","Show more playlists":"Afficher plus de playlists",Likes:"Favoris","Show more likes":"Afficher plus de favoris","Enjoy the custom experience for creators with SoundCloud Pulse.":"Profitez d'une expÃ©rience personnalisÃ©e dÃ©diÃ©e aux crÃ©ateurs grÃ¢ce Ã  SoundCloud Pulse.","searchResults::1 track":["1 titre","[[count]] titres"],'eg. "Found 12 tracks, 1 person"::Found [[joinedCounts]]':"[[joinedCounts]] trouvÃ©(s)","button::Sign in to SoundCloud":"Se connecter Ã  SoundCloud","button::Download our free app":"TÃ©lÃ©charger notre application gratuite","track::Preview":"AperÃ§u"}),
define("shared/config/locales/locale-it.json",[],{"Something doesnâ€™t sound right.":"Qualcosa Ã¨ andato storto.","Refresh the page to try again.":"Aggiorna la pagina per riprovare.","We canâ€™t find this page.":"Impossibile trovare la pagina.","We canâ€™t find this sound.":"Impossibile trovare la traccia.","We canâ€™t find this playlist.":"Impossibile trovare la playlist.","We canâ€™t find this user.":"Impossibile trovare l'utente.","Charts on SoundCloud.":"Classifiche su SoundCloud.","Charts are only available on desktop browsers.":"Le classifiche sono disponibili solo sul browser del computer.","Alternatively, download our mobile app to discover trending music &amp; audio on the go.":"In alternativa, scarica la nostra app per dispositivi mobili per scoprire musica e audio di tendenza anche quando sei in movimento.","On SoundCloud Premier":"su SoundCloud Premier","Joining Premier is only available on desktop browsers.":"Puoi iscriverti a Premier solo tramite il browser del computer.","Come back when youâ€™re at your computer to accept your invitation.":"Torna quando sei al computer per accettare l'invito.","Upload your music &amp; audio and share it with the world.":"Carica musica e audio e condividi con tutto il mondo.","Upload is only supported on desktop browsers.":"Ãˆ possibile caricare solo tramite il browser del computer.","Come back when youâ€™re at your computer to upload more tracks.":"Accedi quando sei al computer per caricare piÃ¹ tracce.","Connect with Facebook friends.":"Collegati con i tuoi amici di Facebook.","Connect is only available on desktop browsers.":"La connessione Ã¨ disponibile solo sul browser del computer.","Looking to connect with Facebook friends or find new people to follow? This feature is only available on desktop browsers.":"Vuoi collegarti con i tuoi amici di Facebook o trovare nuove persone da seguire? Questa funzionalitÃ  Ã¨ disponibile solo sul browser del computer.","Come back when youâ€™re at your computer to find new people to follow.":"Torna quando sei al computer per trovare nuove persone da seguire.","Your profile":"Il tuo profilo","Managing your account is only available on desktop browsers.":"L'account puÃ² essere gestito solo tramite il browser del computer.",'For more information on optimizing your profile, visit our <a href="[[url]]">Creator Guide</a>.':'Per ulteriori informazioni su come ottimizzare il profilo, dai un\'occhiata alla nostra <a href="[[url]]">Guida per gli autori</a>.',"Your tracks.":"Le tue tracce.","Managing your tracks is only available on desktop browsers.":"Le tracce possono essere gestite solo tramite il browser del computer.","Come back when youâ€™re at your computer to edit, share and add tracks to playlists.":"Accedi quando sei al computer per modificare, caricare e aggiungere tracce alle playlist.",'For more information, visit our <a href="[[url]]">Creator Guide</a>.':'Per ulteriori informazioni, visita la <a href="[[url]]">Guida per gli autori</a>.',"Enjoy the free SoundCloud experience with our app.":"Goditi tutto ciÃ² che SoundCloud offre gratuitamente grazie alla nostra applicazione.","Enjoy the full SoundCloud experience with our free app.":"Goditi tutto ciÃ² che offre SoundCloud grazie alla nostra app.","[[soundTitle]] by [[authorName]]":"[[soundTitle]] di [[authorName]]",Messages:"Messaggi","Take this playlist with you and enjoy the full SoundCloud experience with our free app.":"Porta con te questa playlist e goditi tutto ciÃ² che offre SoundCloud grazie all'applicazione gratuita.","[[playlistTitle]] by [[authorName]]":"[[playlistTitle]] di [[authorName]]","Go Pro":"Passa a Pro",Search:"Cerca","Search tracks":"Cerca tracce","Search playlists":"Cerca playlist","Search people":"Cerca persone","Search groups":"Cerca gruppi","Search [[category]]":"Cerca in [[category]]","Unsubscribed successfully":"Iscrizione annullata correttamente","Be the first to hear what [[username]] posts next with our free app.":"Ascolta per primo cosa pubblica [[username]], grazie all'applicazione gratuita.","[[username]]â€™s stream":"Stream di [[username]]","New &amp; hot tracks":"Tracce nuove e di tendenza","Up-and-coming tracks on SoundCloud":"Tracce di tendenza su SoundCloud","New &amp; hot audio":"Audio nuovi e di tendenza","Up-and-coming audio on SoundCloud":"Audio di tendenza su SoundCloud","Top 50 tracks":"Tracce Top 50","The most played tracks on SoundCloud this week":"Le tracce piÃ¹ ascoltate su SoundCloud questa settimana","Top 50 audio":"Audio Top 50","The most played audio on SoundCloud this week":"Le tracce piÃ¹ ascoltate su SoundCloud questa settimana","New &amp; hot in [[[genreLabel]]]":"NovitÃ  e di tendenza [[[genreLabel]]]","Up-and-coming tracks in [[[genreLabel]]] on SoundCloud":"Tracce di tendenza [[[genreLabel]]] su SoundCloud","Top 50 in [[[genreLabel]]]":"Top 50 [[[genreLabel]]]","The most played tracks in [[[genreLabel]]] on SoundCloud this week":"Le tracce [[[genreLabel]]] piÃ¹ ascoltate su SoundCloud questa settimana","Up-and-coming in [[[genreLabel]]] on SoundCloud":"Di tendenza [[[genreLabel]]] su SoundCloud","The most played in [[[genreLabel]]] on SoundCloud this week":"Le piÃ¹ ascoltate [[[genreLabel]]] su SoundCloud questa settimana","New &amp; hot":"NovitÃ  e di tendenza","All music genres":"Tutti i generi musicali","All audio genres":"Tutti i generi audio","Alternative Rock":"Rock Alternativo",Classical:"Classica","Dance &amp; EDM":"Dance e EDM","Drum &amp; Bass":"Drum & Bass",Electronic:"Elettronica","Folk &amp; Singer-Songwriter":"Folk e Cantautori","Hip-hop &amp; Rap":"Hip Hop e Rap","Jazz &amp; Blues":"Jazz e Blues",Latin:"Latina",Piano:"Pianoforte","R&B &amp; Soul":"R&B e Soul",Soundtrack:"Colonna sonora",Speech:"Discorsi",Triphop:"Trip Hop",Audiobooks:"Audiolibri",Comedy:"Commedia",Entertainment:"Intrattenimento",Learning:"Apprendimento","News &amp; Politics":"Notizie e Politica","Religion &amp; Spirituality":"Religione e SpiritualitÃ ",Science:"Scienza",Sports:"Sport",Storytelling:"Narrativa",Technology:"Tecnologia","1 hour":["1 ora","%d ore"],"1 minute":["1 minuto","%d minuti"],"1 second":["1 secondo","%d secondi"],"Enjoy the full SoundCloud experience with our app.":"Goditi tutto ciÃ² che offre SoundCloud grazie alla nostra applicazione.",Close:"Chiudi",Retry:"Riprova","1 track":["1 traccia","%d tracce"],"1 play":["1 riproduzione","%d riproduzioni"],"1 follower":["1 follower","%d follower"],"Download on the App Store":"Scaricala dall'App Store","Get it on Google Play":"Scaricala da Google Play","Get it at BlackBerry World":"Scaricala da BlackBerry World","Available at Amazon":"Disponibile su Amazon","Get it in the Firefox Marketplace":"Scaricala da Firefox Marketplace","Download SoundCloud":"Scarica SoundCloud","I already have the app":"Dispongo giÃ  dell'app","Listen on the SoundCloud app":"Ascolta sull'app SoundCloud","Download our free app":"Scarica la nostra applicazione gratuita","No more previews, just full tracks.":"Niente piÃ¹ anteprime, solo tracce complete.","Try SoundCloud Go+":"Prova SoundCloud Go+","Terms of use":"Termini di utilizzo",Legal:"Note legali","Privacy policy":"Informativa sulla privacy","Cookies policy":"Informativa sui cookie",Cookies:"Cookie","Company information":"Informazioni sull'azienda",Imprint:"Chi siamo","People directory":"Elenco utenti",Directory:"Elenco","SoundCloud homepage":"Homepage di SoundCloud","Hear the world's sounds":"Ascolta i suoni del mondo","Trending tracks on SoundCloud":"Tracce di tendenza su SoundCloud","Get our Android app to save this track to your likes, create playlists and more.":"Scarica la nostra app per Android e salva questa traccia nei tuoi preferiti, crea playlist e molto altro.","Get our iPhone app to save this track to your likes, create playlists and more.":"Scarica la nostra app per iPhone e salva questa traccia nei tuoi preferiti, crea playlist e molto altro.","Try our app.<br>It's even better":"Prova la nostra app.<br>Ãˆ ancora meglio!",Like:"Mi piace","Try playing these related tracks":"Prova ad ascoltare queste tracce simili",Cancel:"Annulla","Select your language":"Seleziona la lingua","Language:":"Lingua:","Messages are only<br> supported on desktop browsers.":"I messaggi sono supportati<br> solo sui browser del computer.","Pages might not display correctly <br>in mobile browsers.":"Le pagine potrebbero non essere visualizzate correttamente <br>nei browser per dispositivi mobili.","Go to Messages":"Vai ai Messaggi","SoundCloud for mobile is<br> only available as an app.":"SoundCloud per dispositivi mobili Ã¨<br> disponibile solo come app.","Open or download now<br> to use SoundCloud on<br> your device.":"Apri o scarica subito<br> per utilizzare SoundCloud sul<br> tuo dispositivo.","Open or get the app":"Apri o scarica l'app","Weâ€™re sorry to hear youâ€™re leaving.":"Ci dispiace che tu te ne vada.","Review your email subscriptions at":"Controlla gli abbonamenti e-mail","Results for: [[generatedSummary]]":"Risultati per: [[generatedSummary]]",back:"indietro","Don't want to be included? Visit the desktop version of this page to opt out.":"Non vuoi essere inserito? Visita la versione del computer di questa pagina per rifiutare esplicitamente.","Play or pause track":"Riproduci o metti in pausa la traccia","Become a SoundCloud Pro":"Iscriviti a SoundCloud Pro","175 million people listen on SoundCloud each month. Get the tools you need to share your music and grow your audience.":"175 milioni di persone ogni mese utilizzano SoundCloud per ascoltare musica. Tutto ciÃ² di cui hai bisogno per condividere la tua musica e avere un pubblico sempre piÃ¹ vasto.","Pro plans can only be purchased from a computer.":"Ãˆ possibile acquistare i piani Pro solo da un computer.","Stats with more data.":"Statistiche con piÃ¹ dati.","Pro stats provide the data you need to plan your releases, connect with your biggest fans, and build your career.":"Le statistiche Pro ti forniscono i dati di cui hai bisogno per pianificare la pubblicazione di nuove tracce, rimanere in contatto con i tuoi fan piÃ¹ affezionati e consolidare la tua carriera nella musica.","More upload time.":"PiÃ¹ ore di caricamento.","Double your upload time with a Pro subscription or get limitless storage for your tracks, albums, projects, and back catalog with Pro Unlimited.":"Raddoppia le ore di caricamento con un abbonamento Pro, oppure ottieni uno spazio di archiviazione illimitato per tracce, album, progetti e cataloghi passati con Pro Illimitato.","More control.":"PiÃ¹ controllo.","Pin tracks and playlists to the top of your profile with Spotlight, turn commenting and public stats on or off with Quiet Mode. By going Pro, youâ€™re in control of your tracks and playlists.":"Metti tracce e playlist in risalto sul tuo profilo, grazie alla funzionalitÃ  In evidenza, attiva e disattiva statistiche e commenti pubblici con la ModalitÃ  non interattiva: con l'abbonamento Pro, hai il controllo completo di tracce e playlist.","Become a SoundCloud Pro on your computer today at [[[link]]].":"Passa oggi a SoundCloud Pro sul tuo computer accedendo a [[[link]]].",All:"Tutto",Tracks:"Tracce",Playlists:"Playlist",People:"Persone","1 person":["1 persona","[[count]] persone"],"1 playlist":["1 playlist","[[count]] playlist"],"Found 1 SoundCloud Go+ result":["Trovato 1 risultato di SoundCloud Go+","Trovati %d risultati di SoundCloud Go+"],"Show more SoundCloud Go+ results":"Mostra altri risultati di SoundCloud Go+","Sorry, nothing matches your search.":"La tua ricerca non ha prodotto risultati.","Search SoundCloud":"Cerca su SoundCloud","Find people, tracks and playlists":"Trova persone, tracce e playlist","You have successfully<br>changed your password.":"Password<br>modificata correttamente.","Activate your device":"Attiva il dispositivo","Open the SoundCloud app":"Apri l'app SoundCloud","When prompted, enter the activation code from your device. Activation is only available in the latest version of the app.":"Quando richiesto, inserisci il codice di attivazione del dispositivo. L'attivazione Ã¨ disponibile solo nell'ultima versione dell'app.","Or, continue in your browser":"In alternativa, continua nel browser","Not available in your country":"Non disponibile nel tuo paese","Reposted by [[username]]":"Ripubblicata da [[username]]","Now playing":"In riproduzione","Previous track":"Traccia precedente","Next track":"Traccia successiva","1 Like":["1 Mi piace","%d Mi piace"],"Not available in<br>your country":"Non disponibile nel<br>tuo paese","Weâ€™re sorry, that track isnâ€™t available on mobile.":"Traccia non disponibile su dispositivi mobili.",Spotlight:"In evidenza","Show more tracks":"Mostra altre tracce","Show more playlists":"Mostra altre playlist",Likes:"Preferiti","Show more likes":"Mostra altri preferiti","Enjoy the custom experience for creators with SoundCloud Pulse.":"Approfitta dell'esperienza personalizzata per gli autori con SoundCloud Pulse.","searchResults::1 track":["1 traccia","[[count]] tracce"],'eg. "Found 12 tracks, 1 person"::Found [[joinedCounts]]':"Trovate [[joinedCounts]]","button::Sign in to SoundCloud":"Accedi a SoundCloud","button::Download our free app":"Scarica la nostra applicazione gratuita","track::Preview":"Anteprima"}),
define("shared/config/locales/locale-nl.json",[],{"Something doesnâ€™t sound right.":"Er klinkt iets niet helemaal goed.","Refresh the page to try again.":"Vernieuw de pagina om het opnieuw te proberen.","We canâ€™t find this page.":"We konden deze pagina niet vinden.","We canâ€™t find this sound.":"We konden deze track niet vinden.","We canâ€™t find this playlist.":"We konden deze afspeellijst niet vinden.","We canâ€™t find this user.":"We konden deze gebruiker niet vinden.","Charts on SoundCloud.":"Hitlijsten op SoundCloud.","Charts are only available on desktop browsers.":"Hitlijsten zijn alleen beschikbaar via desktopbrowsers.","Alternatively, download our mobile app to discover trending music &amp; audio on the go.":"Je kunt ook onze mobiele app downloaden om onderweg populaire muziek en audio te ontdekken.","Joining Premier is only available on desktop browsers.":"Abonneren op Premier kan alleen via desktopbrowsers.","Come back when youâ€™re at your computer to accept your invitation.":"Kom terug als je achter de computer zit om je uitnodiging te accepteren.","Upload your music &amp; audio and share it with the world.":"Upload je muziek en audio en deel deze met de wereld.","Upload is only supported on desktop browsers.":"Uploaden is alleen beschikbaar via desktop browsers.","Come back when youâ€™re at your computer to upload more tracks.":"Kom terug als je achter de computer zit om meer tracks te uploaden.","Connect with Facebook friends.":"Leg contact met Facebook-vrienden.","Connect is only available on desktop browsers.":"Contact leggen is alleen beschikbaar via desktopbrowsers.","Looking to connect with Facebook friends or find new people to follow? This feature is only available on desktop browsers.":"Wil je contact leggen met Facebook-vrienden of nieuwe mensen vinden om te volgen? Deze functie is alleen beschikbaar op desktopbrowsers.","Come back when youâ€™re at your computer to find new people to follow.":"Kom terug als je achter de computer zit om nieuwe mensen te vinden die je kunt volgen.","Your profile":"Jouw profiel","Managing your account is only available on desktop browsers.":"Accountbeheer is alleen beschikbaar via desktopbrowsers.",'For more information on optimizing your profile, visit our <a href="[[url]]">Creator Guide</a>.':'Bezoek onze <a href="[[url]]">handleiding voor auteurs</a> voor meer informatie over het optimaliseren van je profiel.',"Your tracks.":"Jouw tracks.","Managing your tracks is only available on desktop browsers.":"Beheer van je tracks is alleen beschikbaar via desktopbrowsers.","Come back when youâ€™re at your computer to edit, share and add tracks to playlists.":"Kom terug als je achter de computer zit om tracks te bewerken, delen en aan afspeellijsten toe te voegen.",'For more information, visit our <a href="[[url]]">Creator Guide</a>.':'Voor meer informatie, bezoek onze <a href="[[url]]">Handleiding voor auteurs</a>.',"Enjoy the free SoundCloud experience with our app.":"Geniet van de gratis SoundCloud-ervaring met onze app.","Enjoy the full SoundCloud experience with our free app.":"Geniet van de complete SoundCloud-ervaring met onze gratis app.","[[soundTitle]] by [[authorName]]":"[[soundTitle]] van [[authorName]]",Messages:"Berichten","Take this playlist with you and enjoy the full SoundCloud experience with our free app.":"Luister naar deze afspeellijst onderweg en geniet van de complete SoundCloud-ervaring met onze gratis app.","[[playlistTitle]] by [[authorName]]":"[[playlistTitle]] van [[authorName]]",Search:"Zoeken","Search tracks":"Tracks zoeken","Search playlists":"Afspeellijsten zoeken","Search people":"Gebruikers zoeken","Search groups":"Groepen zoeken","Search [[category]]":"[[category]] zoeken","Unsubscribed successfully":"Uitgeschreven","Be the first to hear what [[username]] posts next with our free app.":"Luister als eerste naar wat [[username]] post met onze gratis app.","New &amp; hot tracks":"Nieuwe en populaire tracks","Up-and-coming tracks on SoundCloud":"Veelbelovende tracks op SoundCloud","New &amp; hot audio":"Nieuwe en populaire audio","Up-and-coming audio on SoundCloud":"Veelbelovende audio op SoundCloud","The most played tracks on SoundCloud this week":"De meest afgespeelde tracks op SoundCloud van deze week","The most played audio on SoundCloud this week":"De meest afgespeelde audio op SoundCloud van deze week","New &amp; hot in [[[genreLabel]]]":"Nieuw en populair in [[[genreLabel]]]","Up-and-coming tracks in [[[genreLabel]]] on SoundCloud":"Veelbelovende tracks in [[[genreLabel]]] op SoundCloud","The most played tracks in [[[genreLabel]]] on SoundCloud this week":"De meest afgespeelde tracks in [[[genreLabel]]] op SoundCloud van deze week","Up-and-coming in [[[genreLabel]]] on SoundCloud":"Veelbelovend in [[[genreLabel]]] op SoundCloud","The most played in [[[genreLabel]]] on SoundCloud this week":"Het meest afgespeeld in [[[genreLabel]]] op SoundCloud van deze week","New &amp; hot":"Nieuw en populair","All music genres":"Alle muziekgenres","All audio genres":"Alle audiogenres","Alternative Rock":"Alternatieve Rock",Classical:"Klassiek","Dance &amp; EDM":"Dance en EDM","Drum &amp; Bass":"Drum & Bass",Electronic:"Electro","Folk &amp; Singer-Songwriter":"Folk en Singer-Songwriter","Hip-hop &amp; Rap":"Hiphop en Rap","Jazz &amp; Blues":"Jazz en Blues","R&B &amp; Soul":"R&B en Soul",Speech:"Gesproken woord",World:"Wereldmuziek",Audiobooks:"Audioboeken",Business:"Zakelijk",Learning:"Educatie","News &amp; Politics":"Nieuws en Politiek","Religion &amp; Spirituality":"Religie en Spiritualiteit",Science:"Wetenschap",Sports:"Sport",Storytelling:"Verhalen",Technology:"Technologie","1 hour":["1 uur","%d uren"],"1 minute":["1 minuut","%d minuten"],"1 second":["1 seconde","%d seconden"],"Enjoy the full SoundCloud experience with our app.":"Geniet van de complete SoundCloud-ervaring met onze app.",Close:"Sluiten",Retry:"Opnieuw proberen","1 track":["1 track","%d tracks"],"1 play":["1x afgespeeld","%d x afgespeeld"],"1 follower":["1 volger","%d volgers"],"Download on the App Store":"Downloaden van de App Store","Get it on Google Play":"Downloaden van Google Play","Get it at BlackBerry World":"Downloaden van BlackBerry World","Available at Amazon":"Verkrijgbaar op Amazon","Get it in the Firefox Marketplace":"Downloaden van de Firefox Marketplace","Download SoundCloud":"SoundCloud downloaden","I already have the app":"Ik heb de app al","Listen on the SoundCloud app":"Luisteren op de SoundCloud-app","Download our free app":"Download onze gratis app","No more previews, just full tracks.":"Geen previews meer, alleen maar volledige tracks.","Try SoundCloud Go+":"Probeer SoundCloud Go+","Terms of use":"Gebruiksvoorwaarden",Legal:"Juridisch","Privacy policy":"Privacybeleid","Cookies policy":"Cookiebeleid","Company information":"Bedrijfsinformatie",Imprint:"Impressum","People directory":"Gebruikerslijst",Directory:"Gebruikerslijst","SoundCloud homepage":"SoundCloud-homepage","Hear the world's sounds":"Muziek van over de hele wereld","Trending tracks on SoundCloud":"Trending tracks op SoundCloud","Get our Android app to save this track to your likes, create playlists and more.":"Download onze Android-app om deze track in je likes op te slaan, afspeellijsten te maken en meer.","Get our iPhone app to save this track to your likes, create playlists and more.":"Download onze iPhone-app om deze track in je likes op te slaan, afspeellijsten te maken en meer.","Try our app.<br>It's even better":"Probeer onze app.<br>Die is nog beter",Like:"Liken","Try playing these related tracks":"Probeer deze verwante tracks",Cancel:"Annuleren","Select your language":"Selecteer je taal","Language:":"Taal:","Messages are only<br> supported on desktop browsers.":"Berichten zijn enkel<br>beschikbaar via desktop browsers.","Pages might not display correctly <br>in mobile browsers.":"Pagina's worden mogelijk niet correct <br>weergeven in mobiele browsers.","Go to Messages":"Ga naar Berichten","SoundCloud for mobile is<br> only available as an app.":"SoundCloud voor mobiel is<br> alleen beschikbaar als app.","Open or download now<br> to use SoundCloud on<br> your device.":"Open of download de app nu<br> om SoundCloud op<br> je apparaat te gebruiken.","Open or get the app":"De app openen of downloaden","Weâ€™re sorry to hear youâ€™re leaving.":"Wat jammer dat je ons verlaat.","Review your email subscriptions at":"Bekijk je e-mailabonnementen op","Results for: [[generatedSummary]]":"Resultaten voor: [[generatedSummary]]",back:"terug","Don't want to be included? Visit the desktop version of this page to opt out.":"Wil je niet in deze lijst? Ga dan naar de desktopversie van deze pagina om je af te melden.","Play or pause track":"Track afspelen of pauzeren","Become a SoundCloud Pro":"Word een SoundCloud Pro","175 million people listen on SoundCloud each month. Get the tools you need to share your music and grow your audience.":"175 miljoen mensen luisteren iedere maand naar muziek en audio op SoundCloud. Gebruik de tools die je nodig hebt om jouw muziek te delen en breid je publiek uit.","Pro plans can only be purchased from a computer.":"Pro-abonnementen kunnen alleen gekocht worden vanaf de computer.","Stats with more data.":"Statistieken met meer gegevens.","Pro stats provide the data you need to plan your releases, connect with your biggest fans, and build your career.":"Pro-statistieken bieden de gegevens die je nodig hebt om je releases te plannen, contact te leggen met je fans en je carriÃ¨re op te bouwen. ","More upload time.":"Meer uploadtijd.","Double your upload time with a Pro subscription or get limitless storage for your tracks, albums, projects, and back catalog with Pro Unlimited.":"Verdubbel je uploadtijd met een Pro-abonnement of krijg onbeperkte opslag voor je tracks, albums, projecten en muziekcatalogus met Pro Unlimited.","More control.":"Meer controle.","Pin tracks and playlists to the top of your profile with Spotlight, turn commenting and public stats on or off with Quiet Mode. By going Pro, youâ€™re in control of your tracks and playlists.":"Pin tracks en afspeellijsten boven aan je profiel met Spotlight, en schakel reacties en openbare statistieken in of uit met Stille modus. Door Pro te worden, heb jij de controle over jouw tracks en afspeellijsten.","Become a SoundCloud Pro on your computer today at [[[link]]].":"Word nu een SoundCloud Pro op je computer via [[[link]]].",All:"Alles",Playlists:"Afspeellijsten",People:"Personen","1 person":["1 persoon","[[count]] personen"],"1 playlist":["1 afspeellijst","[[count]] afspeellijsten"],"Found 1 SoundCloud Go+ result":["1 SoundCloud Go+-resultaat gevonden","%d SoundCloud Go+-resultaten gevonden"],"Show more SoundCloud Go+ results":"Meer SoundCloud Go+-resultaten weergeven","Sorry, nothing matches your search.":"Sorry, er zijn geen zoekresultaten.","Search SoundCloud":"Zoek op SoundCloud","Find people, tracks and playlists":"Vind personen, tracks en afspeellijsten","You have successfully<br>changed your password.":"Je hebt je<br>wachtwoord gewijzigd.","Activate your device":"Je apparaat activeren","Open the SoundCloud app":"Open de SoundCloud-app","When prompted, enter the activation code from your device. Activation is only available in the latest version of the app.":"Voer de activeringscode op je apparaat in wanneer hierom wordt gevraagd. Activering is alleen beschikbaar in de nieuwste versie van de app.","Or, continue in your browser":"Of ga verder in je browser","Not available in your country":"Niet beschikbaar in jouw land","Reposted by [[username]]":"Gerepost door [[username]]","Now playing":"Nu aan het afspelen","Previous track":"Vorige track","Next track":"Volgende track","1 Like":["1 like","%d likes"],"Not available in<br>your country":"Niet beschikbaar in<br>jouw land","Weâ€™re sorry, that track isnâ€™t available on mobile.":"Sorry, deze track is niet beschikbaar op mobiel.","Show more tracks":"Meer tracks weergeven","Show more playlists":"Meer afspeellijsten weergeven","Show more likes":"Meer likes weergeven","Enjoy the custom experience for creators with SoundCloud Pulse.":"Profiteer van de gepersonaliseerde ervaring voor auteurs met SoundCloud Pulse.","searchResults::1 track":["1 track","[[count]] tracks"],'eg. "Found 12 tracks, 1 person"::Found [[joinedCounts]]':"[[joinedCounts]] gevonden","button::Sign in to SoundCloud":"Inloggen op SoundCloud","button::Download our free app":"Download onze gratis app","track::Preview":"Voorbeeld"}),
define("shared/config/locales/locale-pt-br.json",[],{"Something doesnâ€™t sound right.":"Parece que alguma coisa nÃ£o estÃ¡ bem.","Refresh the page to try again.":"Atualize a pÃ¡gina para tentar novamente.","We canâ€™t find this page.":"NÃ£o foi possÃ­vel encontrar esta pÃ¡gina.","We canâ€™t find this sound.":"NÃ£o foi possÃ­vel encontrar esta faixa.","We canâ€™t find this playlist.":"NÃ£o foi possÃ­vel encontrar esta playlist.","We canâ€™t find this user.":"NÃ£o foi possÃ­vel encontrar este usuÃ¡rio.","Charts on SoundCloud.":"Paradas da SoundCloud.","Charts are only available on desktop browsers.":"As paradas sÃ³ estÃ£o disponÃ­veis em navegadores para desktop.","Alternatively, download our mobile app to discover trending music &amp; audio on the go.":"Baixe nosso aplicativo mÃ³vel para descobrir a mÃºsica e o aÃºdio do momento na hora que desejar.","Joining Premier is only available on desktop browsers.":"SÃ³ Ã© possÃ­vel entrar no Premier em navegadores desktop.","Come back when youâ€™re at your computer to accept your invitation.":"Retorne quando vocÃª estiver no seu computador para aceitar o convite.","Upload your music &amp; audio and share it with the world.":"Envie sua mÃºsica e seu Ã¡udio e compartilhe-os com o mundo.","Upload is only supported on desktop browsers.":"O upload sÃ³ Ã© possÃ­vel em navegadores desktop.","Come back when youâ€™re at your computer to upload more tracks.":"Retorne quando vocÃª estiver no seu computador para enviar mais faixas.","Connect with Facebook friends.":"Conecte-se com seus amigos do Facebook.","Connect is only available on desktop browsers.":"A conexÃ£o sÃ³ estÃ¡ disponÃ­vel em navegadores desktop.","Looking to connect with Facebook friends or find new people to follow? This feature is only available on desktop browsers.":"VocÃª quer se conectar com seus amigos do Facebook ou encontrar novas pessoas para seguir? Esse recurso sÃ³ estÃ¡ disponÃ­vel em navegadores desktop.","Come back when youâ€™re at your computer to find new people to follow.":"Retorne quando vocÃª estiver no computador para encontrar novas pessoas para seguir.","Your profile":"Seu perfil","Managing your account is only available on desktop browsers.":"SÃ³ Ã© possÃ­vel gerenciar sua conta em navegadores desktop.",'For more information on optimizing your profile, visit our <a href="[[url]]">Creator Guide</a>.':'Para mais informaÃ§Ãµes sobre a otimizaÃ§Ã£o do seu perfil, visite nosso <a href="[[url]]">Guia do criador</a>.',"Your tracks.":"Suas faixas.","Managing your tracks is only available on desktop browsers.":"SÃ³ Ã© possÃ­vel gerenciar suas faixas em navegadores desktop.","Come back when youâ€™re at your computer to edit, share and add tracks to playlists.":"Retorne quando vocÃª estiver no seu computador para editar, compartilhar e adicionar faixas Ã s playlists.",'For more information, visit our <a href="[[url]]">Creator Guide</a>.':'Para mais informaÃ§Ãµes, visite o nosso <a href="[[url]]">Guia do criador</a>.',"Enjoy the free SoundCloud experience with our app.":"Aproveite a SoundCloud gratuitamente com nosso aplicativo.","Enjoy the full SoundCloud experience with our free app.":"Aproveite a SoundCloud completa gratuitamente nosso aplicativo grÃ¡tis.","[[soundTitle]] by [[authorName]]":"[[soundTitle]] de [[authorName]]",Messages:"Mensagens","Take this playlist with you and enjoy the full SoundCloud experience with our free app.":"OuÃ§a esta playlist onde quiser e aproveite a SoundCloud com nosso app gratuito.","[[playlistTitle]] by [[authorName]]":"[[playlistTitle]] de [[authorName]]","Go Pro":"Assinar Pro",Search:"Pesquisar","Search tracks":"Pesquisar faixas","Search playlists":"Pesquisar playlists","Search people":"Pesquisar pessoas","Search groups":"Pesquisar grupos","Search [[category]]":"Pesquisar [[category]]","Unsubscribed successfully":"InscriÃ§Ã£o cancelada com sucesso","Be the first to hear what [[username]] posts next with our free app.":"Seja o primeiro a ouvir o que [[username]] publica com nosso app gratuito.","[[username]]â€™s stream":"Stream de [[username]]","New &amp; hot tracks":"Faixas novas e iradas","Up-and-coming tracks on SoundCloud":"Faixas que vÃ£o bombar na SoundCloud","New &amp; hot audio":"Ãudios novos e irados","Up-and-coming audio on SoundCloud":"Ãudios que vÃ£o bombar na SoundCloud","Top 50 tracks":"Faixas Top 50","The most played tracks on SoundCloud this week":"As faixas mais tocadas na SoundCloud esta semana","Top 50 audio":"Ãudios Top 50","The most played audio on SoundCloud this week":"Os Ã¡udios mais tocados na SoundCloud esta semana","New &amp; hot in [[[genreLabel]]]":"Novo e irado em [[[genreLabel]]]","Up-and-coming tracks in [[[genreLabel]]] on SoundCloud":"Faixas de [[[genreLabel]]] que vÃ£o bombar na SoundCloud","Top 50 in [[[genreLabel]]]":"Top 50 em [[[genreLabel]]]","The most played tracks in [[[genreLabel]]] on SoundCloud this week":"As faixas mais tocadas de [[[genreLabel]]] na SoundCloud esta semana","Up-and-coming in [[[genreLabel]]] on SoundCloud":"O que vai bombar em [[[genreLabel]]] na SoundCloud","The most played in [[[genreLabel]]] on SoundCloud this week":"As mais reproduzidas em [[[genreLabel]]] na SoundCloud esta semana","New &amp; hot":"Novo e irado","All music genres":"Todos os gÃªneros musicais","All audio genres":"Todos os gÃªneros de Ã¡udio","Alternative Rock":"Rock alternativo",Ambient:"Ambiente",Classical:"ClÃ¡ssica","Dance &amp; EDM":"Dance e EDM","Drum &amp; Bass":"Drum & Bass",Electronic:"EletrÃ´nica","Folk &amp; Singer-Songwriter":"Folk e Cantor/compositor","Hip-hop &amp; Rap":"Rap e Hip Hop","Jazz &amp; Blues":"Jazz e Blues",Latin:"Latina","R&B &amp; Soul":"Soul e R&B",Soundtrack:"Trilha sonora",Speech:"Discursos",Triphop:"Trip Hop",Business:"NegÃ³cio",Comedy:"ComÃ©dia",Entertainment:"Entretenimento",Learning:"Aprendizado","News &amp; Politics":"NotÃ­cias e PolÃ­tica","Religion &amp; Spirituality":"ReligiÃ£o e Espiritualidade",Science:"CiÃªncia",Sports:"Esportes",Storytelling:"ContaÃ§Ã£o de histÃ³rias",Technology:"Tecnologia","1 hour":["1 hora","%d horas"],"1 minute":["1 minuto","%d minutos"],"1 second":["1 segundo","%d segundos"],"Enjoy the full SoundCloud experience with our app.":"Aproveite a SoundCloud completa com nosso app.",Close:"Fechar",Retry:"Tentar novamente","1 track":["1 faixa","%d faixas"],"1 play":["1 reproduÃ§Ã£o","%d reproduÃ§Ãµes"],"1 follower":["1 seguidor","%d seguidores"],"Download on the App Store":"Baixar na App Store","Get it on Google Play":"Baixar no Google Play","Get it at BlackBerry World":"Baixar no BlackBerry World","Available at Amazon":"DisponÃ­vel na Amazon","Get it in the Firefox Marketplace":"Baixar no Firefox Marketplace","Download SoundCloud":"Baixar a SoundCloud","I already have the app":"JÃ¡ tenho o aplicativo","Listen on the SoundCloud app":"Ouvir no app SoundCloud","Download our free app":"Baixe nosso app gratuito","No more previews, just full tracks.":"Chega de pr, apenas faixas completas.","Try SoundCloud Go+":"Experimente a SoundCloud Go+","Terms of use":"Termos de Uso",Legal:"Aviso legal","Privacy policy":"PolÃ­tica de Privacidade",Privacy:"Privacidade","Cookies policy":"PolÃ­tica de Cookies","Company information":"InformaÃ§Ãµes sobre a empresa",Imprint:"SoundCloud Ltd.","People directory":"DiretÃ³rio de pessoas",Directory:"DiretÃ³rio","SoundCloud homepage":"PÃ¡gina inicial da SoundCloud","Hear the world's sounds":"OuÃ§a os sons do mundo","Trending tracks on SoundCloud":"Faixas mais tocadas na SoundCloud","Get our Android app to save this track to your likes, create playlists and more.":"Baixe nosso aplicativo para Android para salvar esta faixa nas suas curtidas, criar playlists e muito mais.","Get our iPhone app to save this track to your likes, create playlists and more.":"Baixe nosso aplicativo para iPhone para salvar esta faixa nas suas curtidas, criar playlists e muito mais.","Try our app.<br>It's even better":"Experimente nosso aplicativo.<br>Ã‰ ainda melhor",Like:"Curtir","Try playing these related tracks":"Experimente reproduzir as faixas relacionadas",Cancel:"Cancelar","Select your language":"Selecione o idioma","Language:":"Idioma:","Messages are only<br> supported on desktop browsers.":"As mensagens sÃ³ estÃ£o disponÃ­veis<br> em navegadores desktop.","Pages might not display correctly <br>in mobile browsers.":"As pÃ¡ginas podem nÃ£o ser exibidas corretamente <br>em navegadores mÃ³veis.","Go to Messages":"Ir para Mensagens","SoundCloud for mobile is<br> only available as an app.":"A SoundCloud para dispositivos mÃ³veis sÃ³<br> estÃ¡ disponÃ­vel como aplicativo.","Open or download now<br> to use SoundCloud on<br> your device.":"Abra ou baixe agora<br> para usar a SoundCloud no<br> seu dispositivo.","Open or get the app":"Abrir ou obter o aplicativo","Weâ€™re sorry to hear youâ€™re leaving.":"Que pena que vocÃª estÃ¡ indo embora.","Review your email subscriptions at":"Consulte suas assinaturas por e-mail em","Results for: [[generatedSummary]]":"Resultados para: [[generatedSummary]]",back:"voltar","Don't want to be included? Visit the desktop version of this page to opt out.":"NÃ£o quer ser incluÃ­do? Visite a versÃ£o para desktop desta pÃ¡gina para cancelar.","Play or pause track":"Reproduzir ou pausar faixa","Become a SoundCloud Pro":"Torne-se SoundCloud Pro","175 million people listen on SoundCloud each month. Get the tools you need to share your music and grow your audience.":"175 milhÃµes de pessoas ouvem a SoundCloud todo mÃªs. Obtenha as ferramentas necessÃ¡rias para compartilhar sua mÃºsica e aumentar seu pÃºblico.","Pro plans can only be purchased from a computer.":"Os planos Pro podem ser adquiridos somente de um computador.","Stats with more data.":"EstatÃ­sticas com mais informaÃ§Ãµes.","Pro stats provide the data you need to plan your releases, connect with your biggest fans, and build your career.":"As estatÃ­sticas Pro fornecem as informaÃ§Ãµes que vocÃª precisa para planejar seus lanÃ§amentos, conectar-se com seus maiores fÃ£s e projetar sua carreira.","More upload time.":"Mais tempo de upload.","Double your upload time with a Pro subscription or get limitless storage for your tracks, albums, projects, and back catalog with Pro Unlimited.":"Dobre o tempo de upload com uma assinatura do plano Pro ou obtenha armazenamento ilimitado para suas faixas, Ã¡lbuns, projetos e catÃ¡logo com o plano Pro Iilimitado.","More control.":"Mais controle.","Pin tracks and playlists to the top of your profile with Spotlight, turn commenting and public stats on or off with Quiet Mode. By going Pro, youâ€™re in control of your tracks and playlists.":"Fixe faixas e playlists no topo do seu perfil com os Destaques, ative ou desative comentÃ¡rios e estatÃ­sticas pÃºblicas com o modo silencioso. Assinando o plano Pro, vocÃª controla suas faixas e playlists.","Become a SoundCloud Pro on your computer today at [[[link]]].":"Torne-se SoundCloud Pro com seu computador hoje mesmo em [[[link]]].",All:"Tudo",Tracks:"Faixas",People:"Pessoas","1 person":["1 pessoa","[[count]] pessoas"],"1 playlist":["1 playlist","[[count]] playlists"],"Found 1 SoundCloud Go+ result":["1 resultado encontrado na SoundCloud Go+","%d resultados encontrados na SoundCloud Go+"],"Show more SoundCloud Go+ results":"Exibir mais resultados na SoundCloud Go+","Sorry, nothing matches your search.":"Lamentamos, nÃ£o houve resultados para sua pesquisa.","Search SoundCloud":"Pesquisar na SoundCloud","Find people, tracks and playlists":"Encontre pessoas, faixas e playlists","You have successfully<br>changed your password.":"VocÃª alterou<br> sua senha com sucesso.","Activate your device":"Ativar seu dispositivo","Open the SoundCloud app":"Abra o app da SoundCloud","When prompted, enter the activation code from your device. Activation is only available in the latest version of the app.":"Quando solicitado, insira o cÃ³digo de ativaÃ§Ã£o do seu dispositivo. A ativaÃ§Ã£o sÃ³ estÃ¡ disponÃ­vel na Ãºltima versÃ£o do aplicativo.","Or, continue in your browser":"Ou continue no seu navegador","Not available in your country":"NÃ£o disponÃ­vel no seu paÃ­s","Reposted by [[username]]":"Republicada por [[username]]","Now playing":"Reproduzindo agora","Previous track":"Faixa anterior","Next track":"PrÃ³xima faixa","1 Like":["1 curtida","%d curtidas"],"Not available in<br>your country":"NÃ£o disponÃ­vel em<br>seu paÃ­s","Weâ€™re sorry, that track isnâ€™t available on mobile.":"Lamentamos, essa faixa nÃ£o estÃ¡ disponÃ­vel para dispositivos mÃ³veis.",Spotlight:"Destaques","Show more tracks":"Ver mais faixas","Show more playlists":"Ver mais playlists",Likes:"Curtidas","Show more likes":"Ver mais curtidas","Enjoy the custom experience for creators with SoundCloud Pulse.":"Tenha a experiÃªncia exclusiva dos criadores com a SoundCloud Pulse.","searchResults::1 track":["1 faixa","[[count]] faixas"],'eg. "Found 12 tracks, 1 person"::Found [[joinedCounts]]':"[[joinedCounts]] encontrados","button::Sign in to SoundCloud":"Entrar na SoundCloud","button::Download our free app":"Baixar nosso aplicativo grÃ¡tis","track::Preview":"PrÃ©via"}),
define("lib/helpers/dns-helper",["require","exports","module","lib/url"],function(e,t,n){var r=e("lib/url"),i=[],s=n.exports={lookup:function(e){var t=document.createDocumentFragment(),n;e=typeof e=="string"?[e]:e,e.length&&(e.forEach(function(e){n=r.parse(e).host;if(n&&i.indexOf(n)===-1){i.push(n);var s=document.createElement("link");s.rel="dns-prefetch",s.href="//"+n,t.appendChild(s)}}),t.childNodes.length&&document.head.appendChild(t))}}}),
define("views/footer/footer.tmpl",["vendor/handlebars-runtime","views/app-buttons/app-buttons","views/locale-selector/locale-selector"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){var r="",i;return r+=' <div class="footer__appButtonContainer"> <p class="footer__appButtonText"> '+a((i=(i=e&&e._options,i==null||i===!1?i:i.upsellText),typeof i===u?i.apply(e):i))+" </p> "+a(n.$view.call(e,"views/app-buttons/app-buttons",{hash:{},data:t}))+" </div>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n["if"].call(t,t&&t.shouldUpsell,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+=' <div class="footer__links g-font-12"> <a href="'+a(n.$route.call(t,"pages","terms-of-use",{hash:{},data:i}))+'" title="'+a(n.$t.call(t,"Terms of use",{hash:{},data:i}))+'">'+a(n.$t.call(t,"Legal",{hash:{},data:i}))+'</a>&nbsp;- <a href="'+a(n.$route.call(t,"pagesPages","privacy",{hash:{},data:i}))+'" title="'+a(n.$t.call(t,"Privacy policy",{hash:{},data:i}))+'">'+a(n.$t.call(t,"Privacy",{hash:{},data:i}))+'</a>&nbsp;- <a href="'+a(n.$route.call(t,"pagesPages","cookies",{hash:{},data:i}))+'" title="'+a(n.$t.call(t,"Cookies policy",{hash:{},data:i}))+'">'+a(n.$t.call(t,"Cookies",{hash:{},data:i}))+'</a>&nbsp;- <a href="'+a(n.$route.call(t,"pages","imprint",{hash:{},data:i}))+'" title="'+a(n.$t.call(t,"Company information",{hash:{},data:i}))+'">'+a(n.$t.call(t,"Imprint",{hash:{},data:i}))+'</a>&nbsp;- <a href="'+a(n.$route.call(t,"peopleDirectory",{hash:{},data:i}))+'" title="'+a(n.$t.call(t,"People directory",{hash:{},data:i}))+'">'+a(n.$t.call(t,"Directory",{hash:{},data:i}))+"</a> <br> "+a(n.$view.call(t,"views/locale-selector/locale-selector",{hash:{},data:i}))+"\n</div> ",s})}),
define("views/footer/footer.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".footer{text-align:center;margin:26px 0 0;padding:0 0 18px;display:none}.footer.show{display:block}.app__displayMiniPlayer .footer{padding:0 0 78px}.footer__links,.footer__links a{color:#999;line-height:20px}.footer__links>.localeSelector{color:#38d}.footer__appButtonContainer{margin:0 25px 28px}.footer__appButtonText{color:#333;font-size:16px;text-align:center;margin:0 0 18px}.footerSwitchLink{font-weight:700}")),data=null}),
define("lib/helpers/a11y-helper",["require","exports","module","vendor/handlebars-runtime"],function(e,t,n){var r=e("vendor/handlebars-runtime"),i=n.exports={getAccessibleMarkup:function(e){return'<span class="sc-visuallyhidden">'+r.Utils.escapeExpression(e.screenreader)+"</span>"+(e.visible?'<span aria-hidden="true">'+r.Utils.escapeExpression(e.visible)+"</span>":"")}}}),
define("lib/helpers/count-helper",["require","exports","module","underscore","lib/lingua"],function(e,t,n){function a(e){var t=0;return e<10?t=2:e<100?t=1:t=0,t}var r=e("underscore"),i=e("lib/lingua"),s=["K","M","B"],o;o={max:null,suffix:"+",useSIUnits:!1,precision:null};var u=n.exports={render:function(e,t){if(typeof e!="number")return e;var n=0,u="",f=0;t=t||{},r.defaults(t,o);if(t.max&&e>t.max)e=t.max,u=t.suffix;else if(t.useSIUnits){if(t.precision===null&&e<1e4)return i.numberHelper.format(e);while(e>=1e3&&n<s.length)e/=1e3,u=s[n++];f=t.precision!==null?t.precision:a(e)}return i.numberHelper.format(e,{precision:f,roundingFn:Math.floor})+u}}}),
define("lib/helpers/i18n-helper",["require","exports","module"],function(e,t,n){var r=/\r?\n/g,i=/\s+/g;n.exports={cleanBlockText:function(e){return e.trim().replace(r," ").replace(i," ")}}}),
define("lib/helpers/image-helper",["require","exports","module","$","underscore","lib/helpers/client-environment-helper","vendor/experiments/experiments","lib/helpers/name-helper","lib/support"],function(e,t,n){function y(e){var t,n,r;return c.lastIndex=0,t=e.replace(c,function(e,t,s,o){return i.find(d,function(e,t){if(e[1]===o)return n=t,!0}),r=t,s}),r?{index:n,key:parseInt(t,10),type:r}:null}function b(e,t){var n=i.find(d,function(e){return e[0]>=t})||i.last(d);return n[1]==="t20x20"&&e==="artworks"?"tiny":n[1]}function w(e){c.lastIndex=0;var t=c.exec(e),n;return t&&(n=t[3].charCodeAt(0)%4+1,n!==1&&(e=e.replace("//i1.","//i"+n+"."))),e}function E(e){var t=y(e);t&&(p[t.type]||(p[t.type]={}),p[t.type][t.key]=p[t.type][t.key]|1<<t.index)}function S(e){var t=[];return e.background&&(delete e.alt,delete e.width),e.classList.length&&(e.class=e.classList.join(" ")),i.each(e,function(e,n){i.indexOf(v,n)!==-1&&t.push(n+'="'+e+'"')}),t.join(" ")}function x(e){e.classList.push("image__defer","g-transition-fade-out"),e["data-src"]=e.src,delete e.src}function T(e){e.classList.push("g-transition-fade g-transition-fade-out"),e.onload="(function() { this.classList.remove('g-transition-fade-out'); }.bind(this)())"}var r=e("$"),i=e("underscore"),s=e("lib/helpers/client-environment-helper").device,o=e("vendor/experiments/experiments"),u=e("lib/helpers/name-helper"),a=e("lib/support"),f,l=/default_avatar/,c=/^.*\/([a-z0-9]+)-0*([a-z0-9]+)-([a-z0-9]+)-([a-z0-9]+)\.jpg.*$/i,h=/\/images\/default\/.*?x[0-9]+(?:-[a-z0-9]+)?\.png$/,p={},d=[[20,"t20x20"],[50,"t50x50"],[120,"t120x120"],[200,"t200x200"],[500,"t500x500"]];o.get("mweb_listening","hocuspocus")==="hocuspocus"&&(s.dpi==="hdpi"?d=[[60,"t120x120"],[120,"t240x240"],[500,"t500x500"]]:d=[[60,"t60x60"],[120,"t120x120"],[500,"t500x500"]]);var v=["alt","class","height","src","title","width","data-src","onload"],m={cloud:{40:"https://m.soundcloud.com/assets/images/default/cloudx40-397e0b30.png",50:"https://m.soundcloud.com/assets/images/default/cloudx50-397e0b30.png",60:"https://m.soundcloud.com/assets/images/default/cloudx80-397e0b30.png",80:"https://m.soundcloud.com/assets/images/default/cloudx80-397e0b30.png",120:"https://m.soundcloud.com/assets/images/default/cloudx120-397e0b30.png",200:"https://m.soundcloud.com/assets/images/default/cloudx200-397e0b30.png"},group:{40:"https://m.soundcloud.com/assets/images/default/groupx40-397e0b30.png",50:"https://m.soundcloud.com/assets/images/default/groupx50-397e0b30.png",60:"https://m.soundcloud.com/assets/images/default/groupx80-397e0b30.png",80:"https://m.soundcloud.com/assets/images/default/groupx80-397e0b30.png",120:"https://m.soundcloud.com/assets/images/default/groupx120-397e0b30.png",200:"https://m.soundcloud.com/assets/images/default/groupx200-397e0b30.png"},user:{40:"https://m.soundcloud.com/assets/images/default/userx40-397e0b30.png",50:"https://m.soundcloud.com/assets/images/default/userx50-397e0b30.png",60:"https://m.soundcloud.com/assets/images/default/userx80-397e0b30.png",80:"https://m.soundcloud.com/assets/images/default/userx80-397e0b30.png",120:"https://m.soundcloud.com/assets/images/default/userx120-397e0b30.png",200:"https://m.soundcloud.com/assets/images/default/userx200-397e0b30.png"}},g=n.exports={load:function(e){var t=new Image,n=r.Deferred();return a.corsImg&&(t.crossOrigin=location.host,e+="?xd=true"),r(t).on("load",function(){n.resolve(this)}).on("error",function(){n.reject(this)}),t.src=e,n},markup:function(e,t){return t.size==="fill"&&(t.fill=!0,t.size="100%"),i.defaults(t,{src:g.urlFrom(e,t.size),width:t.size,height:t.size,alt:g.getAltText(e)}),E(t.src),t.classList=t.class?t.class.split(" "):[],t.fill&&delete t.height,t.defer&&x(t),t.fade&&T(t),g.getMarkup(t)},getMarkup:function(e){var t;return e.fill?e.fill&&(t='<div class="g-image-fill"><img '+S(e)+"></div>"):t="<img "+S(e)+">",t},getAltText:function(e){return e.username?u.get(e,!0)+" avatar":u.get(e)},getPlaceholderUrl:function(e,t){var n,r,s,o,u;s=y(g.setFormat(e,t));if(s){n=s.key,p[s.type]||(p[s.type]={});if(p[s.type][n]){r=i.find(d,function(e,n){return u=n,t<=e[0]});while(u>=0){if(p[s.type][n]&Math.pow(2,u)){o=d[u];break}--u}}if(r&&o===r)return!1;if(o)return g.setFormat(e,o[0])}return null},urlFrom:function(e,t){var n=e&&(e.artwork_url||e.avatar_url||e.user&&e.user.avatar_url)||"";return g.isDefaultImage(n)?g.getDefaultImage(e.kind,t):(n=w(n),t?g.setFormat(n,t):n)},isDefaultImage:function(e){return!e||l.test(e)},getDefaultImage:function(e,t){return(m[e]||m.cloud)[f(t)]},setFormat:function(e,t){if(h.test(e))return e.replace(/[0-9]+((?:-[a-z0-9]+)?\.png)$/,f(t)+"$1");c.lastIndex=0;var n=c.exec(e);if(n){var r=n[1],i=n[4],s=b(r,t);return s?e.replace(i,s):e}return e},fadeInBackground:function(e,t){return g.load(e).done(function(){t.style.backgroundImage="url("+e+" )",t.classList.remove("g-transition-fade-out")})}};f=function(){var e=Object.keys(m.cloud),t;return e.sort(function(e,t){return e-t}),t=i.last(e),i.memoize(function(n){var r,i;for(r=0;i=e[r];++r)if(i>=n)return i;return t})}()}),
define("views/header/search-button",["require","exports","module","lib/event-bus","lib/view","views/header/search-button.css"],function(e,t,n){function o(){this.bubble("searchButton:click")}function u(){this.toggleState("visibility")}var r=e("lib/event-bus"),i=e("lib/view"),s=n.exports=i.extend({template:function(){return"Search"},tagName:"button",css:e("views/header/search-button.css"),className:"searchButton g-touch-padding g-button-nostyle",states:{initiate:"initiate",visibility:"sc-hidden"},events:{click:o},setup:function(){this.listenTo(r,"locale-selector:toggle",u)},dispose:function(){this.stopListening(r,"locale-selector:toggle",u)},renderDecorate:function(){this.whenInserted().done(function(){this.toggleState("initiate")}.bind(this))}})}),
define("views/search/search-box",["require","exports","module","config","lib/event-bus","lib/views/mixins/form","views/search/suggestions-overlay","views/search/suggestions-list","lib/tracking/tracking-core","lib/view","lib/url","views/search/search-box.tmpl","views/search/search-box.css"],function(e,t,n){function h(){return this.getElement("input")[0].value}function p(){b.call(this)}function d(){v.call(this)}function v(){this.toggleState("open",!1);if(this.formulatingSearch){var e=h.call(this);a.trackClickV1({click_name:"search_formulation_exit",click_attributes:{q:e}}),this.formulatingSearch=!1}S.call(this)}function m(){var e=this.getElement("input")[0];e.value="",e.setAttribute("value",""),e.focus()}function g(){b.call(this)}function y(e){var t=h.call(this),n=e.queryUrn,r=e.queryPosition;a.trackClickV1({click_name:"search_formulation_end",click_attributes:{q:t,query_urn:n,query_position:r}}),this.formulatingSearch=!1,this.rerender()}function b(){var e=h.call(this),t=e.length>0;this.toggleState("filled",t),t?E.call(this,e):!t&&this.suggestionsOverlay&&S.call(this)}function w(){return l.parse(window.location.href).path.indexOf("search")===1}function E(e){if(w())return;var t=!0;this.suggestionsOverlay&&(this.suggestionsOverlay.close(),t=!1),this.suggestionsOverlay=new o({Subview:u,subviewArgs:{query:e,maxDisplay:10},showHeader:!0,animate:t}),this.suggestionsOverlay.open()}function S(){this.suggestionsOverlay&&(this.suggestionsOverlay.close(),delete this.suggestionsOverlay)}var r=e("config"),i=e("lib/event-bus"),s=e("lib/views/mixins/form"),o=e("views/search/suggestions-overlay"),u=e("views/search/suggestions-list"),a=e("lib/tracking/tracking-core"),f=e("lib/view"),l=e("lib/url"),c=n.exports=f.extend(s,{template:e("views/search/search-box.tmpl"),css:e("views/search/search-box.css"),className:"searchBox g-z-index-overlay",events:{"click .searchBox__searchCancel":d,"click .searchBox__searchEmpty":m,"keyup .searchBox__searchInput":g,"focus .searchBox__searchInput":p},element2selector:{input:".searchBox__searchInput"},formulatingSearch:!1,states:{open:"open"},setup:function(){this.listenTo(i,"layout:change",this.rerender),this.listenTo(i,"suggestion-item:click",y)},dispose:function(){this.stopListening()},renderDecorate:function(){var e=w();this.toggleState("open",e),e||v.call(this),b.call(this)},startSearch:function(){this.toggleState("open",!0),this.getElement("input")[0].focus();if(!this.formulatingSearch){var e=h.call(this);a.trackClickV1({click_name:"search_formulation_init",click_attributes:{q:e}}),this.formulatingSearch=!0}},onSubmit:function(){var e=this.getElement("input")[0],t=e.value.trim(),n=r.get("router"),i;S.call(this);if(!t.length)return;a.trackClickV1({click_name:"search_formulation_end",click_attributes:{q:t}}),this.formulatingSearch=!1,e.blur(),i=n.getLayoutInfo().args.category||"",n.navigateToRoute("search",[i,t],{trigger:!0})},onReset:function(){this.getElement("input")[0].focus()},getTemplateData:function(e){var t=l.parse(window.location.href),n=t.query.q;e.needsCancel=!w(),e.q=n}})}),
define("lib/views/mixins/overlay",["require","exports","module","$","underscore","lib/event-bus","lib/helpers/client-environment-helper","lib/css-transitions","lib/scroll-bouncing-fix","lib/mixin"],function(e,t,n){function c(){this.close()}var r=e("$"),i=e("underscore"),s=e("lib/event-bus"),o=e("lib/helpers/client-environment-helper").device,u=e("lib/css-transitions"),a=e("lib/scroll-bouncing-fix"),f=e("lib/mixin"),l=n.exports=new f({applyTo:function(e){e.defaults=i.defaults(e.defaults||{},{Subview:null,subviewArgs:null,parentEl:null})},defaults:{transitions:null,onOpen:r.noop,onSyncOpen:r.noop,onClose:r.noop},after:{renderDecorate:function(){o.iOS&&a.call(this),this.$el.addClass("g-z-index-overlay"),s.on("layout:change",c,this)}},before:{dispose:function(){s.off("layout:change",c)}},open:function(){this.isOpened=!0,this.rerender(),this.transitions&&this.transitions.in&&u[this.transitions.in](this.el,this.onOpen.bind(this)),(i.result(this,"parentEl")||document.body).appendChild(this.el),this.createContentView(),(!this.transitions||!this.transitions.in)&&this.onOpen(),this.onSyncOpen(),this.trigger("open")},close:function(){if(!this.isOpened)return;this.isOpened=!1,this.transitions&&this.transitions.out?u[this.transitions.out](this.el,this._onClose.bind(this)):this._onClose(),this.trigger("close")},_onClose:function(){this.detach(),this.onClose()},createContentView:function(){if(this.getContentView()||!this.options.Subview)return;var e=this.options,t=e.Subview,n=i.result(e,"subviewArgs"),r;r=this.addSubview(new t(i.extend({resource_id:e.resource_id,resource_type:e.resource_type},n)),"contentView"),this.el.appendChild(r.render().el)},getContentView:function(){return this.subviews.contentView},detach:function(){var e=i.result(this,"parentEl")||document.body;r(e).children(this.el)[0]&&e.removeChild(this.el)}})}),
define("lib/views/fullscreen-overlay.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".fullscreen-overlay{position:fixed;width:100%;left:0;top:0;bottom:0}.fullscreen-overlay-dark{background:rgba(0,0,0,.6);color:#fff}.fullscreen-overlay-show-header{margin-top:44px}.fullscreen-overlay__closeButton{position:absolute;top:14px;right:20px;border:0;overflow:hidden;opacity:.5;background-color:transparent;font-size:120%}")),data=null}),
define("lib/views/fullscreen-overlay.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function f(e,t){var r="";return r+=' <button class="fullscreen-overlay__closeButton sc-text-verylight" title="'+u(n.$t.call(e,"Close",{hash:{},data:t}))+'" >'+u(n.$t.call(e,"Close",{hash:{},data:t}))+"</button>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a=this;o=n["if"].call(t,t&&t.closeWithButton,{hash:{},inverse:a.noop,fn:a.program(1,f,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}),
define("views/banner/launch-app.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".launchApp{display:flex;flex-flow:column;height:200px;justify-content:space-around;align-items:center;margin-top:135px}")),data=null}),
define("views/banner/launch-app.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div> <a class="launchApp__get-app g-button g-button-large g-button-cta g-touch-padding" href="'+a((o=t&&t.storeLink,typeof o===u?o.apply(t):o))+'"> '+a(n.$t.call(t,"Download SoundCloud",{hash:{},data:i}))+' </a>\n</div>\n<div> <a class="launchApp__open-in-app g-button g-button-large g-button-cta g-touch-padding" href="'+a((o=t&&t.deepLink,typeof o===u?o.apply(t):o))+'"> '+a(n.$t.call(t,"I already have the app",{hash:{},data:i}))+" </a>\n</div>\n",s})}),
define("views/play-controls/now-playing",["require","exports","module","models/sound","lib/view","shared/config/route-builders","views/play-controls/now-playing.tmpl","views/play-controls/now-playing.css"],function(e,t,n){var r=e("models/sound"),i=e("lib/view"),s=e("shared/config/route-builders"),o=n.exports=i.extend({template:e("views/play-controls/now-playing.tmpl"),css:e("views/play-controls/now-playing.css"),ModelClass:r,className:"nowPlaying",tagName:"a",requiredAttributes:["user","title","artwork_url","permalink","permalink_url"],renderDecorate:function(){this.$el.attr("href",s.listen(this.model))}})}),
define("lib/mixins/usage-counting",["require","exports","module","lib/mixin"],function(e,t,n){var r=e("lib/mixin"),i=n.exports=new r({onCleanup:null,onIncrement:null,onDecrement:null,after:{initialize:function(e){this._counts={},this._needsGC=!1,e=e||{},this._autoCleanup=!!e.autoCleanup,this.onCleanup=e.onCleanup,this.onIncrement=e.onIncrement,this.onDecrement=e.onDecrement},reset:function(){this._counts={},this._needsGC=!1},set:function(e,t){this._counts[e]||(this._counts[e]=1,this.onIncrement&&this.onIncrement(t,e,1))},unset:function(e){delete this._counts[e]}},before:{reset:function(){this.onCleanup&&this.forEach(this.onCleanup)}},countFor:function(e){return this._counts[e]||0},increment:function(e,t){return this.has(e)&&(t=typeof t=="number"?t:1,t>0?(this._counts[e]=(this._counts[e]||0)+t,this.onIncrement&&this.onIncrement(this.get(e),e,t)):t<0&&this.decrement(e,-t)),this},decrement:function(e,t){return this.has(e)&&(t=typeof t=="number"?t:1,t>0?(this._counts[e]=(this._counts[e]||1)-t,this.onDecrement&&this.onDecrement(this.get(e),e,t),this._counts[e]<=0&&(this._needsGC=!0,this._autoCleanup&&this.cleanup())):t<0&&this.increment(e,-t)),this},cleanup:function(){var e,t=this.onCleanup;if(this._needsGC){for(e in this._counts)this._counts.hasOwnProperty(e)&&this._counts[e]===0&&(t&&t(this.get(e),e),this.unset(e));this._needsGC=!1}},changeKey:function(e,t){if(e===t)return;var n=this.get(e),r=this.countFor(e);this.unset(e),this.set(t,n),this.increment(t,r-1)}})}),
define("vendor/console-logger/console-logger",["require","exports","module"],function(e,t,n){"use strict";function o(){function C(e,t){if(!n)return;for(var r=arguments.length,s=Array(r>2?r-2:0),u=2;u<r;u++)s[u-2]=arguments[u];typeof t=="string"?t=" "+t:(s.unshift(t),t="");var a=[k()+" | "+x+(w?"%c":"")+t].concat(T,s);o?S.push({level:e,logArgs:a})>b&&S.shift():i[e].apply(i,a)}function k(){var e=new Date,t=E===null?0:e-E,n=w?"%c":"";return E=+e,n+u(e)+(n+" ("+n)+a("+"+t+"ms"," ",8)+(n+")")}function L(e){return e.enable=function(){n=!0},e.disable=function(){n=!1},e.bufferOn=function(){o=!0},e.bufferOff=function(){o=!1,S.length=0},e.flush=d()?function(){S.forEach(function(e){var t=e.level,n=e.logArgs;i[t].apply(i,n)}),S.length=0}:function(){},e}var e=v.apply(undefined,arguments),t=e.enabled,n=t===undefined?!0:t,s=e.buffer,o=s===undefined?!1:s,f=e.label,l=f===undefined?"":f,m=e.plainOutput,g=m===undefined?!1:m,y=e.bufferSize,b=y===undefined?1e3:y;if(!d())return L(r.reduce(function(e,t){return e[t]=e},function(){}));i.CL||(i.CL={_cssCounter:0});var w=!g&&p(),E=null,S=[],x=c(l,w),T=w?["color: green","color: grey","color: blue","color: grey",h(l),""]:[],N=i.CL[l]=L(r.reduce(function(e,t){return e[t]=C.bind(null,t),e},C.bind(null,"log")));return N}function u(e){return f(e.getHours())+":"+f(e.getMinutes())+":"+f(e.getSeconds())+"."+a(e.getMilliseconds(),"0",3)}function a(e,t,n){return l(t,n-(""+e).length)+e}function f(e){return a(e,"0",2)}function l(e,t){return t>0?(new Array(t+1)).join(e):""}function c(e,t){return(t?"%c":"")+(e?e:"")}function p(){if(typeof navigator=="undefined")return!1;var e=navigator.userAgent;return/chrome|firefox|opr/i.test(e)&&!/msie|edge/i.test(e)}function d(){return i&&r.every(function(e){return typeof i[e]=="function"})}function v(){var e=arguments.length<=0||arguments[0]===undefined?!0:arguments[0],t=arguments.length<=1||arguments[1]===undefined?"":arguments[1];return typeof e=="object"&&e||{enabled:e,label:t}}n.exports=o;var r=["log","info","warn","error"],i=typeof console!="undefined"?console:null,s=["color:#fff","border-radius:3px","padding:2px 4px","font-family:sans-serif","text-transform:uppercase","font-size:9px"].join(";")+";",h=function(){var e=["#51613C","#447848","#486E5F","#787444","#6E664E"];return function(t){return t?"background:"+e[i.CL._cssCounter++%e.length]+";"+s:""}}()}),
define("views/app-buttons/app-buttons",["require","exports","module","lib/helpers/client-environment-helper","lib/lingua","lib/native-links","lib/tracking/tracking-core","lib/views/mixins/update-on-layout-change","lib/view","views/app-buttons/app-buttons.tmpl","views/app-buttons/app-buttons.css"],function(e,t,n){function v(){o.action("submit","download_app_badge:download")}function m(){return r.iOS?f:r.android?l:r.blackberry?c:r.amazon?h:r.firefoxOS?p:""}var r=e("lib/helpers/client-environment-helper").device,i=e("lib/lingua"),s=e("lib/native-links"),o=e("lib/tracking/tracking-core"),u=e("lib/views/mixins/update-on-layout-change"),a=e("lib/view"),f=i.t("Download on the App Store",null,{comment:"Download button help text when website is viewed on ios"}),l=i.t("Get it on Google Play",null,{comment:"Download button help text when website is viewed on android"}),c=i.t("Get it at BlackBerry World",null,{comment:"Download button help text when website is viewed on blackberry"}),h=i.t("Available at Amazon",null,{comment:"Download button help text when website is viewed on amazon device"}),p=i.t("Get it in the Firefox Marketplace",null,{comment:"Download button help text when website is viewed on firefox device"}),d=n.exports=a.extend(u,{className:"appButtons",template:e("views/app-buttons/app-buttons.tmpl"),css:e("views/app-buttons/app-buttons.css"),events:{click:v},setup:function(){this.el.className+=" "+r.brand},getTemplateData:function(e,t){return e.url=s.getUpsellLink(t),e.a11yText=m.call(this),e}})}),
define("views/locale-selector/locale-selector",["require","exports","module","lib/event-bus","lib/views/fullscreen-overlay","lib/lingua","views/locale-selector/locale-selector-content","lib/view"],function(e,t,n){function f(){this.localeSelectorOverlay.open()}function l(){this.localeSelectorOverlay.close()}function c(){r.trigger("locale-selector:toggle")}var r=e("lib/event-bus"),i=e("lib/views/fullscreen-overlay"),s=e("lib/lingua"),o=e("views/locale-selector/locale-selector-content"),u=e("lib/view"),a=n.exports=u.extend({tagName:"a",className:"localeSelector",template:function(){return s.t("Language:")+' <span class="sc-text">'+s.getCurrentLanguage()+"</span>"},events:{click:f},setup:function(){this.listenTo(r,"locale-selector:cancel",l),this.localeSelectorOverlay=new i({Subview:o,showHeader:!0,animate:!0}),this.localeSelectorOverlay.onClose=c},dipose:function(){this.stopListening(r,"locale-selector:cancel",l)}})}),
define("vendor/experiments/experiments",["require","exports","module"],function(e,t,n){(function(){function r(t){if(!e._localStorageEnabled)return;localStorage.setItem(e._localStorageKey,t)}var e,t="assignments";e={_initialized:!1,_assignments:null,_localStorageKey:null,_localStorageEnabled:null,_availableLayers:null,_assignmentServiceUrl:null,_version:null,_anonymousId:null,initialize:function(n){return n=n||{},e._availableLayers=n.availableLayers||[],e._localStorageKey=n.localStorageKey||t,e._assignmentServiceUrl=n.assignmentServiceUrl+n.anonymousUserId,e._version=n.version,e._anonymousId=n.anonymousUserId,e._localStorageEnabled=n.hasOwnProperty("localStorageEnabled")?n.localStorageEnabled:!0,e._assignments=e.loadAssignments(),e._initialized=!0,e},reset:function(){e._availableLayers=[],e._localStorageKey=t,e._assignmentServiceUrl="",e._version=null,e._anonymousId=null,e._assignments=null},get:function(t,n){if(!e._initialized)return!1;var r=e.getLayers()||{};return r.hasOwnProperty(t)&&r[t].experimentName===n?r[t].variantName:!1},set:function(t,n,r){var i=e.getLayers();i[t]={experimentName:n,variantName:r}},fetchAssignments:function(){var t=$.Deferred(),n=e.getAssignments(),r=e._availableLayers,i=!!r.length,s={layers:r.join(",")};return e.isUpToDate(n,e._version)?t.resolve(e.formatAssignments()):i?(e.clearAssignments(),$.ajax({url:e._assignmentServiceUrl,type:"GET",dataType:"json",data:s,timeout:5e3}).done(function(n){e.buildAssignments(n),e.storeAssignments(),t.resolve(e.formatAssignments())}).fail(t.reject)):(e.clearAssignments(),t.resolve(e.formatAssignments())),t.promise()},isUpToDate:function(e,t){return e&&e._version===t},loadAssignments:function(){var t;try{t=JSON.parse(localStorage.getItem(e._localStorageKey))}catch(n){t={}}return t},buildAssignments:function(t){e._assignments={_version:e._version,layers:e.formatLayers(t)}},storeAssignments:function(){var t=e.getAssignments()||{};r(JSON.stringify(t))},clearAssignments:function(){e._assignments={},r(JSON.stringify({}))},getAssignments:function(){return e._assignments},getLayers:function(){return e.getAssignments().layers},formatAssignments:function(){var t={},n=e.getLayers(),r;return n&&(r=Object.keys(n),r.forEach(function(e){t[e]=n[e].variantId})),t},formatLayers:function(e){var t={};return e.forEach(function(e){t[e.layer_name]={experimentName:e.experiment_name,variantName:e.variant_name,variantId:e.variant_id}}),t},serialize:function(){var t=e.getLayers(),n,r,i=[];for(r in t)n=t[r],n&&n.experimentName&&n.variantName&&i.push("["+r+"] "+n.experimentName+": "+n.variantName);return i.join(", ")},setExperimentsFromQueryParams:function(t){var n,r,i,s,o;for(o in t)n=/^exp\.([^.]+)\.([^.]+)$/.exec(o),s=t[o],n&&(r=n[1],i=n[2]),r&&i&&s&&e.set(r,i,s)}},typeof n!="undefined"&&n.exports?n.exports=e:(window.SC=window.SC||{},window.SC.Experiments=e)})()}),
define("lib/helpers/name-helper",["require","exports","module","vendor/handlebars-runtime","lib/helpers/lang-helper"],function(e,t,n){var r=e("vendor/handlebars-runtime"),i=e("lib/helpers/lang-helper"),s=n.exports={get:function(e,t){var n=r.Utils.escapeExpression(e.username||e.title||e.name);return t===!0&&(n=i.possessive(n)),n}}}),
define("views/header/search-button.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".searchButton,.searchButton:active{top:0;right:0;position:absolute;overflow:hidden;height:44px;width:50px;text-indent:50px}.searchButton::after{position:absolute;content:'';top:0;right:0;background:#fff url(https://m.soundcloud.com/assets/images/ldpi/search/search-5738d5f4.png) 0 0 no-repeat;background-size:50px 44px;width:50px;height:44px;transition:background-color .1s linear}.searchButton.initiate::after{background-color:#333}.searchButton:active::after{background-color:#f50}")),data=null}),
define("lib/views/mixins/form",["require","exports","module","$","underscore","lib/mixin"],function(e,t,n){var r=e("$"),i=e("underscore"),s=e("lib/mixin"),o=n.exports=new s({defaults:{tagName:"form",formSelector:null,formId:null,submit:function(e){e.preventDefault(),this.onSubmit(this.getFormElement().elements)},reset:function(){this.onReset()},getFormElement:function(){return this.formSelector?this.el.querySelector(this.formSelector):this.el},onSubmit:r.noop,onReset:r.noop},formId:null,applyTo:function(e){var t={},n=this.formSelector;t[["reset",n].join(" ").trim()]="reset",t[["submit",n].join(" ").trim()]="submit",e.events=i.defaults(t,e.events)},before:{setup:function(){this.formId=i.uniqueId("form-")}},around:{getTemplateData:function(e,t){return t=e(t)||t,t.form_id=this.formId,t}}})}),
define("views/search/suggestions-overlay",["require","exports","module","lib/event-bus","lib/views/fullscreen-overlay"],function(e,t,n){function o(){this.close()}var r=e("lib/event-bus"),i=e("lib/views/fullscreen-overlay"),s=n.exports=i.extend({setup:function(){i.prototype.setup.apply(this,arguments),this.listenTo(r,"suggestion-item:click",o)},dispose:function(){i.prototype.dispose.apply(this,arguments),this.stopListening(r,"suggestion-item:click",o)},onClose:function(){this.dispose()}})}),
define("views/search/suggestions-list",["require","exports","module","underscore","lib/views/list","views/search/query-suggestion","collections/search-queries","views/search/suggestions-list-empty.tmpl","views/search/suggestions-list.css","views/search/search.css"],function(e,t,n){var r=e("underscore"),i=e("lib/views/list"),s=e("views/search/query-suggestion"),o=e("collections/search-queries"),u=n.exports=i.extend({emptyTemplate:e("views/search/suggestions-list-empty.tmpl"),css:[e("views/search/suggestions-list.css"),e("views/search/search.css")],defaults:{query:null},className:"suggestionsList",itemClassName:"suggestionsList__item",Subview:s,setup:function(e){this.collection=new o(null,{query:e.query})},getSubviewArgs:function(e){return r.extend(i.prototype.getSubviewArgs.apply(this,arguments),{queryUrn:this.collection.queryUrn,queryPosition:this.collection.indexOf(e)})}})}),
define("views/search/search-box.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){var r="";return r+='\n<button class="searchBox__searchCancel cancel g-font-14 g-button-nostyle g-touch-padding" type="button">'+u(n.$t.call(e,"Cancel",{hash:{_comment:"Cancel search button text"},data:t}))+"</button>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a=this,f="function";o=n["if"].call(t,t&&t.needsCancel,{hash:{},inverse:a.noop,fn:a.program(1,l,i),data:i});if(o||o===0)s+=o;return s+='\n<div class="searchBox__searchInputWrap"> <input class="searchBox__searchInput" placeholder="'+u(n.$t.call(t,"Search SoundCloud",{hash:{},data:i}))+'" type="search" name="q" autocomplete="off" autocorrect="off" autocapitalize="off" aria-label="'+u((o=t&&t.label,typeof o===f?o.apply(t):o))+'" value="'+u((o=t&&t.q,typeof o===f?o.apply(t):o))+'"> <button class="g-button-nostyle searchBox__searchEmpty g-touch-padding" type="reset">&#215;</button>\n</div>\n',s})}),
define("views/search/search-box.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".searchBox{position:absolute;top:0;left:0;width:100%;height:44px;background:#fff;z-index:-1;opacity:0;-webkit-transition:opacity .25s,z-index .3s;transition:opacity .25s,z-index .3s}.searchBox.open{z-index:1;opacity:1;-webkit-transition:opacity .25s,z-index .01s;transition:opacity .25s,z-index .01s}.searchBox__searchInputWrap{position:relative;overflow:hidden;padding-right:8px}.searchBox__searchCancel+.searchBox__searchInputWrap{padding-right:4px}.searchBox__searchInput{position:relative;display:block;width:100%;height:36px;margin:4px 0 0 4px;padding-left:40px;border:0;border-radius:2px;color:#333;background:#e5e5e5}.searchBox__searchInput:focus{outline:0}.searchBox__searchInput::-moz-placeholder,.searchBox__searchInput::-webkit-placeholder,.searchBox__searchInput:-ms-placeholder{color:#999}.searchBox__searchInputWrap::after{content:'';display:block;position:absolute;left:12px;top:12px;width:20px;height:20px;background:url(https://m.soundcloud.com/assets/images/ldpi/search/search_input-bd02f9a1.png) 0 0 no-repeat;opacity:.4;background-size:20px 20px}.searchBox__searchEmpty{color:#999;display:none;position:absolute;right:10px;top:3px;height:36px;line-height:36px;width:20px;font-size:20px}.searchBox.filled .searchBox__searchEmpty{display:block}.searchBox__searchCancel{float:right;margin:13px 13px 0;color:#999}")),data=null}),
define("lib/css-transitions",["require","exports","module","$","underscore"],function(e,t,n){function h(e,t,n){d(e,t,{"in":f,out:l,transitionClass:a},n)}function p(e,t,n){d(e,t,{"in":o,out:u,transitionClass:s},n)}function d(e,t,n,s){var o=e?n.out:n.in,u=e?n.in:n.out,a=r(t);a.addClass(n.transitionClass).addClass(o),setTimeout(function(){a.addClass(u).removeClass(o),i.delay(function(){a.removeClass(n.transitionClass).removeClass(o).removeClass(u),s&&s()},c)},16)}var r=e("$"),i=e("underscore"),s="g-transition-fade",o="g-transition-fade-in",u="g-transition-fade-out",a="g-transition-translate",f="g-transition-slide-top-in",l="g-transition-slide-top-out",c=300;t.fadeIn=p.bind(null,!0),t.fadeOut=p.bind(null,!1),t.slideTopIn=h.bind(null,!0),t.slideTopOut=h.bind(null,!1)}),
define("lib/scroll-bouncing-fix",["require","exports","module"],function(e,t,n){var r=n.exports=function(){this.$el.on("touchmove",function(e){e.preventDefault()})}}),
define("views/play-controls/now-playing.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function";return s+=u(n.$image.call(t,t,{hash:{size:40,"class":"nowPlaying__artwork"},data:i}))+'\n<span class="nowPlaying__username sc-truncate">'+u((o=(o=t&&t.user,o==null||o===!1?o:o.username),typeof o===a?o.apply(t):o))+'</span>\n<span class="nowPlaying__title sc-truncate">'+u((o=t&&t.title,typeof o===a?o.apply(t):o))+"</span>\n",s})}),
define("views/play-controls/now-playing.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".nowPlaying{display:block}.nowPlaying__artwork{float:left;margin:0 10px 0 0}.nowPlaying__username,.nowPlaying__title{display:block}.nowPlaying__username{font-size:12px;color:#999;line-height:19px}.nowPlaying__title{font-size:14px;color:#fff;line-height:19px}")),data=null}),
define("views/app-buttons/app-buttons.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){var r="",i;return r+=' <a class="appButtons__link" href="'+a((i=e&&e.url,typeof i===u?i.apply(e):i))+'" target="_blank"> '+a(n.$a11y.call(e,{hash:{screenreader:e&&e.a11yText},data:t}))+" </a>\n",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n["if"].call(t,t&&t.url,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}),
define("views/app-buttons/app-buttons.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".appButtons__link{display:block;height:57px;overflow:hidden;margin:0 auto}.appButtons.android .appButtons__link{background:url(https://m.soundcloud.com/assets/images/ldpi/appstores/en/google-a0cfe29e.png) 0 0 no-repeat;background-size:165px 57px;width:165px}.appButtons.iOS .appButtons__link{background:url(https://m.soundcloud.com/assets/images/ldpi/appstores/en/apple-c5f7f746.png) 0 0 no-repeat;background-size:193px 57px;width:193px}.appButtons.blackberry .appButtons__link{background:url(https://m.soundcloud.com/assets/images/ldpi/appstores/en/blackberry-a0cfe29e.png) 0 0 no-repeat;background-size:164px 57px;width:164px}.appButtons.amazon .appButtons__link{background:url(https://m.soundcloud.com/assets/images/ldpi/appstores/en/amazon-a0cfe29e.png) 0 0 no-repeat;background-size:167px 57px;width:167px}.appButtons.firefoxOS .appButtons__link{background:url(https://m.soundcloud.com/assets/images/firefox_marketplace-6e30092e.png) 0 0 no-repeat;background-size:172px 60px;height:60px;width:172px}.android>.appButtons__link:lang(ar){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ar/google-dd635f2d.png)}.iOS>.appButtons__link:lang(ar){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ar/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(ar){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ar/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(ar){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ar/amazon-dd635f2d.png)}.android>.appButtons__link:lang(de){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/de/google-dd635f2d.png)}.iOS>.appButtons__link:lang(de){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/de/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(de){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/de/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(de){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/de/amazon-dd635f2d.png)}.android>.appButtons__link:lang(es){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/es/google-dd635f2d.png)}.iOS>.appButtons__link:lang(es){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/es/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(es){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/es/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(es){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/es/amazon-dd635f2d.png)}.android>.appButtons__link:lang(fr){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/fr/google-dd635f2d.png)}.iOS>.appButtons__link:lang(fr){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/fr/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(fr){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/fr/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(fr){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/fr/amazon-dd635f2d.png)}.android>.appButtons__link:lang(id){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/id/google-dd635f2d.png)}.iOS>.appButtons__link:lang(id){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/id/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(id){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/id/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(id){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/id/amazon-dd635f2d.png)}.android>.appButtons__link:lang(it){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/it/google-dd635f2d.png)}.iOS>.appButtons__link:lang(it){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/it/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(it){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/it/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(it){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/it/amazon-dd635f2d.png)}.android>.appButtons__link:lang(ja){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ja/google-dd635f2d.png)}.iOS>.appButtons__link:lang(ja){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ja/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(ja){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ja/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(ja){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ja/amazon-dd635f2d.png)}.android>.appButtons__link:lang(ko){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ko/google-dd635f2d.png)}.iOS>.appButtons__link:lang(ko){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ko/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(ko){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ko/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(ko){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ko/amazon-dd635f2d.png)}.android>.appButtons__link:lang(nl){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/nl/google-dd635f2d.png)}.iOS>.appButtons__link:lang(nl){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/nl/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(nl){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/nl/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(nl){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/nl/amazon-dd635f2d.png)}.android>.appButtons__link:lang(pt_BR){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/pt_BR/google-a0cfe29e.png)}.iOS>.appButtons__link:lang(pt_BR){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/pt_BR/apple-a0cfe29e.png)}.blackberry>.appButtons__link:lang(pt_BR){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/pt_BR/blackberry-a0cfe29e.png)}.amazon>.appButtons__link:lang(pt_BR){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/pt_BR/amazon-a0cfe29e.png)}.android>.appButtons__link:lang(ru){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ru/google-dd635f2d.png)}.iOS>.appButtons__link:lang(ru){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ru/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(ru){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ru/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(ru){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/ru/amazon-dd635f2d.png)}.android>.appButtons__link:lang(th){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/th/google-dd635f2d.png)}.iOS>.appButtons__link:lang(th){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/th/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(th){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/th/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(th){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/th/amazon-dd635f2d.png)}.android>.appButtons__link:lang(zh){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/zh/google-dd635f2d.png)}.iOS>.appButtons__link:lang(zh){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/zh/apple-dd635f2d.png)}.blackberry>.appButtons__link:lang(zh){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/zh/blackberry-dd635f2d.png)}.amazon>.appButtons__link:lang(zh){background-image:url(https://m.soundcloud.com/assets/images/ldpi/appstores/zh/amazon-dd635f2d.png)}")),data=null}),
define("views/locale-selector/locale-selector-content",["require","exports","module","config","lib/event-bus","lib/view","lib/i18n-locale-switcher","views/locale-selector/locale-selector-content.css","views/locale-selector/locale-selector-content.tmpl"],function(e,t,n){function a(){i.trigger("locale-selector:cancel")}var r=e("config"),i=e("lib/event-bus"),s=e("lib/view"),o=e("lib/i18n-locale-switcher"),u=n.exports=s.extend({className:"localeSelectorContent",css:e("views/locale-selector/locale-selector-content.css"),template:e("views/locale-selector/locale-selector-content.tmpl"),events:{"click .localeSelector__cancel":a},renderDecorate:function(){i.trigger("locale-selector:toggle"),this.whenInserted().done(function(){o.init({selector:".localeSelectorContent__wrapper",host:r.get("v2_host")})})}})}),
define("lib/helpers/lang-helper",["require","exports","module"],function(e,t,n){var r=n.exports={plural:function(e,t,n){return n=typeof n=="string"?n:t+"s",e===1?t:n},possessive:function(e,t){return e+"â€™s"+(t?" "+t:"")}}}),
define("lib/views/list",["require","exports","module","$","underscore","vendor/handlebars-runtime","lib/helpers/map-to-html-attrs-helper","lib/view"],function(e,t,n){function f(){var e=i.pluck(this.subviews,"model");return this.collection.find(function(t){return e.indexOf(this.getSubviewModel(t))===-1},this)}function l(){return this.getDesiredNumItems()}function c(){var e=l.call(this),t,n;if(!e)return;t=this.getLength();while(t-->e)n=this.getListItemView(this.collection.at(e)),n&&(this.removeListItemFromDOM(n,{index:e}),this.removeSubview(n))}function h(){return this.hasData()&&this.collection&&this.collection.length===0&&this.collection.isFullyPopulated()}function p(e){return function(t){return t instanceof e}}var r=e("$"),i=e("underscore"),s=e("vendor/handlebars-runtime"),o=e("lib/helpers/map-to-html-attrs-helper"),u=e("lib/view"),a=n.exports=u.extend({emptyTemplate:null,defaults:{minDisplay:0,maxDisplay:3},Subview:null,subviewArgs:{},listTagName:"ul",listClassName:"sc-list-nostyle sc-clearfix",itemTagName:"li",itemClassName:"",template:function(){return""},_isShowingEmpty:!1,_listElement:null,_desiredLength:null,_setup:function(e){u.prototype._setup.call(this,e),this._desiredLength=Math.max(e.minDisplay,e.maxDisplay)||Infinity},renderDecorate:function(){this.createListElement()&&this.syncItems()},createListElement:function(){var e=this.getListContainer(),t;return e.length&&!this._listElement&&(t=window.document.createElement(this.listTagName),this.listClassName&&(t.className=this.listClassName),e.append(t),this.resetElementCache(),this._listElement=r(t)),this._listElement},syncItems:function(){var e,t=this.getModelsToRender(),n=this.getLength(),r=Math.min(l.call(this),t.length);if(n<r)for(e=n;e<r;++e)this.createAndInsertListItemView(t[e],-1);else n>r&&c.call(this)},getDesiredNumItems:function(){return this._desiredLength},getLength:function(){return this.getListItemViews().length},setDisplayedItems:function(e){e=Math.min(e,this.options.maxDisplay||Infinity),e!==this._desiredLength&&(this._desiredLength=e,this.syncItems())},_teardown:function(){this._listElement&&(this._listElement.remove(),this._listElement=null),u.prototype._teardown.call(this)},getModelsToRender:function(){return this.collection.models},createAndInsertListItemView:function(e,t){var n=this.addListItemSubview(e);n.render(),this.addListItemToDOM(n,i.isNumber(t)?t:-1),c.call(this)},getTemplate:function(e){var t=this.emptyTemplate;return t&&h.call(this)?t:u.prototype.getTemplate.apply(this,arguments)},getListContainer:function(){return this.$el},getListElement:function(){return this._listElement||r()},getListItemView:function(e){var t=this.getSubviewModel(e);return i.find(this.subviews,function(e){return e.model===t})},getListItemViews:function(){return this.subviews.filter(p(this.Subview))},getSubviewArgs:function(e){return i.defaults({resource_id:e.resource_id,resource_type:e.resource_type},this.subviewArgs)},getSubviewModel:i.identity,getListItemAttributesData:function(e){return e.model?e.model.toJSON():{}},getListItemAttributes:function(){return{}},getListItemAttributesString:function(e){var t=this.getListItemAttributes(e);return new s.SafeString(o(t))},onAdd:function(e,t,n){if(this.disposed)return;var r=t.indexOf(e),i=l.call(this),s=r>=0&&r<i||r<0&&this.collection.length<=i;s&&this.createAndInsertListItemView(e,r)},onRemove:function(e,t,n){var r=this.getListItemView(e);r&&(this.removeSubview(r),this.removeListItemFromDOM(r,n.index))},onCollectionChange:function(e,t){var n=h.call(this);u.prototype.onCollectionChange.apply(this,arguments),this._isShowingEmpty!==n&&this.rerender(),this._isShowingEmpty=n},addListItemSubview:function(e){var t=this.getSubviewArgs(this.getSubviewModel(e));return this.addSubview(new this.Subview(t))},createSubviewWrapper:function(e){var t=this.getListItemAttributesString(this.getListItemAttributesData(e)),n;return t=t.toString().length?" "+t:"",n=r("<"+this.itemTagName+' class="'+this.itemClassName+'"'+t+">"),n},getSubviewWrapper:function(e){return e.$el.parent()},addListItemToDOM:function(e,t){var n=this.getListElement(),r=this.getSubviewWrapper(e),i,s;r.length||(r=this.createSubviewWrapper(e),r.append(e.el)),t===-1||t>=this.getLength()-1||t===undefined?n.append(r):t===0?n.prepend(r):(s=this.getListItemView(this.collection.at(t-1)),s&&(i=this.getSubviewWrapper(s),r.insertAfter(i))),this.resetElementCache()},removeListItemFromDOM:function(e){var t,n=this.getSubviewWrapper(e),r=this.options.maxDisplay;t=function(){var t,i,s,o=-1;n.detach(),e._dispose(),s=!this.disposed&&r&&r<=this.collection.length&&this.getLength()<r,s&&(i=f.call(this),t=this.addListItemSubview(i),t.render(),this.addListItemToDOM(t,o))}.bind(this),t(),this.resetElementCache()},appendDOMElement:function(e){var t=this.getListContainer();t&&t.append(e),this.resetElementCache()},getCollectionData:function(){return[]}})}),
define("views/search/query-suggestion",["require","exports","module","lib/event-bus","models/query-suggestion","lib/helpers/search-helper","vendor/usertext/usertext","lib/view","views/search/query-suggestion.css","views/search/query-suggestion.tmpl"],function(e,t,n){function f(){var e=this.options;r.trigger("suggestion-item:click",{queryUrn:e.queryUrn,queryPosition:e.queryPosition})}var r=e("lib/event-bus"),i=e("models/query-suggestion"),s=e("lib/helpers/search-helper"),o=e("vendor/usertext/usertext"),u=e("lib/view"),a=n.exports=u.extend({css:e("views/search/query-suggestion.css"),template:e("views/search/query-suggestion.tmpl"),className:"querySuggestion sc-media g-font-16",ModelClass:i,requiredAttributes:["output"],events:{click:f},defaults:{queryUrn:null,queryPosition:null},getTemplateData:function(e){var t=s.highlightText(e.output,e.highlights);return e.output=o(t,{paragraphs:!1,links:!1,userlinks:!1,whitelist:["b"]}),e}})}),
define("collections/search-queries",["require","exports","module","lib/collection","models/query-suggestion"],function(e,t,n){var r=e("lib/collection"),i=e("models/query-suggestion"),s=n.exports=r.extend({model:i,queryUrn:null,defaults:{limit:10,query:null},baseUrl:function(){return this.getEndpointUrl("searchQueries",null,{q:this.options.query,limit:this.options.limit})},parse:function(e){return this.queryUrn=e.query_urn,r.prototype.parse.call(this,e)}},{hashFn:function(e,t){return t.query}})}),
define("views/search/suggestions-list-empty.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<h1 class="search__noresult search__banner g-font-20">'+o(n.$t.call(t,"Sorry, nothing matches your search.",{hash:{},data:i}))+"</h1>\n",s})}),
define("views/search/suggestions-list.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".suggestionsList{height:100%;color:#333;background-color:#fff;border-top:1px solid #f7f7f7}")),data=null}),
define("views/search/search.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".search{background:#fff}.search__banner{padding-top:140px;color:#666;text-align:center;margin:0 40px;background-position:50% 60px;background-repeat:no-repeat;background-size:48px 48px}.search__blank{background-image:url(https://m.soundcloud.com/assets/images/ldpi/search/search_blank-bd02f9a1.png);padding-bottom:100%}")),data=null}),
define("lib/i18n-locale-switcher",["require","exports","module"],function(e,t,n){function s(e){var t=e.data[0],n=e.data[1];if(!/https?:\/\/(.+\.|)soundcloud\.(com|dev\:[0-9]{4})/.test(e.origin))return!1;switch(t){case"i18n-locale:rendered":return o(n);case"i18n-locale:set-locale-always":return i.onLocaleChange()}}function o(e){r.style.width=e.width,r.style.height=e.height}var r,i=n.exports={init:function(e){if(!e||!e.selector||!e.host)throw new Error("i18n locale iframe: Missing parameter(s)");r=window.document.createElement("iframe"),r.src=e.host+"/i18n-locale-switcher.html",r.frameBorder=0,r.style.border="none",r.style.backgroundColor="transparent",window.addEventListener("message",s),window.document.querySelector(e.selector).appendChild(r)},onLocaleChange:function(){window.location.reload()}}}),
define("views/locale-selector/locale-selector-content.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".localeSelectorContent{background:#fff;height:100%;box-shadow:inset 0 0 5px -2px #000;position:relative}.localeSelectorContent__wrapper{padding:25px 25px 15px;height:96%}.localeSelectorContent__title{text-transform:uppercase;font-size:12px;color:#999;padding:0 0 10px 15px;border-bottom:1px solid #e5e5e5}.localeSelector__cancel{position:absolute;top:-35px;left:2px;color:#b3b3b3}")),data=null}),
define("views/locale-selector/locale-selector-content.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<button class="localeSelector__cancel g-button g-button-nostyle g-touch-padding" tabindex="0" title="'+o(n.$t.call(t,"Cancel",{hash:{},data:i}))+'">'+o(n.$t.call(t,"Cancel",{hash:{},data:i}))+'</button>\n<div class="localeSelectorContent__wrapper g-native-scroll"> <h2 class="localeSelectorContent__title g-modal-title-h1">'+o(n.$t.call(t,"Select your language",{hash:{},data:i}))+"</h2>\n</div> ",s})}),
define("lib/helpers/map-to-html-attrs-helper",["require","exports","module","underscore"],function(e,t,n){var r=e("underscore"),i=n.exports=function(e){var t=[],n,i;return r.each(e,function(e,s){n=s+'="',i=[],r.isObject(e)?r.each(e,function(e,t){i.push(t+":"+e)}):i.push(e),t.push(n+i.join(";")+'"')}),t.join(" ")}}),
define("models/query-suggestion",["require","exports","module","lib/model"],function(e,t,n){var r=e("lib/model"),i=n.exports=r.extend({})}),
define("lib/helpers/search-helper",["require","exports","module","underscore"],function(e,t,n){var r=e("underscore"),i=["q","q[fulltext]","filter.duration","filter.created_at","filter.license","filter.genre","filter.genre_or_tag","filter.place"],s=n.exports={getValidParams:function(e){return r.pick(e,i)},highlightText:function(e,t,n){if(!t||!t.length||t.length===1&&t[0].start===t[0].end)return e;var i=r.extend({start:"<b>",end:"</b>"},n),s=e.split(""),o;for(o=t.length;o--;)s.splice(t[o].end,0,i.end),s.splice(t[o].start,0,i.start);return s.join("")}}}),
define("vendor/usertext/usertext",["require","exports","module"],function(e,t,n){(function(){var e,t,r,i,s,o,u,a,f=/\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)[^\s'â€™"]*[^\s`!()\[\]{};:'".,<>?Â«Â»â€œâ€â€˜â€™])/ig,l=/(\b(?:[0-5]?[0-9])(?::[0-5][0-9]){1,2}\b)/g,c=/([a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,6})/gi,h=/(\s|[^\w]|^)@([\w\-]+)/g,p=/( |^)(#([\w-]+))/gm,d=/\{\{\b((?:https?:\/\/|www\d{0,3}\.|(?:[a-z0-9\-]+\.)+[a-z]{2,4}\/)\S*[^\s`!()\[\]{};:'".,<>?Â«Â»â€œâ€â€˜â€™])\}\}/ig,v=/\{\{(?:mailto:)?([a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,6})\}\}/gi,m=/\{\{@([\w\-]+)\}\}/gi,g=/^((?:https?:\/\/)?(?:www\.|m\.)?soundcloud\.(?:com|dev))\/?/i,y=/^(?:ht|f)tps?:\/\//i,b=/(?:[ \t]*\r?\n[ \t]*){2,}/,w=/[ \t][ \t]+/g;t={paragraphs:!0,links:!0,externalLinks:!0,internalLinks:!0,userLinks:!0,deepLinks:!1,whitelist:["b","i","em"],internalLinksBaseUrl:"/",isOpeningNewWindow:!1,maxLength:null,truncateExternalLinks:!0,maxExternalLinksLength:50,hashtagLinks:!0},r=function(e){var t,n,r,i,s,o;s=[].slice.call(arguments,1);for(t=0,n=s.length;t<n;++t){i=s[t];for(o in i)i[o]!==r&&(e[o]=i[o])}return e},i=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},s=function(e){return e.textContent||e.innerText||""},a=function E(e,t){t(e),e=e.firstChild;while(e)E(e,t),e=e.nextSibling},o=function(e,t){if(e.length<t)return e;var n=document.createElement("div"),r=document.createElement("div"),i,s;return i=function(e){if(t>0){var n=e.data.length;t-=n,t<=0&&(e.data=e.substringData(0,e.data.length+t))}else e.data=""},s=function(e,n){var r=e.firstChild,i;if(r)do r.nodeType===3?n(r):r.nodeType===1&&s(r,n);while((r=r.nextSibling)&&t>0);while(r)i=r,r=r.nextSibling,e.removeChild(i)},r.innerHTML=n.innerHTML=e,s(n,i),n.innerHTML+(n.innerHTML===r.innerHTML?"":"&hellip;")},u=function(e,t,n){e=n?e:e.replace(y,"");var r,i,s=/\.[a-z]{2,4}\//,o=e.match(s);return o&&o[0]&&e.length>t?(r=e.search(s)+o[0].length,i=Math.floor((t-r)/2),e.slice(0,r+i)+"&hellip;"+e.slice(-i)):e},e=function(e,n){var s=r({},t,n),E,S,x=s.whitelist&&s.whitelist.slice(),T=document.createElement("div");if(typeof e!="string")return"";s.links?!s.userLinks&&!s.internalLinks&&!s.externalLinks?s.links=!1:x.push("a"):s.userLinks=s.internalLinks=s.externalLinks=!1,f.lastIndex=h.lastIndex=c.lastIndex=0,e=e.replace(/<\/p>/g,"\n\n").replace(/<br\s*\/?>/g,"\n").replace(w," "),x&&x.length?e=e.replace(new RegExp("<(?!\\s*\\/?("+x.join("|")+")\\b)[^>]*>","ig"),""):e=e.replace(/<.*?>/g,""),T.innerHTML=e,s.links&&a(T,function(e){e.nodeType===3?e.parentNode.nodeName.toLowerCase()!=="a"&&(e.nodeValue=e.nodeValue.replace(f,"{{$1}}").replace(c,"{{mailto:$1}}").replace(h,"$1{{@$2}}")):e.nodeName==="A"&&(g.test(e.href)&&(e.href=e.href.replace(g,s.internalLinksBaseUrl),e.removeAttribute("target")),e.children.length||(e.innerHTML=u(e.innerHTML,s.maxExternalLinksLength,!0)))}),e=T.innerHTML,s.links&&(e=e.replace(d,function(e,t){return s.internalLinks&&g.test(t)?'<a href="'+t.replace(g,s.internalLinksBaseUrl)+'">'+t.replace(y,"")+"</a>":s.externalLinks?'<a href="'+(y.test(t)?t:"http://"+t)+'" rel="nofollow" target="_blank">'+u(t,s.maxExternalLinksLength)+"</a>":t}).replace(v,'<a href="mailto:$1">$1</a>').replace(m,'@<a href="'+s.internalLinksBaseUrl+'$1"'+(s.isOpeningNewWindow?' target="_blank"':"")+">$1</a>"),s.hashtagLinks&&(e=e.replace(p,'$1<a href="/tags/$3">$2</a>')),s.deepLinks&&(e=e.replace(l,'<a href="#t=$1">$1</a>'))),s.maxLength&&(e=o(e,s.maxLength));if(s.paragraphs){e=e.split(b);for(E=0,S=e.length;E<S;E++)e[E]=i(e[E]),e[E]=e[E].replace(/\r?\n/g,"<br>"),e[E]="<p>"+e[E]+"</p>";e=e.join("")}else e=e.replace(/[\r\n]+/g," ").replace(w," ");return e},e.withDefaults=function(n){var i=r({},t,n);return function(t,n){var s=n?r({},i,n):i;return e.call(this,t,s)}},typeof n!="undefined"&&n.exports?n.exports=e:(global=function(){return this}(),global.SC=global.SC||{},global.SC.usertext=e)})()}),
define("views/search/query-suggestion.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".querySuggestion{display:block;height:50px}.querySuggestion__result,.querySuggestion__link{height:50px;display:block}.querySuggestion__link{padding:0 16px;color:#333}.querySuggestion__result{line-height:50px;border-bottom:1px solid #d6d6d6;padding:0 0 0 32px;background:url(https://m.soundcloud.com/assets/images/ldpi/search/search_input-bd02f9a1.png) 0 14px no-repeat;background-size:18px 18px}.querySuggestion__link:active{background:#f2f2f2}")),data=null}),
define("views/search/query-suggestion.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;s+='<a class="querySuggestion__link '+a((o=t&&t.className,typeof o===u?o.apply(t):o))+'" href="'+a(n.$route.call(t,"search",t&&t.null,t&&t.query,{hash:{},data:i}))+'"> <span class="querySuggestion__result">',o=(o=t&&t.output,typeof o===u?o.apply(t):o);if(o||o===0)s+=o;return s+="</span>\n</a>\n",s})}),
define("layouts/listen",["require","exports","module","config","config/error-messages","models/exception","lib/layout","lib/futures","lib/lingua","models/playlist","models/sound","lib/url","lib/layouts/fullheight.tmpl","layouts/blocked-listen.tmpl","lib/layouts/fullheight.css","layouts/blocked-listen.css"],function(e,t,n){function m(e,t,n){var r=u.defer();return l.resolve(e,t,n).done(r.resolve).fail(s.ajaxFatal(i.SOUND_NOT_FOUND)),r}function g(e){var t=u.defer(),n,i;return n=r.get("router").getRouteInfo("playlist"),i=n.route.exec(e),i?(i.shift(),n.handler.apply({apply:function(e,n){f.resolve(n.userPermalink,n.playlistPermalink,n.secretToken).done(t.resolve).fail(function(){t.resolve(null)})}},i)):t.resolve(null),t}function y(e,t){if(t){var n=t.findSound(e);n&&n.set(e.attributes,{silent:!0}),e=n||e}return this.setTitle(a.t("[[soundTitle]] by [[authorName]]",{soundTitle:e.get("title"),authorName:e.get("user").username})),e.isBlocked()?(this.switchLayout(d),this.setViews({"l-main":["views/listen/blocked",{resource_id:e.resource_id}]})):(this.switchLayout(p),this.setViews({"l-main":["views/listen/listen-carousel",{resource_id:e.resource_id}],"l-footnote":["views/sound/sound-controls"]}))}var r=e("config"),i=e("config/error-messages"),s=e("models/exception"),o=e("lib/layout"),u=e("lib/futures"),a=e("lib/lingua"),f=e("models/playlist"),l=e("models/sound"),c=e("lib/url"),h=a.t("Enjoy the full SoundCloud experience with our free app."),p={template:e("lib/layouts/fullheight.tmpl"),includeFooter:".l-footnote"},d={template:e("layouts/blocked-listen.tmpl"),includeFooter:".l-footnote"},v=n.exports=o.extend({css:[e("lib/layouts/fullheight.css"),e("layouts/blocked-listen.css")],setup:function(e){var t=u.defer(),n,r=[];return r.push(m(e.userPermalink,e.soundPermalink,e.secretToken)),n=c.getQueryParam("in"),n&&r.push(g(n)),this.pageUrn="",u.all(r).then(function(e,t){return this.pageUrn=e.getUrn(),y.call(this,e,t)}.bind(this)).then(t.resolve),t},includeFooter:".l-footnote",getPageUrn:function(){return this.pageUrn},getUpsellText:function(){return h}})}),
define("config/error-messages",["require","exports","module","lib/lingua"],function(e,t,n){var r=e("lib/lingua"),i=n.exports={UNKNOWN:{title:r.t("Something doesnâ€™t sound right."),message:r.t("Refresh the page to try again.")},PAGE_NOT_FOUND:{title:r.t("We canâ€™t find this page.")},SOUND_NOT_FOUND:{title:r.t("We canâ€™t find this sound.")},PLAYLIST_NOT_FOUND:{title:r.t("We canâ€™t find this playlist.")},USER_NOT_FOUND:{title:r.t("We canâ€™t find this user.")}}}),
define("models/exception",["require","exports","module","underscore","lib/event-bus","lib/model"],function(e,t,n){var r=e("underscore"),i=e("lib/event-bus"),s=e("lib/model"),o=n.exports=s.extend({url:null,lastFetchTime:1,initialize:function(e){e=e||{},this.id||(e.id=this.id=this.cid,o.instances.set(this.id,this)),this.fatal=!!e.fatal,s.prototype.initialize.apply(this,arguments)}},{raise:function(e,t){var n=new o(e);n.release(),t=t||{};if(t.hard)throw n;i.trigger("exception",n)},ajaxFatal:function(e){return function(t,n){n!=="abort"&&o.raise(r.extend(e,{xhr:t,fatal:!0}))}},ajaxNonFatal:function(e){return function(t,n){n!=="abort"&&o.raise({message:e,xhr:t,fatal:!1})}}})}),
define("models/playlist",["require","exports","module","$","underscore","models/audible-interface","lib/backbone","lib/event-bus","lib/model","models/sound","lib/errors/unauthorized-viewer","models/user","lib/mixins/urn"],function(e,t,n){function v(e,t){var n=e[t?"on":"off"].bind(e);n("play",m,this),n("pause",g,this),n("finish",y,this),n("time",b,this),n("seeked",w,this),n("buffering:start",E,this),n("buffering:end",S,this)}function m(e){this._internalNavigation||(x.call(this,e,"play"),this._internalNavigation=!0)}function g(e){this._internalNavigation||(x.call(this,e,"pause"),this._internalNavigation=!0)}function y(e){e.sound===this.soundsCollection.last()&&(x.call(this,e,"pause"),x.call(this,e,"finish"))}function b(e){x.call(this,e,"time")}function w(e){x.call(this,e,"seeked")}function E(e){x.call(this,e,"buffering:start")}function S(e){x.call(this,e,"buffering:end")}function x(e,t){e.playlist=this,this.trigger(t,e),u.trigger("audio:"+t,e)}function T(){var e=[];i.each(this.get("tracks"),function(t){var n,r,s;this.containsSound(t.id)||(s=new f(t),this.addSubmodel(s),r=i.extend({},t,{resource_id:{playlist_id:this.id,sound_id:t.id}}),n=new f(r,{suppressGlobalEvents:!0}),n.playlist=this,n.originalSound=s,e.push(n),v.call(this,n,!0))},this),this.soundsCollection.length===0?this.soundsCollection.reset(e):this.soundsCollection.add(e,{silent:!0})}function N(e,t){var n=e.soundsCollection,r=n.get(t);if(r){var i=n.indexOf(r),s=e.get("tracks").slice();return r.isPlaying()&&r.pause(),s.splice(i,1),n.remove(r),e.set("tracks",s),r.playlist=null,r.release(),!0}return!1}var r=e("$"),i=e("underscore"),s=e("models/audible-interface"),o=e("lib/backbone"),u=e("lib/event-bus"),a=e("lib/model"),f=e("models/sound"),l=e("lib/errors/unauthorized-viewer"),c=e("models/user"),h=e("lib/mixins/urn"),p;p=o.Collection.extend({model:f,fetch:function(){return this.playlist.fetch.apply(this.playlist,arguments)},initialize:function(e,t){this.playlist=t.playlist},hasDataForView:function(){return!!this.playlist.attributes.tracks},isFullyPopulated:function(){return!0},_usageCount:function(){return 1},hold:r.noop,release:r.noop});var d=n.exports=s.extend(h,{resource_type:"playlist",urnPrefix:"soundcloud:playlists",submodelMap:{tracks:f,user:c},soundsCollection:null,currentSoundCursor:0,_playLock:null,_internalNavigation:!1,setup:function(){s.prototype.setup.apply(this,arguments);var e=this,t=this.soundsCollection=new p(null,{playlist:e});t.on("error",function(t,n){n instanceof l&&N(e,t.id)})},baseUrl:function(){return this.getEndpointUrl("playlist",{id:this.id})},parse:function(e){return e=a.prototype.parse.apply(this,arguments),e.secret_token&&e.tracks&&e.tracks.forEach(function(t){t.sharing!=="public"&&(t.secret_token=e.secret_token)}),e.sharing==="private"&&(e.track_count=Math.max(e.track_count,e.tracks.length)),e},createSubmodel:function(e,t){t==="tracks"?T.call(this):a.prototype.createSubmodel.apply(this,arguments)},findSound:function(e){return this.findSoundById(e.id)},containsSound:function(e){return!!this.findSoundById(e)},findSoundById:function(e){return this.soundsCollection.get(e)},getSounds:function(){return this.soundsCollection.models},getNumSounds:function(){return this.soundsCollection.length},getSoundIndex:function(e){return this.soundsCollection.indexOf(e)},getPrevSound:function(){return this.soundsCollection.at(this.currentSoundCursor-1)},getCurrentSound:function(){return this.soundsCollection.at(this.currentSoundCursor)},getNextSound:function(){return this.soundsCollection.at(this.currentSoundCursor+1)},getFirstSound:function(){return this.soundsCollection.at(0)},getLastSound:function(){return this.soundsCollection.at(this.soundsCollection.length-1)},play:function(e){if(this.soundsCollection.length){this._internalNavigation=!1;var t=this.getCurrentSound();t&&t.createAudio()&&(this.playbackOptions=e||{},t.audio.enablePreloading(),t.audio.play())}else if(!this.lastFetchTime){var n={};this._playLock=n,this.fetch().done(function(){this._playLock===n&&(this._playLock=null,this.play(e))}.bind(this))}},pause:function(e){this._playLock=null;if(this.soundsCollection&&this.soundsCollection.length){this._internalNavigation=!1;var t=this.getCurrentSound();t&&t.audio&&(this.playbackOptions=e||{},t.audio.pause())}},rewind:function(){this.currentSoundCursor=0},setCurrentSound:function(e){this.currentSoundCursor=this.getSoundIndex(e)},isPlaying:function(){return this.soundsCollection.some(function(e){return e.isPlaying()})},isPlayable:function(){return this.soundsCollection.every(function(e){return e.isPlayable()})}},{urnPrefix:"soundcloud:playlists",onCleanup:function(e){e.soundsCollection.each(function(e){e.playlist=null,e.release()}),e.soundsCollection.off(),delete e.soundsCollection,s.onCleanup(e)},resolve:function(e,t,n){return a._resolve(this,[e,"sets",t,n],function(n){var r=n.get("user");return r&&n.get("permalink")===t&&r.permalink===e})}})}),
define("layouts/blocked-listen.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="l-blockedListen"> <div class="l-main"> </div> <div class="l-footnote"> </div>\n</div>\n'})}),
define("layouts/blocked-listen.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".l-blockedListen{background-color:#f2f2f2}")),data=null}),
define("views/listen/blocked",["require","exports","module","lib/view","views/listen/blocked.css","views/listen/blocked.tmpl"],function(e,t,n){var r=e("lib/view"),i=n.exports=r.extend({css:e("views/listen/blocked.css"),template:e("views/listen/blocked.tmpl"),className:"blockedTrack"})}),
define("views/listen/listen-carousel",["require","exports","module","underscore","$","lib/views/mixins/audible-control","config","lib/futures","lib/views/mixins/has-queue-source","lib/play-manager","router","models/sound","views/sound/sound","lib/helpers/style-helper","lib/view","lib/window-events","views/listen/listen-carousel.css","views/listen/listen-carousel.tmpl"],function(e,t,n){function b(e){var t=e?"on":"off";v[t]("resize:debounced",P,this),f[t]("change:currentSound",w,this)}function w(e){e.isGoingForward&&e.prev?E.call(this,e.current.resource_id,!0):e.isGoingForward===!1&&E.call(this,e.current.resource_id),T(this,e.current)}function E(e,t){var n=t?0:3,r=t?2:0,i=t?C:N;this.animationPromise=this.animationPromise.then(function(){if(this.disposed)return;var n=this.$("."+this.itemClassName);return x.call(this,e,r),t?k.call(this,[n[1],n[2]],"left"):k.call(this,[n[0],n[1]],"right")}.bind(this)).then(function(){if(this.disposed)return;i(this.getElement("wrapper")[0],A.call(this));var e=this.$("."+this.itemClassName);e[n].parentNode.removeChild(e[n]),L([e[1],e[2]])}.bind(this))}function S(e){var t="sound_"+e,n=this.subviews[t];return n||(n=new h({resource_id:e}),this.addSubview(n.render(),t)),n}function x(e,t){var n=S.call(this,e),r=this.$("."+this.itemClassName)[t];r&&(r.innerHTML="",r.appendChild(n.el))}function T(e,t){var n=l.getRoute("listen",t);n?o.get("router").navigate(n,{trigger:!1,replace:!0}):t.once("change:permalink",function(){!e.disposed&&f.getCurrentSound()===t&&T(e,t)})}function N(e,t){e.insertBefore(t,e.firstChild)}function C(e,t){e.appendChild(t)}function k(e,t){t=t==="left"?-this._carouselWidth:this._carouselWidth;var n="transform: translate3d("+t+"px , 0, 0);";return e.forEach(function(e){e.className+=" g-transition-translate",p(e,n)}),u.delay(m)}function L(e){var t="transform: none;";e.forEach(function(e){i(e).removeClass("g-transition-translate"),p(e,t)})}function A(){var e=document.createElement("div");return e.className=this.itemClassName,O.call(this,e,this._carouselWidth),e}function O(e,t){e.style.width=t+"px"}function M(e){this.elWidth=this.el.offsetWidth,this.$el.find(".listenCarousel__itemWrapper").each(function(t){O(t,e)})}function _(e){var t=this.getElement("wrapper")[0],n=-1*e;p(t,"transform: translate("+n+"px, 0)"),t.style.width=3*e+"px"}function D(){return this._carouselWidth=this.el.offsetWidth,this._carouselWidth}function P(){var e=D.call(this);_.call(this,e),M.call(this,e)}var r=e("underscore"),i=e("$"),s=e("lib/views/mixins/audible-control"),o=e("config"),u=e("lib/futures"),a=e("lib/views/mixins/has-queue-source"),f=e("lib/play-manager"),l=e("router"),c=e("models/sound"),h=e("views/sound/sound"),p=e("lib/helpers/style-helper"),d=e("lib/view"),v=e("lib/window-events"),m=250,g,y=n.exports=d.extend(s,a,{css:e("views/listen/listen-carousel.css"),template:e("views/listen/listen-carousel.tmpl"),className:"listenCarousel",itemClassName:"listenCarousel__itemWrapper",element2selector:{wrapper:".listenCarousel__wrapper"},states:{transitionTranslate:function(e){this.getElement("wrapper")[e?"addClass":"removeClass"]("g-transition-translate")}},ModelClass:c,getQueueSource:function(){return this.model.playlist||this.model},cursor:-1,animationPromise:null,setup:function(){this.animationPromise=u.resolve(),this.$el.one("pointerdown",g.bind(this)),b.call(this,!0)},dispose:function(){b.call(this,!1)},renderDecorate:function(){this.whenInserted().done(function(){P.call(this),x.call(this,this.model.resource_id,1)}.bind(this))},teardown:function(){clearTimeout(this._fetchNeighborSoundsId)}});g=r.once(function(){var e=this.getQueueSource();e&&!e.isPlaying()&&this.playAudible(e,{userInitiated:!0})})}),
define("views/sound/sound-controls",["require","exports","module","underscore","lib/event-bus","lib/views/mixins/fetch-experiments","lib/native-links","lib/helpers/open-app-store-helper","lib/play-manager","lib/view","views/sound/sound-controls.css","views/sound/sound-controls.tmpl"],function(e,t,n){function p(e){this.getState("disabled")||a[e==="prev"?"playPrev":"playNext"]({userInitiated:!0})}function d(){this.getState("disabled")||(a.toggleCurrent({userInitiated:!0}),this.experiments.get("mweb_listening","open_app_store_on_play")==="experiment_group"&&o.useDeeplinks()&&u())}function v(){var e=a.getCurrentSound(),t=!!e&&!!e.isLoading(),n=!a.hasCurrentSound(),r=n||!a.hasPrevSound(),i=n||!a.hasNextSound(),s=n||e.isBlocked();this.toggleState("loading",t).toggleState("prevDisabled",r).toggleState("nextDisabled",i).toggleState("playDisabled",s).toggleState("disabled",n)}function m(){this.toggleState("paused",!0).toggleState("playing",!1),v.call(this)}function g(){this.toggleState("playing",!0).toggleState("paused",!1),v.call(this)}function y(){this.toggleState("initializing",!0),this.addDeferred(r.delay(function(){this.toggleState("initializing",!1),this.toggleState("initialized",!0)}.bind(this),l))}function b(){this.toggleState("scrubbing",!0)}function w(){this.toggleState("scrubbing",!1)}var r=e("underscore"),i=e("lib/event-bus"),s=e("lib/views/mixins/fetch-experiments"),o=e("lib/native-links"),u=e("lib/helpers/open-app-store-helper"),a=e("lib/play-manager"),f=e("lib/view"),l=2e3,c=250,h=n.exports=f.extend(s,{css:e("views/sound/sound-controls.css"),template:e("views/sound/sound-controls.tmpl"),className:"soundControls sc-selection-disabled",tagName:"section",events:{"click .soundControls__prev":"onClickPrev","click .soundControls__next":"onClickNext","click .soundControls__playPause":d},states:{loading:"loading",playing:"playing",paused:"paused",playDisabled:"playDisabled",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",disabled:"disabled",initializing:"initializing",initialized:"initialized"},setup:function(){this.listenTo(i,"audio:play",g).listenTo(i,"audio:pause",m).listenTo(i,"audio:buffering:start audio:buffering:end",v).listenTo(i,"scrub:start",b).listenTo(i,"scrub:end",w).listenToOnce(i,"audio:play",y)},renderDecorate:function(){var e=a.getCurrentSound();e&&e.isPlaying()&&this.toggleState("initialized",!0).toggleState("playing",!0).toggleState("paused",!1)},dispose:function(){this.stopListening()},onClickNext:r.debounce(function(){p.call(this,"next")},c,!0),onClickPrev:r.debounce(function(){p.call(this,"prev")},c,!0)})}),
define("views/listen/blocked.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".blockedTrack__sound{width:100%;height:0;padding-bottom:100%;position:relative}.blockedTrack__soundInner{position:absolute;top:0;bottom:0;left:0;right:0}.blockedTrack__suggestions{background-color:#fff}")),data=null}),
define("views/listen/blocked.tmpl",["vendor/handlebars-runtime","views/sound/sound","views/listen/blocked-suggestions"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression;return s+='<div class="blockedTrack__sound"> <div class="blockedTrack__soundInner"> '+u(n.$view.call(t,"views/sound/sound",{hash:{resource_id:(o=t&&t._options,o==null||o===!1?o:o.resource_id),resource_type:(o=t&&t._options,o==null||o===!1?o:o.resource_type)},data:i}))+' </div>\n</div>\n<div class="blockedTrack__suggestions"> '+u(n.$view.call(t,"views/listen/blocked-suggestions",{hash:{resource_id:(o=t&&t._options,o==null||o===!1?o:o.resource_id),resource_type:(o=t&&t.options,o==null||o===!1?o:o.resource_type)},data:i}))+"\n</div>\n",s})}),
define("lib/views/mixins/audible-control",["require","exports","module","underscore","lib/play-manager","lib/mixin"],function(e,t,n){function u(e,t){var n,i=r.extend(t||{},{audible:e});return this.bubble?n=this.bubble("requestPlayContext",i):n={data:i},n}var r=e("underscore"),i=e("lib/play-manager"),s=e("lib/mixin"),o=n.exports=new s({toggleAudible:function(e,t){this[e.isPlaying()?"pauseAudible":"playAudible"](e,t)},playAudible:function(e,t){i.saveLayout(),i.play(e,this.getPlayContext(e,t))},pauseAudible:function(e,t){i.pause(e,this.getPlayContext(e,t))},getPlayContext:function(e,t){var n=u.call(this,e,t);return n.data},toggleSource:function(e,t){var n=i.getCurrentSound();i.source===e&&i.sourceCursor>-1&&n&&n.isPlaying()?i.pauseCurrent(t):(i.saveLayout(),i.playSource(e,t))}})}),
define("lib/views/mixins/has-queue-source",["require","exports","module","underscore","lib/event-bus","lib/mixin","lib/play-manager","lib/url"],function(e,t,n){function f(e){var t=e?"on":"off";i[t]("audio:play",l,this)[t]("audio:pause",c,this)}function l(e){h.call(this,e.sound)}function c(e){h.call(this,e.sound)}function h(e){this.toggleState("playing",p.call(this,e))}function p(e){e=e||o.getCurrentSound();if(!e||!e.isPlaying())return!1;var t=this.getQueueSource(),n=t&&t.getSounds();return!!n&&n.indexOf(e)>-1}function d(e){var t=e.data,n=t.audible,r=this.getQueueSource();return r&&o.indexOfSoundInSource(n.getCurrentSound(),r)>-1}var r=e("underscore"),i=e("lib/event-bus"),s=e("lib/mixin"),o=e("lib/play-manager"),u=e("lib/url"),a=n.exports=new s({defaults:{getQueueSource:function(){return this.collection||this.model},getRestoreUrl:function(){return u.currentPath()}},applyTo:function(e){e.bubbleEvents=r.extend(e.bubbleEvents||{},{requestPlayContext:"onRequestPlayContext"})},onRequestPlayContext:function(e){d.call(this,e)&&(e.stopPropagation(),r.extend(e.data,{source:this.getQueueSource(),restoreUrl:this.getRestoreUrl()}))},before:{setup:function(){f.call(this,!0)},dispose:function(){f.call(this,!1)},renderDecorate:function(){var e=this.getQueueSource(),t=0;e&&o.setInitialSource(e,t,this.getRestoreUrl()),h.call(this)},teardown:function(){var e=this.getQueueSource();e&&o.unsetInitialSource(e)}}})}),
define("views/sound/sound",["require","exports","module","lib/views/mixins/audible-control","lib/helpers/count-helper","lib/helpers/client-environment-helper","lib/event-bus","vendor/experiments/experiments","lib/views/mixins/fetch-experiments","lib/views/mixins/fullscreen-loader","lib/views/fullscreen-overlay","lib/views/mixins/has-queue-source","lib/helpers/image-helper","views/interstitials/like-app-upsell-content","lib/lingua","lib/native-links","lib/helpers/open-app-store-helper","lib/play-manager","models/sound","lib/views/mixins/swipeable","lib/tracking/tracking-core","lib/view","views/sound/sound.css","views/sound/sound.tmpl"],function(e,t,n){function x(){this.model.get("playable")||this.getElement("info").addClass("disabled"),this.toggleState("blocked",this.model.isBlocked())}function T(){w.action("navigate","user")}function N(){this.toggleAudible(this.model,{userInitiated:!0,context:this.getContextData()}),this.experiments.get("mweb_listening","open_app_store_on_play")==="experiment_group"&&v.useDeeplinks()&&m()}function C(e){e.originalEvent.stopPropagation()}function k(e){w.action("submit","like"),v.useDeeplinks()&&(this.subviews.likeAppUpsellModal||this.addSubview(new l({style:"dark",showHeader:!0,closeBehavior:"background",trackingIdentifier:"get_the_app::like",Subview:p}),"likeAppUpsellModal"),this.subviews.likeAppUpsellModal.open())}function L(){this.toggleState("paused",!0),this.toggleState("playing",!1)}function A(){this.toggleState("paused",!1),this.toggleState("playing",!0)}function O(){this.getState("paused")||(this._wasPaused=this.getState("paused"),this.toggleState("paused",!0))}function M(){this.toggleState("paused",this._wasPaused)}var r=e("lib/views/mixins/audible-control"),i=e("lib/helpers/count-helper"),s=e("lib/helpers/client-environment-helper").device,o=e("lib/event-bus"),u=e("vendor/experiments/experiments"),a=e("lib/views/mixins/fetch-experiments"),f=e("lib/views/mixins/fullscreen-loader"),l=e("lib/views/fullscreen-overlay"),c=e("lib/views/mixins/has-queue-source"),h=e("lib/helpers/image-helper"),p=e("views/interstitials/like-app-upsell-content"),d=e("lib/lingua"),v=e("lib/native-links"),m=e("lib/helpers/open-app-store-helper"),g=e("lib/play-manager"),y=e("models/sound"),b=e("lib/views/mixins/swipeable"),w=e("lib/tracking/tracking-core"),E=e("lib/view"),S=n.exports=E.extend(a,f,r,c,b,{swipeableSelector:".sound__artwork",ModelClass:y,css:e("views/sound/sound.css"),template:e("views/sound/sound.tmpl"),className:"sound g-box-full",element2selector:{info:".sound__info",artwork:".sound__artworkImage"},requiredAttributes:["user","title"],events:{"click .sound__artwork":N,"click .sound__info":T,"click .sound__likes":k,"pointerdown .sound__artwork":C,"pointerdown .sound__likes":C},bubbleEvents:{scrubStart:O,scrubEnd:M},states:{"show-likes":"show-likes",go:"go"},_wasPaused:!1,setup:function(){this.el.className+=" "+s.brand,this.listenTo(o,"audio:pause",L).listenTo(o,"audio:play",A).model.on("change:playable",this.rerender,this),this.toggleState("go",this.model.isHighTier()),this.toggleState("show-likes",u.get("mweb_listening","like_button_upsell")==="enabled")},getTemplateData:function(e){return this.getState("show-likes")&&(e.likes_count_info={count:i.render(e.likes_count,{useSIUnits:!0}),fullMessage:d.tp("1 Like","%d Likes",e.likes_count,null,{comment:"How many times the track was Liked"})}),e.isBlocked=this.model.isBlocked(),e},dispose:function(){this.stopListening().model.off("change:playable",this.rerender,this)},renderDecorate:function(){var e=h.urlFrom(this.model.toJSON(),500),t=this.getElement("artwork")[0];h.fadeInBackground(e,t),x.call(this),this.model.playlist&&g.backfillHistoryFromPlaylist(this.model,this.model.playlist)},getQueueSource:function(){return this.model.playlist||this.model},onSwipeLeft:function(){g.playNext({userInitiated:!0})},onSwipeRight:function(){g.playPrev({userInitiated:!0})}})}),
define("lib/helpers/style-helper",["require","exports","module"],function(e,t,n){function o(e,t,n){return e.style[t]=n,!0}function u(e){return e in document.documentElement.style}var r={transform:["webkit"]},i=Object.keys(r),s=n.exports=function(e,t){t=t.replace(";","");var n=t.split(":"),s=n[0],a=n[1],f=!1;return u(s)&&(f=o(e,s,a)),!f&&i.indexOf(s)>-1&&(f=r[s].some(function(t){var n="-"+t+"-"+s;if(u(n))return o(e,n,a)})),f}}),
define("lib/window-events",["require","exports","module","$","underscore","lib/backbone","lib/support"],function(e,t,n){function l(e,t){var n=t+"d",r=e==="resize"?c(n):f.trigger.bind(f,e+":"+n);return i[t](r,a)}function c(e){var t=window.innerWidth,n=window.innerHeight,r=f.trigger.bind(f,"resize:x:"+e),i=f.trigger.bind(f,"resize:y:"+e),s=f.trigger.bind(f,"resize:"+e);return function(e){var o=window.innerWidth,u=window.innerHeight;o!==t&&r(e),u!==n&&i(e),s(e),n=u,t=o}}var r=e("$"),i=e("underscore"),s=e("lib/backbone"),o=e("lib/support"),u=o.orientationChange?"orientationchange":"resize",a=200,f=n.exports=i.extend({},s.Events);r(window).on(u,l("resize","debounce")).on(u,l("resize","throttle")).on("scroll",l("scroll","debounce")).on("scroll",l("scroll","throttle"))}),
define("views/listen/listen-carousel.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".listenCarousel{position:relative;width:100%;height:100%;overflow:hidden}.listenCarousel__wrapper{height:100%}.listenCarousel__itemWrapper{float:left;height:100%}")),data=null}),
define("views/listen/listen-carousel.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="listenCarousel__wrapper"> <div class="listenCarousel__itemWrapper"></div> <div class="listenCarousel__itemWrapper"></div> <div class="listenCarousel__itemWrapper"></div>\n</div>\n'})}),
define("lib/views/mixins/fetch-experiments",["require","exports","module","$","underscore","vendor/experiments/experiments","config/experiments","vendor/event-gateway/event-gateway","lib/mixin","lib/tracking/tracking-core","lib/url"],function(e,t,n){function v(){return h||(h=r.Deferred()),h}function m(){return c||(c=s.initialize(o).fetchAssignments().done(function(e){v().resolve(),s.setExperimentsFromQueryParams(l.getQueryParams()),u.setExperiments(e)}).fail(function(){c=null,h=null,f.whenRequestAllowed=p})),c}var r=e("$"),i=e("underscore"),s=e("vendor/experiments/experiments"),o=e("config/experiments"),u=e("vendor/event-gateway/event-gateway"),a=e("lib/mixin"),f=e("lib/tracking/tracking-core"),l=e("lib/url"),c,h,p=f.whenRequestAllowed,d=n.exports=new a({experiments:s,around:{hasData:function(e){return e.call(this)&&s.isUpToDate(s.getAssignments(),o.version)},fetchData:function(e,t){var n=[t?e.call(this,t):r.Deferred().resolve()],i=r.Deferred();return this.addDeferred(i),s.isUpToDate(s.getAssignments(),o.version)||n.push(m.call(this)),r.when(n).done(function(e){i.resolve(e)}).fail(function(){i.reject()}),i.done(this.rerender.bind(this)),i}},before:{setup:i.once(function(){s.getAssignments()||f.deferRequests(v)})}})}),
define("lib/helpers/open-app-store-helper",["require","exports","module","underscore","lib/native-links"],function(e,t,n){var r=e("underscore"),i=e("lib/native-links");n.exports=r.once(function(){window.open(i.getStoreLink(),"_blank")})}),
define("views/sound/sound-controls.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".soundControls{height:80px;position:absolute;top:50%;left:0;right:0;margin-top:-40px;-webkit-transform:translate3d(0,0,0);pointer-events:none}.soundControls__control{background-position:0 0;background-repeat:no-repeat;background-size:100% auto;position:absolute;pointer-events:auto}.soundControls__prev,.soundControls__next{background-image:url(https://m.soundcloud.com/assets/images/ldpi/player/skip_button-e03e9a61.png);width:28px;height:19px;top:30px;opacity:0;-webkit-transition:opacity 2s cubic-bezier(1,.01,.81,1);transition:opacity 2s cubic-bezier(1,.01,.81,1)}.soundControls__prev{left:17px}.soundControls__next{right:17px;-webkit-transform:scaleX(-1);-ms-transform:scaleX(-1);transform:scaleX(-1)}.soundControls.disabled .soundControls__playPause,.soundControls.playing .soundControls__playPause:active,.soundControls.loading .soundControls__playPause:active{background-color:rgba(0,0,0,.5)}.soundControls.playing .soundControls__playPause,.soundControls.loading .soundControls__playPause{background-position:0 0}.soundControls__prev:active,.soundControls__next:active{background-position:0 -19px}.soundControls.disabled .soundControls__next,.soundControls.nextDisabled .soundControls__next,.soundControls.disabled .soundControls__prev,.soundControls.prevDisabled .soundControls__prev,.soundControls.playDisabled .soundControls__playPause{display:none}.initialized .soundControls__playPause{opacity:0}.initializing .soundControls__next,.initializing .soundControls__prev,.paused .soundControls__next,.paused .soundControls__prev,.paused .soundControls__playPause{opacity:1}.paused .soundControls__next,.paused .soundControls__prev,.paused .soundControls__playPause{-webkit-transition:none;transition:none}.soundControls.scrubbing{display:none}")),data=null}),
define("views/sound/sound-controls.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o=this.escapeExpression;return s+='<a role="button" class="soundControls__control soundControls__prev g-touch-padding">'+o(n.$a11y.call(t,{hash:{screenreader:n.$t.call(t,"Previous track",{hash:{_comment:"Help text on prev button"},data:i})},data:i}))+'</a>\n<a role="button" class="g-play-button soundControls__playPause g-touch-padding">'+o(n.$a11y.call(t,{hash:{screenreader:n.$t.call(t,"Play or pause track",{hash:{_comment:"Help text on play/pause button"},data:i})},data:i}))+'</a>\n<a role="button" class="soundControls__control soundControls__next g-touch-padding">'+o(n.$a11y.call(t,{hash:{screenreader:n.$t.call(t,"Next track",{hash:{_comment:"Help text on next button"},data:i})},data:i}))+"</a>\n",s})}),
define("views/listen/blocked-suggestions",["require","exports","module","lib/helpers/charts-helper","collections/chart-tracks","collections/related-sounds","models/sound","lib/view","views/listen/blocked-suggestions.css","views/listen/blocked-suggestions.tmpl"],function(e,t,n){function c(){return this.relatedSounds.isFullyPopulated()||h.call(this)}function h(){return this.relatedSounds.length>=f}var r=e("lib/helpers/charts-helper"),i=e("collections/chart-tracks"),s=e("collections/related-sounds"),o=e("models/sound"),u=e("lib/view"),a="top",f=3,l=n.exports=u.extend({css:e("views/listen/blocked-suggestions.css"),template:e("views/listen/blocked-suggestions.tmpl"),className:"blockedSuggestions",ModelClass:o,requiredAttributes:["genre"],setup:function(e){this.relatedSounds=new s(null,{resource_id:e.resource_id,resource_type:e.resource_type}),this.setupCollectionListeners(this.relatedSounds)},dispose:function(){this.teardownCollectionListeners(this.relatedSounds),this.relatedSounds.release()},hasData:function(){return u.prototype.hasData.apply(this,arguments)&&c.call(this)},getTemplateData:function(e){var t=e.useFallback=!h.call(this),n=this.options.resource_id,o=r.userGenreToChartGenre(e.genre).id;return t?(e.tagline=r.taglines(a,o).short,e.getSuggestionsCollection=function(){return new i(null,{genre:o,chartKind:a})}):e.getSuggestionsCollection=function(){return new s(null,{resource_id:n})},e},fetchData:function(){return c.call(this)?u.prototype.fetchData.apply(this,arguments):this.relatedSounds.bulkFetch(f)}})}),
define("lib/views/mixins/fullscreen-loader",["require","exports","module","lib/views/loading","lib/mixin"],function(e,t,n){var r=e("lib/views/loading"),i=e("lib/mixin"),s=n.exports=new i({override:{LoadingView:r,loadingViewArgs:function(){return{size:"fullscreen"}}}})}),
define("views/interstitials/like-app-upsell-content",["require","exports","module","lib/helpers/client-environment-helper","lib/lingua","lib/view","views/interstitials/like-app-upsell-content.tmpl","views/interstitials/like-app-upsell-content.css"],function(e,t,n){function u(e){this.bubble("closeButton:click")}function a(e){e.stopPropagation()}var r=e("lib/helpers/client-environment-helper").device,i=e("lib/lingua"),s=e("lib/view"),o=n.exports=s.extend({template:e("views/interstitials/like-app-upsell-content.tmpl"),css:e("views/interstitials/like-app-upsell-content.css"),className:"likeAppUpsellContent g-align-vertical",events:{"click .likeAppUpsellContent__closeButton":u,click:a},setup:function(e){this.el.className+=" "+r.brand},getTemplateData:function(e){var t=r.iOS?i.t("Get our iPhone app to save this track to your likes, create playlists and more."):i.t("Get our Android app to save this track to your likes, create playlists and more.");return{upsellIcon:"https://m.soundcloud.com/assets/images/ldpi/interstitial/like-upsell/heart-android-280d5bc8.png",upsellHeader:i.t("Try our app.<br>It's even better"),upsellContent:t}}})}),
define("lib/views/mixins/swipeable",["require","exports","module","lib/mixin"],function(e,t,n){function s(e){var t=e.data.direction;t==="left"&&this.onSwipeLeft?this.onSwipeLeft():this.onSwipeRight&&this.onSwipeRight(),e.originalEvent.preventDefault()}var r=e("lib/mixin"),i=n.exports=new r({defaults:{swipeableSelector:null},after:{renderDecorate:function(){this.$el.on("swipe",this.swipeableSelector,s.bind(this))}}})}),
define("views/sound/sound.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".sound__info{position:absolute;z-index:1;top:20px;left:18px;right:18px}.sound__username{font-size:15px;line-height:22px}.sound__username a{color:#ccc}.sound__title{font-size:22px;line-height:1.3}.sound__controls{position:absolute;top:50%;left:0;right:0;height:80px;margin-top:-50px}.sound__infoContent{margin:0 0 4px}.sound__artwork,.sound__artworkOverlay{position:absolute;top:0;bottom:0;width:100%}.sound__artworkOverlay{height:100%;opacity:0;background:#000}.sound__playIndicator{-webkit-transform:translate3d(0,-3px,0);transform:translate3d(0,-3px,0)}.sound__likes{color:#fff;position:absolute;bottom:12px;right:20px;line-height:39px;padding:0 10px 0 5px;font-size:14px}.sound__likes:before{width:35px;height:35px;background-image:url(https://m.soundcloud.com/assets/images/ldpi/player/like_button-280d5bc8.png);background-size:35px 35px}.iOS .sound__likes{right:auto;left:20px;border-radius:4px;height:33px;line-height:33px;background:rgba(0,0,0,.3);border:1px solid transparent}.sound.iOS.blocked .sound__likes,.sound.iOS.paused .sound__likes{background:none;border-color:rgba(255,255,255);border-color:rgba(255,255,255,.2)}.iOS .sound__likes:before{width:25px;height:25px;background-size:25px 25px;margin-top:4px}.sound__blockedMessage{color:#ccc;position:absolute;text-align:center;font-size:15px;line-height:18px;width:80%;left:0;right:0;margin:0 auto;top:40%;padding:102px 18px 0;background-image:url(https://m.soundcloud.com/assets/images/ldpi/player/geoblock-5a813d34.png);background-size:68px 84px;background-position:center top;background-repeat:no-repeat}.sound.playing .sound__playIndicator{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.sound.go .sound__playIndicator{background:linear-gradient(to right,#7d01a1,#f50)}.sound__info.disabled>.sound__infoDisabled{display:block}.sound__infoDisabled{display:none;position:absolute;background:rgba(0,0,0,.2);top:0;left:0;right:0;bottom:0}.sound.blocked .sound__artworkOverlay,.sound.paused .sound__artworkOverlay{opacity:.6}.sound.paused .sound__username,.sound.blocked .sound__username,.sound.paused .sound__title,.sound.blocked .sound__title{background:none;box-shadow:none}")),data=null}),
define("views/sound/sound.tmpl",["vendor/handlebars-runtime","views/banner/banner","views/sound/waveform"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){var r="";return r+=' <div class="sound__blockedMessage"> '+u(n.$t.call(e,"Not available in<br>your country",{hash:{},data:t}))+" </div>\n",r}function c(e,t){var r="",i;r+=" ",i=n["if"].call(e,e&&e.playable,{hash:{},inverse:a.program(6,p,t),fn:a.program(4,h,t),data:t});if(i||i===0)r+=i;r+=" "+u(n.$view.call(e,"views/sound/waveform",{hash:{resource_id:e&&e._resource_id,resource_type:e&&e._resource_type},data:t}))+" ",i=n["if"].call(e,e&&e.likes_count_info,{hash:{},inverse:a.noop,fn:a.program(9,v,t),data:t});if(i||i===0)r+=i;return r+="\n",r}function h(e,t){var r="";return r+=" "+u(n.$view.call(e,"views/banner/banner",{hash:{},data:t}))+" ",r}function p(e,t){var r="",i;r+=" ",i=n.$view.call(e,"views/banner/banner",{hash:{},inverse:a.noop,fn:a.program(7,d,t),data:t});if(i||i===0)r+=i;return r+=" ",r}function d(e,t){var r="";return r+=" "+u(n.$t.call(e,"Weâ€™re sorry, that track isnâ€™t available on mobile.",{hash:{},data:t}))+" ",r}function v(e,t){var r="",i;return r+=' <span class="sound__likes g-icon"> '+u(n.$a11y.call(e,{hash:{visible:(i=e&&e.likes_count_info,i==null||i===!1?i:i.count),screenreader:(i=e&&e.likes_count_info,i==null||i===!1?i:i.fullMessage)},data:t}))+" </span> ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a=this,f="function";s+='<div class="sound__playIndicator g-z-index-banner g-play-indicator"></div>\n<div class="sound__info"> <div class="sound__infoContent"> <h3 class="sound__username g-type-shrinkwrap-inline sc-truncate"> <a href="'+u(n.$route.call(t,"user",t&&t.user,{hash:{},data:i}))+'" class="g-touch-padding">'+u((o=(o=t&&t.user,o==null||o===!1?o:o.username),typeof o===f?o.apply(t):o))+'</a> </h3>\n</div> <div class="sound__infoContent"> <h2 class="sound__title g-type-shrinkwrap-inline">'+u((o=t&&t.title,typeof o===f?o.apply(t):o))+'</h2> </div>\n</div> <div class="sound__artwork"> <div class="sound__artworkOverlay"></div> <div class="sound__artworkImage sc-selection-disabled g-background-cover g-transition-fade g-transition-fade-out"></div>\n</div> ',o=n["if"].call(t,t&&t.isBlocked,{hash:{},inverse:a.program(3,c,i),fn:a.program(1,l,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}),
define("config/experiments",["require","exports","module","lib/endpoints","vendor/event-gateway/event-gateway","lib/support"],function(e,t,n){var r=e("lib/endpoints"),i=e("vendor/event-gateway/event-gateway"),s=e("lib/support"),o=n.exports={version:"23-05-2016_15:35",availableLayers:["mweb_listening"],anonymousUserId:i.getAnonymousId(),assignmentServiceUrl:r.getEndpointUrl("assignments"),localStorageKey:"MW::local::assignments",localStorageEnabled:s.localStorage}}),
define("lib/helpers/charts-helper",["require","exports","module","underscore","lib/lingua","shared/config/charts"],function(e,t,n){function u(e){return e.toLowerCase().replace(/[^a-z]/g,"").replace(/^(drumnbass|dn?b)$/,"drumbass").replace(/^(rn?b|soul)$/,"rbsoul").replace(/^(rap|hiphop)$/,"hiphoprap").replace(/^folk$/,"folksingersongwriter").replace(/^(jazz|blues)$/,"jazzblues").replace(/^(dance|edm)$/,"danceedm")}function a(e){return r.findWhere(s.genres,{id:e})}var r=e("underscore"),i=e("lib/lingua"),s=e("shared/config/charts"),o=n.exports={genreLabel:function(e){return l[e]},genres:function(e){return r.where(s.genres,{category:e})},getGenre:a,genreUrn:function(e){return"soundcloud:genres:"+e},chartKindLabel:function(e){return f[e]},chartKinds:function(){return s.kinds},userGenreToChartGenre:function(e){return e&&a(u(e))||a("all-music")},taglines:function(e,t){var n=o.genreLabel(t),r=o.getGenre(t),s=r.category,u=r.content,a=[s,e,u].join("-");switch(a){case"all-trending-music":return{"short":i.t("New &amp; hot tracks"),"long":i.t("Up-and-coming tracks on SoundCloud")};case"all-trending-audio":return{"short":i.t("New &amp; hot audio"),"long":i.t("Up-and-coming audio on SoundCloud")};case"all-top-music":return{"short":i.t("Top 50 tracks"),"long":i.t("The most played tracks on SoundCloud this week")};case"all-top-audio":return{"short":i.t("Top 50 audio"),"long":i.t("The most played audio on SoundCloud this week")};case"music-trending-music":return{"short":i.t("New &amp; hot in [[[genreLabel]]]",{genreLabel:n},{comment:"New & hot music tracks in (a genre)"}),"long":i.t("Up-and-coming tracks in [[[genreLabel]]] on SoundCloud",{genreLabel:n})};case"music-top-music":return{"short":i.t("Top 50 in [[[genreLabel]]]",{genreLabel:n},{comment:"Top 50 music tracks in (a genre)"}),"long":i.t("The most played tracks in [[[genreLabel]]] on SoundCloud this week",{genreLabel:n})};case"audio-trending-audio":return{"short":i.t("New &amp; hot in [[[genreLabel]]]",{genreLabel:n},{comment:"New & hot audio tracks in (a genre)"}),"long":i.t("Up-and-coming in [[[genreLabel]]] on SoundCloud",{genreLabel:n},{comment:"Up-and-coming audio tracks in (a genre)"})};case"audio-top-audio":return{"short":i.t("Top 50 in [[[genreLabel]]]",{genreLabel:n},{comment:"Top 50 audio tracks in (a genre)"}),"long":i.t("The most played in [[[genreLabel]]] on SoundCloud this week",{genreLabel:n},{comment:"The most played audio tracks in (a genre)"})};default:}}},f={trending:i.t("New &amp; hot"),top:i.t("Top 50")},l={"all-music":i.t("All music genres"),"all-audio":i.t("All audio genres"),alternativerock:i.t("Alternative Rock"),ambient:i.t("Ambient"),classical:i.t("Classical"),country:i.t("Country"),danceedm:i.t("Dance &amp; EDM"),dancehall:i.t("Dancehall"),deephouse:i.t("Deep House"),disco:i.t("Disco"),drumbass:i.t("Drum &amp; Bass"),dubstep:i.t("Dubstep"),electronic:i.t("Electronic"),folksingersongwriter:i.t("Folk &amp; Singer-Songwriter"),hiphoprap:i.t("Hip-hop &amp; Rap"),house:i.t("House"),indie:i.t("Indie"),jazzblues:i.t("Jazz &amp; Blues"),latin:i.t("Latin"),metal:i.t("Metal"),piano:i.t("Piano"),pop:i.t("Pop"),rbsoul:i.t("R&B &amp; Soul"),reggae:i.t("Reggae"),reggaeton:i.t("Reggaeton"),rock:i.t("Rock"),soundtrack:i.t("Soundtrack"),speech:i.t("Speech"),techno:i.t("Techno"),trance:i.t("Trance"),trap:i.t("Trap"),triphop:i.t("Triphop"),world:i.t("World"),audiobooks:i.t("Audiobooks"),business:i.t("Business"),comedy:i.t("Comedy"),entertainment:i.t("Entertainment"),learning:i.t("Learning"),newspolitics:i.t("News &amp; Politics"),religionspirituality:i.t("Religion &amp; Spirituality"),science:i.t("Science"),sports:i.t("Sports"),storytelling:i.t("Storytelling"),technology:i.t("Technology")}}),
define("collections/chart-tracks",["require","exports","module","underscore","lib/mixins/audio-source","lib/helpers/charts-helper","lib/collection","models/sound"],function(e,t,n){var r=e("underscore"),i=e("lib/mixins/audio-source"),s=e("lib/helpers/charts-helper"),o=e("lib/collection"),u=e("models/sound"),a=n.exports=o.extend(i,{model:u,baseUrl:function(){return this.getEndpointUrl("charts",{},{kind:this.options.chartKind,genre:s.genreUrn(this.options.genre)})},getSourceInfo:function(){return{type:"charts"}},getSounds:function(){return this.models},parse:function(e){return r.pluck(e.collection,"track")}})}),
define("views/listen/blocked-suggestions.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".blockedSuggestions__section{padding:0 10px}.blockedSuggestions__heading{border-bottom:1px solid #f3f3f3;line-height:55px}")),data=null}),
define("views/listen/blocked-suggestions.tmpl",["vendor/handlebars-runtime","lib/views/sounds-list"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){var n="",r;return n+=" "+a((r=e&&e.tagline,typeof r===u?r.apply(e):r))+" ",n}function c(e,t){var r="";return r+=" "+a(n.$t.call(e,"Try playing these related tracks",{hash:{},data:t}))+" ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;s+='<div class="blockedSuggestions__section"> <div class="blockedSuggestions__heading g-font-14 sc-text sc-truncate"> ',o=n["if"].call(t,t&&t.useFallback,{hash:{},inverse:f.program(3,c,i),fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;return s+=" </div>\n</div>\n"+a(n.$view.call(t,"lib/views/sounds-list",{hash:{getCollection:t&&t.getSuggestionsCollection},data:i}))+"\n",s})}),
define("views/interstitials/like-app-upsell-content.tmpl",["vendor/handlebars-runtime","views/app-buttons/app-buttons"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a="function";s+='<button class="likeAppUpsellContent__closeButton" title="'+u(n.$t.call(t,"Close",{hash:{},data:i}))+'">'+u(n.$t.call(t,"Close",{hash:{},data:i}))+'</button> <img class="likeAppUpsellContent__image" src="'+u((o=t&&t.upsellIcon,typeof o===a?o.apply(t):o))+'" alt="'+u(n.$t.call(t,"Like",{hash:{},data:i}))+'"> <h3 class="likeAppUpsellContent__messageHeader"> ',o=(o=t&&t.upsellHeader,typeof o===a?o.apply(t):o);if(o||o===0)s+=o;return s+='\n</h3> <p class="likeAppUpsellContent__messageContent"> '+u((o=t&&t.upsellContent,typeof o===a?o.apply(t):o))+"\n</p> "+u(n.$view.call(t,"views/app-buttons/app-buttons",{hash:{},data:i}))+"\n",s})}),
define("views/interstitials/like-app-upsell-content.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".likeAppUpsellContent{background:#fff;padding:24px 24px 0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.likeAppUpsellContent__image{display:block;margin:0 auto}.likeAppUpsellContent.iOS{border-radius:6px;padding-bottom:19px;text-align:center;width:300px}.likeAppUpsellContent.iOS .likeAppUpsellContent__messageHeader{margin-top:20px;font-size:16;color:#333}.likeAppUpsellContent.iOS .likeAppUpsellContent__messageContent{margin-top:18px;font-size:14;color:#999}.likeAppUpsellContent.iOS .appButtons{margin-top:20px}.likeAppUpsellContent.android{border-radius:2px;padding-bottom:16px;text-align:left;width:280px}.likeAppUpsellContent.android .likeAppUpsellContent__messageHeader{margin-top:24px;font-size:16;color:#333}.likeAppUpsellContent.android .likeAppUpsellContent__messageContent{margin-top:20px;font-size:14;color:#999}.likeAppUpsellContent.android .appButtons{margin-top:32px}.likeAppUpsellContent__closeButton{position:absolute;top:13px;right:11px;border:0;overflow:hidden;background-color:transparent;width:11px;height:11px}.likeAppUpsellContent__closeButton:before{width:11px;height:11px;background:url(https://m.soundcloud.com/assets/images/ldpi/interstitial/dialog_close-a797f6bf.png);background-size:11px 11px;float:left;content:''}")),data=null}),
define("views/banner/banner",["require","exports","module","underscore","lib/view","views/banner/banner.css"],function(e,t,n){var r=e("underscore"),i=e("lib/view"),s=n.exports=i.extend({className:"banner g-z-index-banner",css:e("views/banner/banner.css"),template:function(){return""},defaults:{message:null},setup:function(e){this.options.message=e.message||e.blockContent,this.toggleState("disabled",!0),r.bindAll(this,"setBanner")},renderDecorate:function(){this.whenInserted().done(function(){var e=this.options;!r.isEmpty(e)&&!r.isEmpty(r.compact(r.values(e)))&&this.setBanner(e)}.bind(this))},setBanner:function(e){if(!e||!e.message)return;var t=this.el,n=e.message;n&&this.getState("disabled")?(this.toggleState("disabled",!1),t.innerHTML=e.message,t.style.top=e.position):n&&!this.getState("disabled")?t.innerHTML=e.message:this.toggleState("disabled",!0)}})}),
define("views/sound/waveform",["require","exports","module","views/sound/waveform-canvas","lib/math","models/sound","lib/helpers/style-helper","lib/view","views/sound/waveform.tmpl","views/sound/waveform.css"],function(e,t,n){function f(e){var t=e?"on":"off";this.model[t]("play pause",l,this)[t]("position",c,this)}function l(){this.toggleState("playing",this.model.isPlaying())}function c(){this._isScrubbing||h.call(this,this.model.currentTime()/this.model.duration())}function h(e){if(!this.subviews.waveformCanvasUnplayed)return;var t=this.subviews.waveformCanvasUnplayed.elWidth,n=this.model.getMediaDuration()/this.model.duration();e=i.clamp(e,0,n),o(this.getElement("waveformPlayed")[0],"transform: translateX("+(t-Math.floor(t*e))+"px)"),o(this.getElement("waveformUnplayed")[0],"transform: translateX("+ -Math.floor(t*e)+"px)")}function p(e){var t=this.subviews.waveformCanvasUnplayed.elWidth,n=this._currentSeek+e*t,r=this.model.getMediaDuration()/this.model.duration();this._currentSeek=i.clamp(n,0,r*t),this._isScrubbing&&(h.call(this,this._currentSeek/t),this.subviews.timeIndicator.manualProgress(this._currentSeek/t))}function d(){var e=this.subviews.waveformCanvasUnplayed.elWidth;this._isScrubbing=!0,this._currentSeek=this.model.currentTime()/this.model.duration()*e,this.subviews.timeIndicator.toggleScrubbing(!0),this.toggleState("scrubbing",!0)}function v(){var e=this.subviews.waveformCanvasUnplayed.elWidth;this._isScrubbing=!1,this.subviews.timeIndicator.toggleScrubbing(!1),this.toggleState("scrubbing",!1),this.model.seek(this.model.duration()*(this._currentSeek/e))}function m(e){p.call(this,e.data.delta)}var r=e("views/sound/waveform-canvas").Events,i=e("lib/math"),s=e("models/sound"),o=e("lib/helpers/style-helper"),u=e("lib/view"),a=n.exports=u.extend({template:e("views/sound/waveform.tmpl"),css:e("views/sound/waveform.css"),className:"waveform sc-selection-disabled g-opacity-transition",ModelClass:s,element2selector:{waveformPlayed:".waveform__waveformCanvasPlayed > canvas",waveformUnplayed:".waveform__waveformCanvasUnplayed > canvas"},bubbleEvents:{scrubStart:d,scrub:m,scrubEnd:v},defaults:{upperPartHeight:.7},requiredAttributes:["id","waveform_url","state"],setup:function(){this.toggleState("visual",this.options.visual),this._currentSeek=0,f.call(this,!0)},dispose:function(){f.call(this,!1)},renderDecorate:function(){this.subviews.waveformCanvasUnplayed.on(r.RENDERED,function(){this.toggleState("visible",!0),l.call(this)},this)},getTemplateData:function(e){var t=this.options;return{model:e,upperPartHeight:t.upperPartHeight,upperPartHeightPercent:t.upperPartHeight*100+"%"}}})}),
define("shared/config/charts",["require","exports","module"],function(e,t,n){n.exports={defaultKind:"top",defaultGenre:"all-music",kinds:[{id:"top",urlPart:"top"},{id:"trending",urlPart:"new"}],genres:[{id:"all-music",category:"all",content:"music"},{id:"all-audio",category:"all",content:"audio"},{id:"alternativerock",category:"music",content:"music"},{id:"ambient",category:"music",content:"music"},{id:"classical",category:"music",content:"music"},{id:"country",category:"music",content:"music"},{id:"danceedm",category:"music",content:"music"},{id:"dancehall",category:"music",content:"music"},{id:"deephouse",category:"music",content:"music"},{id:"disco",category:"music",content:"music"},{id:"drumbass",category:"music",content:"music"},{id:"dubstep",category:"music",content:"music"},{id:"electronic",category:"music",content:"music"},{id:"folksingersongwriter",category:"music",content:"music"},{id:"hiphoprap",category:"music",content:"music"},{id:"house",category:"music",content:"music"},{id:"indie",category:"music",content:"music"},{id:"jazzblues",category:"music",content:"music"},{id:"latin",category:"music",content:"music"},{id:"metal",category:"music",content:"music"},{id:"piano",category:"music",content:"music"},{id:"pop",category:"music",content:"music"},{id:"rbsoul",category:"music",content:"music"},{id:"reggae",category:"music",content:"music"},{id:"reggaeton",category:"music",content:"music"},{id:"rock",category:"music",content:"music"},{id:"soundtrack",category:"music",content:"music"},{id:"techno",category:"music",content:"music"},{id:"trance",category:"music",content:"music"},{id:"trap",category:"music",content:"music"},{id:"triphop",category:"music",content:"music"},{id:"world",category:"music",content:"music"},{id:"audiobooks",category:"audio",content:"audio"},{id:"business",category:"audio",content:"audio"},{id:"comedy",category:"audio",content:"audio"},{id:"entertainment",category:"audio",content:"audio"},{id:"learning",category:"audio",content:"audio"},{id:"newspolitics",category:"audio",content:"audio"},{id:"religionspirituality",category:"audio",content:"audio"},{id:"science",category:"audio",content:"audio"},{id:"sports",category:"audio",content:"audio"},{id:"storytelling",category:"audio",content:"audio"},{id:"technology",category:"audio",content:"audio"}]}}),
define("lib/views/sounds-list",["require","exports","module","lib/views/list","views/sound/sound-badge"],function(e,t,n){var r=e("lib/views/list"),i=e("views/sound/sound-badge"),s=n.exports=r.extend({Subview:i,defaults:{maxDisplay:3,getCollection:null},className:"g-list",itemClassName:"g-list-item",setup:function(e){this.collection=e.getCollection()}})}),
define("views/banner/banner.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".banner.disabled{display:none}.banner{position:absolute;left:0;width:100%;height:36px;line-height:36px;background:#000;background:rgba(0,0,0,.8);color:#e5e5e5;text-align:center;font-size:13px}")),data=null}),
define("views/sound/waveform-canvas",["require","exports","module","underscore","lib/views/canvas-view","vendor/color/color","config","models/sound","lib/store","lib/support"],function(e,t,n){function E(){if(this.disposed)return;if(!this.waveformData){T.call(this).done(this.renderWaveform.bind(this));return}var e=this.options;this.clearCanvas(),S({waveform:this.waveformData,duration:this.model.duration(),mediaDuration:this.model.getMediaDuration(),scaledWidth:this.elWidth,scaledHeight:this.elHeight,context:this.context,bgColor:e.bgColor,bottomBgColor:e.bottomBgColor,upperPartHeight:e.upperPartHeight,upperAlpha:e.upperAlpha,lowerAlpha:e.lowerAlpha}),this.trigger(w.Events.RENDERED)}function S(e){var t=e.waveform,n=e.scaledWidth,r=e.scaledHeight,i=e.upperPartHeight,o=e.context,u=Math.round(i*r),a=r-u,f=n/t.length,l=s(e.bgColor),c=s(e.bottomBgColor),h,p,m,b,w,E=l.rgba(e.upperAlpha),S=c.rgba(e.lowerAlpha),x=l.rgba(e.upperAlpha*y),T=l.rgba(e.lowerAlpha*y),N=Math.ceil(e.mediaDuration/e.duration*n);for(h=0;h<n;h+=g)p=Math.floor(h/f),m=t[p]/d,b=Math.round(m*u),w=Math.round((1-m)*a+u),o.fillStyle=h<N?E:x,o.fillRect(h,b,v,u-b),o.fillStyle=h<N?S:T,o.fillRect(h,u,v,w-u)}function x(e){return $.ajax({url:o.get("wisHost")+"/"+e.replace(/\.png$/,".json"),type:"GET",dataType:"json"})}function T(){var e=this.model,t=$.Deferred(),n=e.get("waveform_url"),r=n.split("/").pop(),i=n.indexOf(c)>-1?C():b.get(r);return i?t.resolve({data:i}):(t.done(function(e){b.set(e.key,e.data)}),x(r).done(function(e){t.resolve({key:r,data:e.samples.reduce(N(e.height),new l(e.samples.length))})}).fail(function(){t.resolve({key:r,data:C()})})),t.done(function(e){this.waveformData=e.data}.bind(this)),t.promise()}var r=e("underscore"),i=e("lib/views/canvas-view"),s=e("vendor/color/color"),o=e("config"),u=e("models/sound"),a=e("lib/store"),f=e("lib/support"),l=f.typedArrays?Uint8Array:Array,c="/images/player-waveform-medium.png",h=500,p=1800,d=140,v=2,m=1,g=v+m,y=.2,b=new a({maxLength:h}),w=n.exports=i.extend({className:"g-box-full waveformCanvas",defaults:{bgColor:"#333333",bottomBgColor:"#EEEEEE",lowerAlpha:1,upperAlpha:1,upperPartHeight:.61},ModelClass:u,requiredAttributes:["waveform_url"],waveformData:null,onCanvasInserted:E,onCanvasResize:E,renderWaveform:E,renderWaveformDecorate:$.noop},{Events:{RENDERED:"waveform-canvas.rendered"}}),N=r.memoize(function(e){return function(t,n,r){return t[r]=e-n,t}}),C=r.memoize(function(){var e=new l(p);for(var t=0;t<p;++t)e[t]=Math.round(Math.sin(t/p*Math.PI*10)*15+105);return e})}),
define("views/sound/waveform.tmpl",["vendor/handlebars-runtime","views/sound/waveform-canvas","views/listen/time-indicator","views/listen/scrubber"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression;return s+='<div class="waveform__layer waveform__waveformCanvases"> <div class="waveform__layer waveform__waveformCanvasPlayed"> '+u(n.$view.call(t,"views/sound/waveform-canvas",{hash:{resource_id:(o=t&&t.model,o==null||o===!1?o:o._resource_id),resource_type:(o=t&&t.model,o==null||o===!1?o:o._resource_type),key:"waveformCanvasPlayed",bgColor:"#FF6600",bottomBgColor:"#ffa366",className:"g-moving-element"},data:i}))+' </div> <div class="waveform__layer waveform__waveformCanvasUnplayed"> '+u(n.$view.call(t,"views/sound/waveform-canvas",{hash:{resource_id:(o=t&&t.model,o==null||o===!1?o:o._resource_id),resource_type:(o=t&&t.model,o==null||o===!1?o:o._resource_type),key:"waveformCanvasUnplayed",bgColor:"#FFFFFF",bottomBgColor:"#B3B3B3",className:"g-moving-element"},data:i}))+' </div>\n</div> <div class="waveform__timeIndicator"> '+u(n.$view.call(t,"views/listen/time-indicator",{hash:{resource_id:(o=t&&t.model,o==null||o===!1?o:o._resource_id),resource_type:(o=t&&t.model,o==null||o===!1?o:o._resource_type),key:"timeIndicator"},data:i}))+'\n</div> <div class="waveform__layer waveform__scrubber"> '+u(n.$view.call(t,"views/listen/scrubber",{hash:{resource_id:(o=t&&t.model,o==null||o===!1?o:o._resource_id),resource_type:(o=t&&t.model,o==null||o===!1?o:o._resource_type)},data:i}))+"\n</div> ",s})}),
define("views/sound/waveform.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".waveform{height:100%;pointer-events:none}.waveform,.waveform__layer{width:100%;position:absolute}.waveform__layer{height:87px;bottom:18%;overflow:hidden;pointer-events:auto;-ms-touch-action:none;touch-action:none}.waveform__layer .waveform__layer{bottom:0}.waveform__timeIndicator{position:absolute;bottom:18%;margin-bottom:34px;display:inline-block;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);transition:bottom .15s linear;z-index:2}.waveform:not(.playing) .waveform__timeIndicator .timeIndicator__container,.waveform.scrubbing .waveform__timeIndicator .timeIndicator__container{background:none}.waveform.scrubbing .waveform__timeIndicator{bottom:46%;transition-timing-function:cubic-bezier(.51,.37,.61,1.6);transition-duration:.25s}.waveform.scrubbing .timeIndicator__text{font-size:20px}.waveform__waveformCanvases{clip:rect(50px,auto,53px,0);-webkit-transform:scaleY(.5);transform:scaleY(.5);-webkit-transform-origin:0 54px;transform-origin:0 54px;-webkit-transition:all .2s cubic-bezier(.68,.68,.165,1);transition:all .2s cubic-bezier(.68,.68,.165,1);z-index:0}.waveform.playing .waveform__waveformCanvases{clip:rect(0,auto,87px,0);-webkit-transform:scaleY(1);transform:scaleY(1);transition:all .45s cubic-bezier(.68,.68,.165,1.45);-webkit-transition:all .45s cubic-bezier(.68,.68,.165,1.45)}.waveform__waveformCanvasPlayed,.waveform__waveformCanvasUnplayed{z-index:1}.waveform__waveformCanvasPlayed{right:50%}.waveform__waveformCanvasPlayed canvas{-webkit-transform:translateX(100%);transform:translateX(100%)}.waveform__waveformCanvasUnplayed{left:50%}.waveform__waveformCanvasUnplayed canvas{-webkit-transform:translateX(0);transform:translateX(0)}.waveform__scrubber{z-index:3}")),data=null}),
define("views/sound/sound-badge",["require","exports","module","lib/views/mixins/audible-control","config","lib/helpers/datetime-helper","lib/views/mixins/deferred-images","models/sound","lib/view","views/sound/sound-badge.css","views/sound/sound-badge.tmpl"],function(e,t,n){function l(e){var t=e?"on":"off";this.model[t]("play pause",c,this)}function c(){h.call(this)}function h(){if(this.disposed)return;this.toggleState("playing",this.model.isPlaying())}function p(e){var t=this.model;if(t.isBlocked()){e.preventDefault();return}t.isPlaying()||this.playAudible(t,{userInitiated:!0,context:this.getContextData()})}var r=e("lib/views/mixins/audible-control"),i=e("config"),s=e("lib/helpers/datetime-helper"),o=e("lib/views/mixins/deferred-images"),u=e("models/sound"),a=e("lib/view"),f=n.exports=a.extend(r,o,{css:e("views/sound/sound-badge.css"),template:e("views/sound/sound-badge.tmpl"),ModelClass:u,className:"soundBadge g-badge",requiredAttributes:["permalink_url","user","title"],events:{click:p},setup:function(){l.call(this,!0)},dispose:function(){l.call(this,!1)},renderDecorate:function(){this.toggleState("go",this.model.isHighTier()),h.call(this)},getTemplateData:function(e){var t=i.get("router").getLayoutInfo(),n=t&&t.args,r=n&&n.username;return e.timecode=s.timecode(e.duration),e.isReposted&&t.layoutName==="user-profile"&&(e.layoutUsername=r),e.isBlocked=this.model.isBlocked(),e.isSnippetized=this.model.isSnippetized(),e}})}),
define("lib/views/canvas-view",["require","exports","module","lib/helpers/client-environment-helper","lib/view","lib/window-events"],function(e,t,n){function a(){try{var e=this.el.offsetWidth,t=this.el.offsetHeight;if(this.elWidth!==e||this.elHeight!==t)f.call(this,e,t),this.onCanvasResize()}catch(n){}}function f(e,t){this.elWidth=e||this.el.offsetWidth,this.elHeight=t||this.el.offsetHeight,r.device.dpi==="hdpi"&&o!==1?(this.el.setAttribute("width",this.elWidth*o),this.el.setAttribute("height",this.elHeight*o),this.context.scale(o,o)):(this.el.setAttribute("width",this.elWidth),this.el.setAttribute("height",this.elHeight))}var r=e("lib/helpers/client-environment-helper"),i=e("lib/view"),s=e("lib/window-events"),o=r.device.devicePixelRatio/r.browser.backingStoreRatio,u=n.exports=i.extend({tagName:"canvas",className:"g-box-full",context:null,template:function(){return""},_setup:function(){this.context=this.el.getContext("2d"),s.on("resize:debounced",a,this),i.prototype._setup.apply(this,arguments)},_dispose:function(){if(this.disposed)return;s.off("resize:debounced",a,this),delete this.context,delete this.elWidth,delete this.elHeight,i.prototype._dispose.apply(this,arguments)},renderDecorate:function(){this.whenInserted().done(function(){f.call(this),this.onCanvasInserted()}.bind(this))},onCanvasInserted:$.noop,onCanvasResize:$.noop,forceResize:function(){this._onWindowResize()},clearCanvas:function(){this.context&&this.context.clearRect(0,0,this.elWidth,this.elHeight)}})}),
define("vendor/color/color",["require","exports","module"],function(e,t,n){(function(){function f(e){return e===void 0}function l(e){return parseInt(e,16)}function c(e){return parseInt(e,10)}function h(e){return e.length===1?"0"+e:""+e}function p(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function d(e){return typeof e=="string"&&e.indexOf("%")!==-1}function v(e){return o(1,u(0,e))}function m(e,t){p(e)&&(e="100%");var n=d(e);return e=o(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function g(e){return[h(s(e.r).toString(16)),h(s(e.g).toString(16)),h(s(e.b).toString(16))].join("")}function y(e){function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var t,n,r,i=m(e.h,360),s=m(e.s,100),o=m(e.l,100);if(s===0)t=n=r=o;else{var a=o<.5?o*(1+s):o+s-o*s,f=2*o-a;t=u(f,a,i+1/3),n=u(f,a,i),r=u(f,a,i-1/3)}return{r:t*255,g:n*255,b:r*255}}function b(e){var t=m(e.r,255),n=m(e.g,255),r=m(e.b,255),i=u(t,n,r),a=o(t,n,r),f,l,c=(i+a)/2;if(i===a)f=l=0;else{var h=i-a;l=c>.5?h/(2-i-a):h/(i+a);switch(i){case t:f=(n-r)/h+(n<r?6:0);break;case n:f=(r-t)/h+2;break;case r:f=(t-n)/h+4}f/=6}return{h:s(f*360),s:s(l*100),l:s(c*100)}}function w(n){n=n.replace(e,"").replace(t,"").toLowerCase();var r;return(r=a.rgb.exec(n))?{r:c(r[1]),g:c(r[2]),b:c(r[3])}:(r=a.hsl.exec(n))?{h:c(r[1]),s:c(r[2]),l:c(r[3])}:(r=a.hex6.exec(n))?{r:l(r[1]),g:l(r[2]),b:l(r[3])}:(r=a.hex3.exec(n))?{r:l(r[1]+""+r[1]),g:l(r[2]+""+r[2]),b:l(r[3]+""+r[3])}:!1}function E(e){var t=null;return typeof e=="string"&&(e=w(e)),typeof e=="object"&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?t=e:e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(t=y(e))),t}function S(e){var t=this.toHsl();return t.h+=c(e),A(t)}function x(e){var t=this.toHsl();return t.l-=c(e),u(0,t.l),A(t)}function T(e){var t=this.toHsl();return t.l+=c(e),o(100,t.l),A(t)}function N(e,t){e=e||6,t=t||30;var n=this.toHsl(),r=360/t,i=[A(n)];for(n.h=(n.h-(r*e>>1)+720)%360;--e;)n.h=(n.h+r)%360,i.push(A(n));return i}function C(e){var t=this.toRgb(),n=A(e).toRgb(),r=(t.r*299+t.g*587+t.b*114)/1e3,s=(n.r*299+n.g*587+n.b*114)/1e3,a=u(t.r,n.r)-o(t.r,n.r)+u(t.g,n.g)-o(t.g,n.g)+u(t.b,n.b)-o(t.b,n.b);return{brightness:i(r-s),color:a}}function k(e){var t=this.diff(e);return t.brightness>125&&t.color>500}function L(e,t){var n=this.diff(e||"#000"),r=this.diff(t||"#fff");return n.brightness>r.brightness&&n.color>r.color?A(e):A(t)}var e=/^[\s,#]+/,t=/\s+$/,r=Math,i=r.abs,s=r.round,o=r.min,u=r.max,a=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),hsl:new RegExp("hsl"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}(),A=function(e){var t=E(e);return{hue:function(e){return S.call(this,e)},darken:function(e){return x.call(this,e)},lighten:function(e){return T.call(this,e)},analogous:function(e,t){return N.call(this,e,t)},readable:function(e){return k.call(this,e)},diff:function(e){return C.call(this,e)},contrast:function(e,t){return L.call(this,e,t)},hex:function(){return t?"#"+g(t):null},toRgb:function(){return t},isValid:function(){return t?!0:!1},rgb:function(){return t?"rgb("+[s(t.r),s(t.g),s(t.b)].join(", ")+")":null},rgba:function(e){return t?"rgba("+[s(t.r),s(t.g),s(t.b),f(e)?1:v(e)].join(", ")+")":null},toHsl:function(){return b(t)},hsl:function(){var e=b(t);return t?"hsl("+e.h+", "+e.s+"%, "+e.l+"%)":null}}};typeof n!="undefined"&&n.exports?n.exports=A:(global=function(){return this}(),global.SC=global.SC||{},global.SC.color=A)})()}),
define("views/listen/time-indicator",["require","exports","module","underscore","lib/helpers/datetime-helper","lib/views/progress-bar","views/listen/time-indicator.tmpl","views/listen/time-indicator.css"],function(e,t,n){var r=e("underscore"),i=e("lib/helpers/datetime-helper"),s=e("lib/views/progress-bar"),o=1e3/60,u=n.exports=s.extend({template:e("views/listen/time-indicator.tmpl"),css:e("views/listen/time-indicator.css"),className:"timeIndicator",element2selector:{current:".timeIndicator__current"},setup:function(){s.prototype.setup.apply(this,arguments),this._isScrubbing=!1,this.updateTimeDisplay=r.throttle(this.updateTimeDisplay.bind(this),o)},getTemplateData:function(e){e.timecode=i.timecode(this.model.getMediaDuration())},manualProgress:function(e){this.updateTimeDisplay(e*this.model.duration())},updateProgress:function(e){this._isScrubbing||this.updateTimeDisplay(e)},toggleScrubbing:function(e){this._isScrubbing=e},updateTimeDisplay:function(e){var t=e?e:this.model.currentTime();t=Math.floor(t/1e3+.1)*1e3,this.getElement("current")[0].innerHTML=i.timecode(t)}})}),
define("views/listen/scrubber",["require","exports","module","lib/views/mixins/draggable","lib/event-bus","models/sound","lib/view"],function(e,t,n){function a(){i.trigger("scrub:start"),this.bubble("scrubStart")}function f(e){this.bubble("scrub",{delta:e.data.delta})}function l(){i.trigger("scrub:end"),this.bubble("scrubEnd")}var r=e("lib/views/mixins/draggable"),i=e("lib/event-bus"),s=e("models/sound"),o=e("lib/view"),u=n.exports=o.extend(r,{className:"scrubber g-box-full",template:function(){return""},ModelClass:s,events:{"draggable-start":a,"draggable-drag":f,"draggable-end":l},setup:function(){this.el.style.background="rgba(0,0,0,0)"}})}),
define("lib/helpers/datetime-helper",["require","exports","module","underscore","lib/lingua"],function(e,t,n){var r=e("underscore"),i=e("lib/lingua"),s=1e3,o=6e4,u=36e5,a={inWords:!1},f=n.exports={timecode:function(e,t){var n,f;return t=t||{},t=r.defaults(t,a),isNaN(e)?e:(n=[],f={h:Math.floor(e/u),m:Math.floor(e/o%60),s:Math.floor(e/s%60)},t.inWords?(f.h>0&&n.push(i.tp("1 hour","%d hours",f.h)),f.m>0&&n.push(i.tp("1 minute","%d minutes",f.m)),(f.s>0||f.m===0&&f.h===0)&&n.push(i.tp("1 second","%d seconds",f.s)),n.join(" ")):(f.h>0&&n.push(f.h),n.push(f.m<10&&f.h>0?"0"+f.m:f.m,f.s<10?"0"+f.s:f.s),n.join(":")))}}}),
define("lib/views/mixins/deferred-images",["require","exports","module","$","underscore","config","lib/css-transitions","lib/helpers/image-helper","lib/mixin"],function(e,t,n){function v(){this.storeDeferredImages(),h||(h=!0,p=i.throttle(m.bind(this),f),r(document).on("scroll",p),p()),p()}function m(){i.each(l,function(e,t){if(e.loading){delete l[t];return}y()+window.innerHeight+c>=e.top&&g(e,t)},this)}function g(e){var t=e.element,n=t.getAttribute("data-src");e.loading=!0,u.load(n).done(function(){var e=r(t);t.tagName==="IMG"?t.src=n:t.style.backgroundImage="url("+n+")",e.hasClass("image__defer")&&(e.removeClass("image__defer"),t.removeAttribute("data-src"),o(t))})}function y(){var e=s.get("appView").nativeScrollEl;return e?e[0].scrollTop:window.pageYOffset}var r=e("$"),i=e("underscore"),s=e("config"),o=e("lib/css-transitions").fadeIn,u=e("lib/helpers/image-helper"),a=e("lib/mixin"),f=300,l={},c=window.innerHeight/2,h=!1,p,d=n.exports=new a({after:{renderDecorate:function(){this.whenInserted().done(v.bind(this))}},storeDeferredImages:function(){this.$(".image__defer").each(function(e){var t=i.uniqueId();l[t]={top:e.getBoundingClientRect().top+window.pageYOffset,element:e,loading:!1}})}})}),
define("views/sound/sound-badge.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".soundBadge .soundBadge__playing{display:none}.soundBadge.playing .soundBadge__playing{display:block}.soundBadge.playing .soundBadge__indicator{display:none}.soundBadge .soundBadge__artwork{position:relative}.soundBadge .soundBadge__artwork::after{display:none;content:'';position:absolute;width:23px;height:20px;background-size:23px 20px;background-image:url(https://m.soundcloud.com/assets/images/go-plus-tag-5a7a7f9f.svg);top:-5px;right:-5px}.soundBadge.go .soundBadge__artwork::after{display:block}")),data=null}),
define("views/sound/sound-badge.tmpl",["vendor/handlebars-runtime","views/stats/sound-stats","lib/views/promoted"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){return" g-badge-disabled"}function c(e,t){return" g-badge-title-disabled"}function h(e,t){var r="";return r+=' <div class="g-icon soundBadge__indicator g-badge-geoblocked-indicator">'+u(n.$t.call(e,"Not available in your country",{hash:{},data:t}))+"</div> ",r}function p(e,t){var r="",i;r+=" ",i=n["if"].call(e,e&&e.isReposted,{hash:{},inverse:a.program(10,v,t),fn:a.program(8,d,t),data:t});if(i||i===0)r+=i;return r+=" ",r}function d(e,t){var r="";return r+=' <div class="g-icon soundBadge__indicator g-badge-reposted-indicator">'+u(n.$t.call(e,"Reposted by [[username]]",{hash:{username:e&&e.layoutUsername},data:t}))+"</div> ",r}function v(e,t){var r="";return r+=' <div class="soundBadge__indicator g-badge-stats">'+u(n.$view.call(e,"views/stats/sound-stats",{hash:{resource_id:e&&e._resource_id},data:t}))+"</div> ",r}function m(e,t){var r="";return r+=' <div class="g-badge-snippet"> <span class="sc-snippet-badge sc-snippet-badge-medium sc-snippet-badge-grey">'+u(n.$t.call(e,"Preview",{hash:{_context:"track",_comment:"An audio snippet of a track"},data:t}))+"</span> </div> ",r}function g(e,t){var n="",r;return n+=' <div class="g-badge-timecode">'+u((r=e&&e.timecode,typeof r===f?r.apply(e):r))+"</div> ",n}function y(e,t){var r="";return r+=" "+u(n.$view.call(e,"lib/views/promoted",{hash:{},data:t}))+" ",r}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u=this.escapeExpression,a=this,f="function";s+='<a class="g-badge-link',o=n["if"].call(t,t&&t.isBlocked,{hash:{},inverse:a.noop,fn:a.program(1,l,i),data:i});if(o||o===0)s+=o;s+='" href="'+u(n.$route.call(t,"listen",t,{hash:{},data:i}))+'"> <div class="sc-media-left soundBadge__artwork"> '+u(n.$image.call(t,t,{hash:{size:60,defer:!0},data:i}))+' </div> <div class="sc-media g-badge-info"> <h2 class="g-badge-username g-font-14 sc-truncate">'+u((o=(o=t&&t.user,o==null||o===!1?o:o.username),typeof o===f?o.apply(t):o))+'</h2> <h3 class="g-badge-title g-font-14 sc-truncate',o=n["if"].call(t,t&&t.isBlocked,{hash:{},inverse:a.noop,fn:a.program(3,c,i),data:i});if(o||o===0)s+=o;s+='">'+u((o=t&&t.title,typeof o===f?o.apply(t):o))+"</h3> ",o=n["if"].call(t,t&&t.isBlocked,{hash:{},inverse:a.program(7,p,i),fn:a.program(5,h,i),data:i});if(o||o===0)s+=o;s+=' <div class="g-icon soundBadge__playing g-badge-playing-indicator">'+u(n.$t.call(t,"Now playing",{hash:{},data:i}))+"</div> ",o=n["if"].call(t,t&&t.isSnippetized,{hash:{},inverse:a.program(14,g,i),fn:a.program(12,m,i),data:i});if(o||o===0)s+=o;s+=" </div> ",o=n["if"].call(t,t&&t.is_promoted,{hash:{},inverse:a.noop,fn:a.program(16,y,i),data:i});if(o||o===0)s+=o;return s+="\n</a>\n",s})}),
define("lib/views/progress-bar",["require","exports","module","underscore","$","models/sound","lib/view","lib/window-events"],function(e,t,n){function p(e){var t=e?"on":"off";a[t]("pointerup",w,this)[t]("pointerdown",b,this),u[t]("resize:debounced",N,this)[t]("resize:debounced",this.getWidth.bind(this,!0),this),this.model[t]("finish",g,this)[t]("seeked",m,this)[t]("manually-seeked",m,this)[t]("play",v,this)[t]("pause",d,this)}function d(){T.call(this)}function v(){x.call(this)}function m(){y.call(this)}function g(){y.call(this)}function y(){var e=this.model.currentTime();if(this.disposed||this.isUserScrubbing&&!e)return;this.playedProgress=e?E.call(this,e):this.getPlayedProgress(),this.updateProgress(e)}function b(){this.isUserScrubbing=!0}function w(){r.delay(function(){this.isUserScrubbing=!1}.bind(this),c)}function E(e){return e/this.model.duration()}function S(e){var t=this._throttleTime,n;!e&&!this.isUserScrubbing&&y.call(this),n=Math.max(f,t&&t-this.model.currentTime()%t),this._throttleTimeout=setTimeout(S.bind(this,this.isUserScrubbing),n)}function x(){this.model.isPlaying()&&(this._throttleTime||N.call(this),this._throttleTimeout||S.call(this))}function T(){clearTimeout(this._throttleTimeout),this._throttleTimeout=null}function N(){if(this.disposed)return;var e=this.el.clientWidth,t;e!==this._lastContainerSize&&(this._lastContainerSize=e,t=this.model.duration(),this._throttleTime=Math.max(f,Math.floor(t/e)),this._throttleTime=Math.min(this._throttleTime,l))}var r=e("underscore"),i=e("$"),s=e("models/sound"),o=e("lib/view"),u=e("lib/window-events"),a=i(document),f=50,l=250,c=300,h=n.exports=o.extend({ModelClass:s,setup:function(){this.loadedProgress=this.getLoadedProgress(),this.playedProgress=this.getPlayedProgress(),this.isFullyLoaded=!1,this.isUserScrubbing=!1,p.call(this,!0)},dispose:function(){p.call(this,!1)},renderDecorate:function(){x.call(this)},teardown:function(){T.call(this)},updateProgress:i.noop,getLoadedProgress:function(){return this.model.loadProgress()},getPlayedProgress:function(){return this.model.currentTime()},calculateProgressPixels:function(e){return Math.floor(this.getWidth()*e)},getWidth:function(e){return e=this.el.parentNode?e:!0,this._width=e?this.el.offsetWidth:this._width||this.el.offsetWidth,this._width}})}),
define("views/listen/time-indicator.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+='<div class="timeIndicator__container"> <span class="timeIndicator__current timeIndicator__text">0.00</span> <span class="timeIndicator__divider timeIndicator__text">|</span> <span class="timeIndicator__total timeIndicator__text">'+a((o=t&&t.timecode,typeof o===u?o.apply(t):o))+"</span>\n</div>\n",s})}),
define("views/listen/time-indicator.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".timeIndicator__container{background:rgba(0,0,0,.8);height:20px;line-height:20px;font-size:0;white-space:nowrap}.timeIndicator__current{color:#fff}.timeIndicator__text{font-size:12px;transition:font-size .15s cubic-bezier(.51,.37,.61,1.6)}.timeIndicator__current,.timeIndicator__total{padding:0 5px}.timeIndicator__divider,.timeIndicator__total{color:#999}")),data=null}),
define("lib/views/mixins/draggable",["require","exports","module","$","lib/animation","lib/mixin","lib/window-events"],function(e,t,n){function f(e){this.el=e,this.width=null,this.coords=null,this.reset(),this.onPointerMove=p.bind(this),this.onPointerUp=d.bind(this),this.onPointerDown=h.bind(this),l.call(this,!0)}function l(e){var t=e?"on":"off";this.el[t?"addEventListener":"removeEventListener"]("pointerdown",this.onPointerDown),o[t?"on":"off"]("resize:debounced",v,this)}function c(e){var t=e?"on":"off";u[t]("pointerup",this.onPointerUp)[t]("pointermove",this.onPointerMove)}function h(e){this.kineticMoveAnimation&&this.kineticMoveAnimation.reject(),this.dispatchEvent("start"),this.dispatchEvent("drag",0),this.lastPointerX=e.x,c.call(this,!0)}function p(e){e.maskedEvent?e.maskedEvent.preventDefault():e.preventDefault();var t=e.x,n=this.lastPointerX-t;this.startMoveTimestamp=this.startMoveTimestamp||Date.now(),this.deltas.push(n),this.lastPointerX=t,(n>.01||n<-0.01)&&this.dispatchEvent("drag",n)}function d(){var e,t,n,r,s=0;r=this.deltas.length?this.deltas[this.deltas.length-1]:0,e=r>0?1:-1,t=this.deltas.reduce(function(e,t){return e+Math.abs(t)},0),n=t/this.deltas.length,n<3&&(s=n),this.kineticMoveAnimation=i.animateValue(a,s,n*1.3,"ease-out-cubic").progress(function(t,n){var r=e*(t-n);this.dispatchEvent("drag",r)}.bind(this)).always(function(){this.dispatchEvent("end"),this.reset()}.bind(this)),c.call(this,!1)}function v(){this.width=null,this.coords=null}var r=e("$"),i=e("lib/animation"),s=e("lib/mixin"),o=e("lib/window-events"),u=r(document),a=250;n.exports=new s({before:{setup:function(){this._draggableEl=new f(this.el)},dispose:function(){this._draggableEl.dispose(),delete this._draggableEl}}}),f.prototype={constructor:f,reset:function(){this.deltas=[],this.lastPointerX=0,this.startMoveTimestamp=null,this.kineticMoveAnimation=null},getWidth:function(){return this.width=this.width||this.el.offsetWidth,this.width},dispose:function(){l.call(this,!1)},dispatchEvent:function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent("draggable-"+e,!0,!0,{}),t!==void 0&&(n.data={delta:t/this.getWidth()}),this.el.dispatchEvent(n)}}}),
define("views/stats/sound-stats",["require","exports","module","models/sound","lib/views/mixins/stats","lib/view"],function(e,t,n){var r=e("models/sound"),i=e("lib/views/mixins/stats"),s=e("lib/view"),o=n.exports=s.extend(i,{ModelClass:r,defaults:{resource_id:null,resource_type:"sound"},requiredAttributes:["playback_count"],displayStats:["playback_count"]})}),
define("lib/views/promoted",["require","exports","module","lib/view","lib/views/promoted.css"],function(e,t,n){var r=e("lib/view"),i=n.exports=r.extend({className:"promotedText g-font-12",css:e("lib/views/promoted.css"),template:function(e){return"Promoted"+(e.promoter?" by "+e.promoter:"")},getTemplateData:function(e){var t=this.getContextData();e.promoter=t.promoted_by&&t.promoted_by.username}})}),
define("lib/animation",["require","exports","module","$"],function(e,t,n){function u(e,t){var n=r.Deferred();return e.removeClass("g-opacity-transition").css({opacity:t?0:1}).addClass("g-opacity-transition").css({opacity:t?1:0}),a(s).progress(n.notify).done(function(){e.removeClass("g-opacity-transition"),n.resolve()}),n}function a(e){var t=r.Deferred(),n=Date.now(),i,s,o;return o=setInterval(function(){s=Date.now()-n,i=Math.min(1,s/e),t.notify(i),i===1&&(t.resolve(),clearInterval(o))},16),t.fail(function(){clearInterval(o)}),t}function f(e,t,n,r){return n*e/r+t}function l(e,t,n,r){return n*(e/=r)*e+t}function c(e,t,n,r){return-n*(e/=r)*(e-2)+t}function h(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t}function p(e,t,n,r){return n*(e/=r)*e*e+t}function d(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}var r=e("$"),i={linear:f,"ease-in":l,"ease-out":c,"ease-in-out":h,"ease-in-cubic":p,"ease-out-cubic":d},s=200,o=n.exports={fadeOut:function(e,t){return u(e,!1,t)},fadeIn:function(e,t){return u(e,!0,t)},animateValue:function(e,t,n,s){var o=r.Deferred(),u=n-t,f=a(e),l=i[s]||i.linear,c=t;return u?(f.progress(function(n){var r=e*n,i=l(r,t,u,e);o.notify(i,c),c=i}).done(o.resolve),o.fail(f.reject),o):o.resolve()}}}),
define("lib/views/mixins/stats",["require","exports","module","underscore","lib/helpers/count-helper","lib/lingua","lib/mixin","lib/views/mixins/stats.tmpl","lib/views/mixins/stats.css"],function(e,t,n){function a(e,t){var n;switch(t){case"track_count":n=s.tp("1 track","%d tracks",e,null,{comment:"How many tracks in playlist there are"});break;case"playback_count":n=s.tp("1 play","%d plays",e,null,{comment:"How many times track/playlist was played"});break;case"followers_count":n=s.tp("1 follower","%d followers",e,null,{comment:"How many followers user has"})}return{capped:i.render(e),full:n}}var r=e("underscore"),i=e("lib/helpers/count-helper"),s=e("lib/lingua"),o=e("lib/mixin"),u=n.exports=new o({requires:["requiredAttributes"],defaults:{resource_id:null,resource_type:null,displayStats:[]},override:{tagName:"ul",className:"statsContainer",template:e("lib/views/mixins/stats.tmpl"),css:e("lib/views/mixins/stats.css")},before:{renderDecorate:function(){this.el.setAttribute("aria-label",this.options.resource_type+" stats")},getTemplateData:function(e){r.intersection(this.getObservedAttributes(),this.displayStats).forEach(function(t){var n=e[t];n&&(e[t+"_texts"]=a(n,t))})}}})}),
define("lib/views/promoted.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".promotedText{color:#666;background:url(https://m.soundcloud.com/assets/images/ldpi/promo_indicator-c218969d.png) left center no-repeat;background-size:12px 10px;padding-left:20px;margin-top:8px}")),data=null}),
define("lib/views/mixins/stats.tmpl",["vendor/handlebars-runtime"],function(){return require("vendor/handlebars-runtime").template(function(e,t,n,r,i){function l(e,t){var r="",i;return r+=' <li title="'+a((i=(i=e&&e.playback_count_texts,i==null||i===!1?i:i.full),typeof i===u?i.apply(e):i))+'" class="g-icon statsItem statsItem__plays"> '+a(n.$a11y.call(e,{hash:{visible:(i=e&&e.playback_count_texts,i==null||i===!1?i:i.capped),screenreader:(i=e&&e.playback_count_texts,i==null||i===!1?i:i.full)},data:t}))+" </li>\n",r}function c(e,t){var r="",i;return r+=' <li title="'+a((i=(i=e&&e.followers_count_texts,i==null||i===!1?i:i.full),typeof i===u?i.apply(e):i))+'" class="g-icon statsItem statsItem__followers"> '+a(n.$a11y.call(e,{hash:{visible:(i=e&&e.followers_count_texts,i==null||i===!1?i:i.capped),screenreader:(i=e&&e.followers_count_texts,i==null||i===!1?i:i.full)},data:t}))+" </li>\n",r}function h(e,t){var n="",r;return n+=' <li title="'+a((r=(r=e&&e.track_count_texts,r==null||r===!1?r:r.full),typeof r===u?r.apply(e):r))+'" class="g-icon statsItem statsItem__tracks"> '+a((r=(r=e&&e.track_count_texts,r==null||r===!1?r:r.full),typeof r===u?r.apply(e):r))+" </li>\n",n}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression,f=this;o=n["if"].call(t,t&&t.playback_count_texts,{hash:{},inverse:f.noop,fn:f.program(1,l,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.followers_count_texts,{hash:{},inverse:f.noop,fn:f.program(3,c,i),data:i});if(o||o===0)s+=o;s+="\n",o=n["if"].call(t,t&&t.track_count_texts,{hash:{},inverse:f.noop,fn:f.program(5,h,i),data:i});if(o||o===0)s+=o;return s+="\n",s})}),
define("lib/views/mixins/stats.css",["require","exports","module","css"],function(e,t,n,r){n.exports=r.stringToStyleElement(r.transform(".statsContainer{font-size:0}.statsItem{overflow:hidden;display:inline-block;color:#999;margin:0 0 0 8px;padding:0 0 0 8px;border-left:1px solid #999;font-size:12px;height:12px}.statsItem:first-child{margin:0;padding:0;border:0}.statsItem__plays:before{width:8px;height:10px;background-image:url(https://m.soundcloud.com/assets/images/ldpi/badge/plays-abecd0c3.png);background-size:100% auto}.statsItem__followers:before{width:14px;height:10px;background-image:url(https://m.soundcloud.com/assets/images/ldpi/badge/followers-abecd0c3.png);background-size:100% auto}.statsItem__timecode{padding-left:4px}.statsItem__tracks:before{display:none}")),data=null})</script><script>require(['lib/lingua'],function(L){ L.initializeFromBasicSettings(); require(['application', '$'],function(A, $){ window.$ = $; A.start('1504794227',{"_prefix":"https://m.soundcloud.com","layouts/activate":"/assets/layouts/activate-ZDsf-efe008f7.js","layouts/consumer-premium":"/assets/layouts/consumer-premium-568g-78945ee2.js","layouts/error":"/assets/layouts/error-goUL-439e16e5.js","layouts/home":"/assets/layouts/home-Q7u0-fd5e6fdc.js","layouts/messages":"/assets/layouts/messages-60JI-439e16e5.js","layouts/mobile-apps":"/assets/layouts/mobile-apps-ET71-f6723e64.js","layouts/not-implemented":"/assets/layouts/not-implemented-s76H-02e51f22.js","layouts/password-reset-success":"/assets/layouts/password-reset-success-G7cY-b92ffee8.js","layouts/people-directory":"/assets/layouts/people-directory-AXkh-df78e885.js","layouts/playlist":"/assets/layouts/playlist-XVuR-93f7c2b3.js","layouts/premium":"/assets/layouts/premium-mSDa-537441a2.js","layouts/search":"/assets/layouts/search-t8Y9-d55e229d.js","layouts/static-page":"/assets/layouts/static-page-5Qmq-4c0fb937.js","layouts/unsubscribed":"/assets/layouts/unsubscribed-7rKD-8570968a.js","layouts/user-profile":"/assets/layouts/user-profile-nqMx-fd5e6fdc.js"}); }); function getParameterByName(name) { name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]'); var regex = new RegExp('[\\?&]' + name + '=([^&#]*)'), results = regex.exec(location.search); return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' ')); }});</script></body></html>